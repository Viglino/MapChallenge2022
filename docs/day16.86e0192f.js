function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},i={},s=t.parcelRequirecc54;null==s&&((s=function(e){if(e in r)return r[e].exports;if(e in i){var t=i[e];delete i[e];var s={id:e,exports:{}};return r[e]=s,t.call(s.exports,s,s.exports),s.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){i[e]=t},t.parcelRequirecc54=s);var o=s("6gELa"),a=s("42VYg");var n=s("9AVh1"),l=s("eJ4LZ"),d=s("jZquI"),u=s("6BjcK"),g=s("gpSXC"),h=s("7f9mA"),c=s("gzr8q"),p=s("a6roo"),f=s("9YraL");class m extends a.default{constructor(e){e=e||{};const t=Object.assign({},e.params),r=!("TRANSPARENT"in t)||t.TRANSPARENT;super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:!r,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:e.zDirection}),this.gutter_=void 0!==e.gutter?e.gutter:0,this.params_=t,this.v13_=!0,this.serverType_=e.serverType,this.hidpi_=void 0===e.hidpi||e.hidpi,this.tmpExtent_=(0,d.createEmpty)(),this.updateV13_(),this.setKey(this.getKeyForParams_())}getFeatureInfoUrl(e,t,r,i){const s=(0,c.get)(r),o=this.getProjection();let a=this.getTileGrid();a||(a=this.getTileGridForProjection(s));const n=a.getZForResolution(t,this.zDirection),l=a.getTileCoordForCoordAndZ(e,n);if(a.getResolutions().length<=l[0])return;let h=a.getResolution(l[0]),p=a.getTileCoordExtent(l,this.tmpExtent_),f=(0,u.toSize)(a.getTileSize(l[0]),this.tmpSize);const m=this.gutter_;0!==m&&(f=(0,u.buffer)(f,m,this.tmpSize),p=(0,d.buffer)(p,h*m,p)),o&&o!==s&&(h=(0,g.calculateSourceResolution)(o,s,e,h),p=(0,c.transformExtent)(p,s,o),e=(0,c.transform)(e,s,o));const S={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object.assign(S,this.params_,i);const E=Math.floor((e[0]-p[0])/h),R=Math.floor((p[3]-e[1])/h);return S[this.v13_?"I":"X"]=E,S[this.v13_?"J":"Y"]=R,this.getRequestUrl_(l,f,p,1,o||s,S)}getLegendUrl(e,t){if(void 0===this.urls[0])return;const r={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===t||void 0===t.LAYER){const e=this.params_.LAYERS;if(!(!Array.isArray(e)||1===e.length))return;r.LAYER=e}if(void 0!==e){const t=this.getProjection()?this.getProjection().getMetersPerUnit():1,i=28e-5;r.SCALE=e*t/i}return Object.assign(r,t),(0,n.appendParams)(this.urls[0],r)}getGutter(){return this.gutter_}getParams(){return this.params_}getRequestUrl_(e,t,r,i,s,o){const a=this.urls;if(!a)return;if(o.WIDTH=t[0],o.HEIGHT=t[1],o[this.v13_?"CRS":"SRS"]=s.getCode(),"STYLES"in this.params_||(o.STYLES=""),1!=i)switch(this.serverType_){case"geoserver":const e=90*i+.5|0;"FORMAT_OPTIONS"in o?o.FORMAT_OPTIONS+=";dpi:"+e:o.FORMAT_OPTIONS="dpi:"+e;break;case"mapserver":o.MAP_RESOLUTION=90*i;break;case"carmentaserver":case"qgis":o.DPI=90*i;break;default:(0,l.assert)(!1,52)}const d=s.getAxisOrientation(),u=r;if(this.v13_&&"ne"==d.substr(0,2)){let e;e=r[0],u[0]=r[1],u[1]=e,e=r[2],u[2]=r[3],u[3]=e}let g;if(o.BBOX=u.join(","),1==a.length)g=a[0];else{g=a[(0,p.modulo)((0,f.hash)(e),a.length)]}return(0,n.appendParams)(g,o)}getTilePixelRatio(e){return this.hidpi_&&void 0!==this.serverType_?e:1}getKeyForParams_(){let e=0;const t=[];for(const r in this.params_)t[e++]=r+"-"+this.params_[r];return t.join("/")}updateParams(e){Object.assign(this.params_,e),this.updateV13_(),this.setKey(this.getKeyForParams_())}updateV13_(){const e=this.params_.VERSION||"1.3.0";this.v13_=(0,h.compareVersions)(e,"1.3")>=0}tileUrlFunction(e,t,r){let i=this.getTileGrid();if(i||(i=this.getTileGridForProjection(r)),i.getResolutions().length<=e[0])return;1==t||this.hidpi_&&void 0!==this.serverType_||(t=1);const s=i.getResolution(e[0]);let o=i.getTileCoordExtent(e,this.tmpExtent_),a=(0,u.toSize)(i.getTileSize(e[0]),this.tmpSize);const n=this.gutter_;0!==n&&(a=(0,u.buffer)(a,n,this.tmpSize),o=(0,d.buffer)(o,s*n,o)),1!=t&&(a=(0,u.scale)(a,t,this.tmpSize));const l={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return Object.assign(l,this.params_),this.getRequestUrl_(e,a,o,t,r,l)}}var S=m,E=s("eEuqc"),R=s("hddSm"),_=s("rnKfx"),T=s("3HxCM"),O=s("3xROf"),v=s("1B70O");(0,s("jZUWm").default)(e('<div> <h2> Day 16: Minimal </h2> <p> Minimal map need a <a href="http://viglino.github.io/ol-ext/doc/doc-pages/ol.control.Legend.html" target="_new"> ol-ext control legend </a>... </p> </div>')),v.default.getView().setZoom(9),v.default.getView().setCenter([259798,5931906]),v.default.addControl(new(0,R.default));const A=new(0,o.default)({layer:"GEOGRAPHICALGRIDSYSTEMS.PLANIGNV2",baseLayer:!0,visible:!1});v.default.addLayer(A);const I=new(0,E.default)({title:"Cartes géologiques",baseLayer:!0,extent:[-20037508.342789244,-238107693.26496765,20037508.342789244,238107693.26496765],queryable:!1,abstract:"Cartes géologiques",minResolution:3.1750000000000003,maxResolution:3527.777777777778,source:new S({url:"http://geoservices.brgm.fr/geologie?language=fre&",projection:"EPSG:3857",attributions:["<a href='http://www.brgm.fr/'>&copy; Brgm</a>"],crossOrigin:"anonymous",params:{LAYERS:"GEOLOGIE",FORMAT:"image/png",VERSION:"1.3.0"}})});v.default.addLayer(I);var G=new(0,T.default)({title:"Legend",margin:5,maxWidth:300}),L=new(0,_.default)({legend:G,collapsed:!1});v.default.addControl(L);const b=new(0,T.default)({layer:I});b.addItem(new(0,O.default)({title:"Geology",src:"http://geoservices.brgm.fr/geologie?language=fre&version=1.3.0&service=WMS&request=GetLegendGraphic&sld_version=1.1.0&layer=GEOSERVICES_GEOLOGIE&format=image/png&STYLE=default"})),G.addItem(b);const y=new(0,T.default)({layer:A});y.addItem(new(0,O.default)({title:"Plan IGN",src:"https://www.geoportail.gouv.fr/depot/layers/GEOGRAPHICALGRIDSYSTEMS.PLANIGNV2/legendes/GEOGRAPHICALGRIDSYSTEMS.PLANIGNV2_16-legend.png"})),G.addItem(y);