function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},i={},a=t.parcelRequirecc54;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in i){var t=i[e];delete i[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){i[e]=t},t.parcelRequirecc54=a);var s=a("6gELa"),l=a("5Revz"),o=a("1B70O"),n=a("jZUWm");var u=a("37u5y"),d=a("7qsnY"),c=a("l9IGS"),h=a("2zf1Y"),p=a("7lBr2"),f=class extends p.default{constructor(e){e||(e=e||{});var t=!1;super({handleEvent:function(i){if(!r.getActive())return!0;switch(i.type){case"pointerdrag":t=!0;break;case"pointerup":t=!1;break;case"pointermove":t||r.handleMove_(i)}return!e.handleEvent||e.handleEvent(i)}});var r=this;this.setLayerFilter(e.layerFilter),e.layers&&e.layers.length&&this.setLayerFilter((function(t){return e.layers.indexOf(t)>=0})),this.setFeatureFilter(e.featureFilter),this.set("hitTolerance",e.hitTolerance),this.setCursor(e.cursor)}setMap(e){void 0!==this.previousCursor_&&this.getMap()&&(this.getMap().getTargetElement().style.cursor=this.previousCursor_,this.previousCursor_=void 0),super.setMap(e)}setActive(e){if(super.setActive(e),this.cursor_&&this.getMap()&&this.getMap().getTargetElement()){var t=this.getMap().getTargetElement().style;void 0!==this.previousCursor_&&(t.cursor=this.previousCursor_,this.previousCursor_=void 0)}}setCursor(e){!e&&void 0!==this.previousCursor_&&this.getMap()&&(this.getMap().getTargetElement().style.cursor=this.previousCursor_,this.previousCursor_=void 0),this.cursor_=e}setFeatureFilter(e){this.featureFilter_="function"==typeof e?e:function(){return!0}}setLayerFilter(e){this.layerFilter_="function"==typeof e?e:function(){return!0}}handleMove_(e){var t=this.getMap();if(t){var r,i,a=this,s=t.forEachFeatureAtPixel(e.pixel,(function(e,t){return a.featureFilter_.call(null,e,t)?(r=e,i=t,!0):(r=i=null,!1)}),{hitTolerance:this.get("hitTolerance"),layerFilter:a.layerFilter_});if(s&&this.dispatchEvent({type:"hover",feature:r,layer:i,coordinate:e.coordinate,pixel:e.pixel,map:e.map,originalEvent:e.originalEvent,dragging:e.dragging}),this.feature_===r&&this.layer_===i||(this.feature_=r,this.layer_=i,r?this.dispatchEvent({type:"enter",feature:r,layer:i,coordinate:e.coordinate,pixel:e.pixel,map:e.map,originalEvent:e.originalEvent,dragging:e.dragging}):this.dispatchEvent({type:"leave",coordinate:e.coordinate,pixel:e.pixel,map:e.map,originalEvent:e.originalEvent,dragging:e.dragging})),this.cursor_){var l=t.getTargetElement().style;s?l.cursor!=this.cursor_&&(this.previousCursor_=l.cursor,l.cursor=this.cursor_):void 0!==this.previousCursor_&&(l.cursor=this.previousCursor_,this.previousCursor_=void 0)}}}},g=a("5VeMq"),v=a("ejLRd"),m=a("4DafG"),y=a("2K2IB"),_=a("iQyfo"),E=class extends m.default{constructor(e){e=e||{};var t=_.default.create("DIV",{className:((e.className||"")+" ol-progress-bar ol-unselectable ol-control").trim()});super({element:t,target:e.target}),this._waiting=_.default.create("DIV",{html:e.label||"",className:"ol-waiting",parent:t}),this._bar=_.default.create("DIV",{className:"ol-bar",parent:t}),this._layerlistener=[],this.setLayers(e.layers)}setPercent(e){this._bar.style.width=100*(Number(e)||0)+"%",void 0===e?_.default.hide(this.element):_.default.show(this.element)}setLabel(e){this._waiting.innerHTML=e}setLayers(e){this._layerlistener.forEach((function(e){(0,v.unByKey)(e)})),this._layerlistener=[],this.setPercent();var t,r=0,i=0;(e instanceof y.default&&(e=[e]),e&&e.forEach)&&e.forEach(function(e){e instanceof y.default&&(this._layerlistener.push(e.getSource().on("tileloadstart",function(){r++,this.setPercent(i/r),clearTimeout(t)}.bind(this))),this._layerlistener.push(e.getSource().on(["tileloadend","tileloaderror"],function(){++i===r?(r=i=0,this.setPercent(1),t=setTimeout(this.setPercent.bind(this),300)):this.setPercent(i/r)}.bind(this))))}.bind(this))}};(0,n.default)(e("<div> <h2> Day 15: Food/drink </h2> <p> A map of France vineyards plots (IGN-France WFS). </p> </div>")),o.default.getView().setZoom(13),o.default.getView().setCenter([538143,5945936]);const b=new(0,s.default)({layer:"GEOGRAPHICALGRIDSYSTEMS.PLANIGNV2"});o.default.addLayer(b),s.default.register("Aire-Parcellaire",{layer:"Aire-Parcellaire",theme:"parcellaire",desc:"Selon les règlements européens n°110/2008 du 15 janvier 2008, n°1151/2012 du 21 novembre 2012 et n°1308/2013 de l’OCM , le cahier des charges des appellations définit l’aire géographique. Le terme de « délimitation parcellaire » désigne une aire qui repose sur les limites administratives du cadastre (les parcelles) et dont le maillage suffisamment fin permet de tenir compte de variations très localisées des éléments du milieu physique. Elle correspond à l'aire de production de la matière première. Elle est incluse dans l'aire géographique. Données produites par l'Institut National des Origines et la Qualité (INAO)",server:"https://data.geopf.fr/wmts",bbox:[-5.15047,41.3252,9.57054,51.0991],format:"image/png",minZoom:0,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Délimitation parcellaire AOC viticole",legend:["https://data.geopf.fr/annexes/ressources/legendes/LEGEND.jpg"]});const w=new(0,s.default)({layer:"Aire-Parcellaire",className:"AOC",maxZoom:12});o.default.addLayer(w),w.addFilter(new(0,l.default)({blend:"multiply"}));const C=new(0,d.default)({className:"AOC",source:new(0,u.default)({url:"https://wxs.ign.fr/parcellaire/geoportail/wfs",typeName:"AOC-VITICOLES:aire_parcellaire",tileZoom:12}),minZoom:12,style:new(0,c.default)({fill:new(0,h.default)({color:[192,92,92]})})});setTimeout((()=>o.default.addLayer(C)),1e3);const x=new f({cursor:"pointer",layers:[C]}),F=new(0,g.default)({positioning:"bottom-center"});o.default.addOverlay(F),o.default.addInteraction(x),x.on("leave",(()=>{F.hide()})),x.on("hover",(e=>{const t=e.feature;if(t){let r='<div class="img"></div><b>denom</b> crinao';["denom","crinao"].forEach((e=>{r=r.replace(e,t.get(e)||"")})),F.show(e.coordinate,r)}else F.hide()}));var L=new E({label:"Loading...",layers:[C]});o.default.addControl(L);