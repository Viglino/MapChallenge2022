var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},o=e.parcelRequirecc54;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in a){var o=a[e];delete a[e];var r={id:e,exports:{}};return t[e]=r,o.call(r.exports,r,r.exports),r.exports}var d=new Error("Cannot find module '"+e+"'");throw d.code="MODULE_NOT_FOUND",d}).register=function(e,t){a[e]=t},e.parcelRequirecc54=o),o.register("37u5y",(function(e,t){var a,r,d,i;a=e.exports,r="default",d=()=>c,Object.defineProperty(a,r,{get:d,set:i,enumerable:!0,configurable:!0});var n=o("20LS2"),l=o("gmEQj"),s=o("5NhYx"),u=o("kPMpK"),p=o("fkmMz"),g=class extends n.default{constructor(e){(e=e||{}).featureLimit||(e.featureLimit=1/0);var t=e.tileZoom||14,a={strategy:(0,l.tile)((0,s.createXYZ)({minZoom:t,maxZoom:t,tileSize:512}))},o=new(0,u.default),r=e.url+"?service=WFS&request=GetFeature&version="+(e.version||"1.1.0")+"&typename="+(e.typeName||"")+"&outputFormat=application/json";e.maxFeatures&&(r+="&maxFeatures="+e.maxFeatures+"&count="+e.maxFeatures);var d={loading:0,loaded:0};a.loader=function(t,a,i){d.loading===d.loaded&&(d.loading=d.loaded=0,this.getFeatures().length>e.maxFeatures&&(this.clear(),this.refresh())),d.loading++,this.dispatchEvent({type:"tileloadstart",loading:d.loading,loaded:d.loaded}),this._loadTile(r,t,i,o,d)},super(a),this.set("pagination",e.pagination)}_loadTile(e,t,a,o,r){var d=e+"&srsname="+a.getCode()+"&bbox="+t.join(",")+","+a.getCode();this.get("pagination")&&!/&startIndex/.test(e)&&(d+="&startIndex=0"),p.default.get({url:d,success:function(d){if(r.loaded++,d.error)this.dispatchEvent({type:"tileloaderror",error:d,loading:r.loading,loaded:r.loaded});else{var i=o.readFeatures(d,{featureProjection:a});i.length>0&&this.addFeatures(i);let n=d.numberReturned||0;/&startIndex/.test(e)&&(n+=parseInt(e.replace(/.*&startIndex=(\d*).*/,"$1")),e=e.replace(/&startIndex=(\d*)/,"")),n<d.totalFeatures?this.get("pagination")?(e+="&startIndex="+n,r.loaded--,this._loadTile(e,t,a,o,r)):(this.dispatchEvent({type:"overload",total:d.totalFeatures,returned:d.numberReturned}),this.dispatchEvent({type:"tileloadend",loading:r.loading,loaded:r.loaded})):this.dispatchEvent({type:"tileloadend",loading:r.loading,loaded:r.loaded})}}.bind(this),error:function(e){r.loaded++,this.dispatchEvent({type:"tileloaderror",error:e,loading:r.loading,loaded:r.loaded})}.bind(this)})}},c=g}));