function t(t){return t&&t.__esModule?t.default:t}function e(t,e,i,s){Object.defineProperty(t,e,{get:i,set:s,enumerable:!0,configurable:!0})}var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},n={},r=i.parcelRequirecc54;null==r&&((r=function(t){if(t in s)return s[t].exports;if(t in n){var e=n[t];delete n[t];var i={id:t,exports:{}};return s[t]=i,e.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,e){n[t]=e},i.parcelRequirecc54=r),r.register("2YyN3",(function(i,s){e(i.exports,"default",(()=>u));var n=r("2K2IB"),o=r("4wfAy"),a=r("l9IGS"),l=r("77Abf");const h="renderOrder";class c extends n.default{constructor(t){t=t||{};const e=Object.assign({},t);delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,super(e),this.declutter_=void 0!==t.declutter&&t.declutter,this.renderBuffer_=void 0!==t.renderBuffer?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=void 0!==t.updateWhileAnimating&&t.updateWhileAnimating,this.updateWhileInteracting_=void 0!==t.updateWhileInteracting&&t.updateWhileInteracting}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(h)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e){e.declutterTree||(e.declutterTree=new(t(o))(9)),this.getRenderer().renderDeclutter(e)}setRenderOrder(t){this.set(h,t)}setStyle(t){let e;if(void 0===t)e=a.createDefaultStyle;else if(null===t)e=null;else if("function"==typeof t)e=t;else if(t instanceof a.default)e=t;else if(Array.isArray(t)){const i=t.length,s=new Array(i);for(let e=0;e<i;++e){const i=t[e];i instanceof a.default?s[e]=i:s[e]=(0,l.toStyle)(i)}e=s}else e=(0,l.toStyle)(t);this.style_=e,this.styleFunction_=null===t?void 0:(0,a.toFunction)(this.style_),this.changed()}}var u=c})),r.register("4wfAy",(function(t,e){t.exports,t.exports=function(){function t(t,s,n,r,o){!function t(i,s,n,r,o){for(;r>n;){if(r-n>600){var a=r-n+1,l=s-n+1,h=Math.log(a),c=.5*Math.exp(2*h/3),u=.5*Math.sqrt(h*c*(a-c)/a)*(l-a/2<0?-1:1);t(i,s,Math.max(n,Math.floor(s-l*c/a+u)),Math.min(r,Math.floor(s+(a-l)*c/a+u)),o)}var d=i[s],f=n,g=r;for(e(i,n,s),o(i[r],d)>0&&e(i,n,r);f<g;){for(e(i,f,g),f++,g--;o(i[f],d)<0;)f++;for(;o(i[g],d)>0;)g--}0===o(i[n],d)?e(i,n,g):e(i,++g,r),g<=s&&(n=g+1),s<=g&&(r=g-1)}}(t,s,n||0,r||t.length-1,o||i)}function e(t,e,i){var s=t[e];t[e]=t[i],t[i]=s}function i(t,e){return t<e?-1:t>e?1:0}var s=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function n(t,e,i){if(!i)return e.indexOf(t);for(var s=0;s<e.length;s++)if(i(t,e[s]))return s;return-1}function r(t,e){o(t,0,t.children.length,e,t)}function o(t,e,i,s,n){n||(n=g(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(var r=e;r<i;r++){var o=t.children[r];a(n,t.leaf?s(o):o)}return n}function a(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function h(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function f(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function g(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function _(e,i,s,n,r){for(var o=[i,s];o.length;)if(!((s=o.pop())-(i=o.pop())<=n)){var a=i+Math.ceil((s-i)/n/2)*n;t(e,a,i,s,r),o.push(i,a,a,s)}}return s.prototype.all=function(){return this._all(this.data,[])},s.prototype.search=function(t){var e=this.data,i=[];if(!f(t,e))return i;for(var s=this.toBBox,n=[];e;){for(var r=0;r<e.children.length;r++){var o=e.children[r],a=e.leaf?s(o):o;f(t,a)&&(e.leaf?i.push(o):d(t,a)?this._all(o,i):n.push(o))}e=n.pop()}return i},s.prototype.collides=function(t){var e=this.data;if(!f(t,e))return!1;for(var i=[];e;){for(var s=0;s<e.children.length;s++){var n=e.children[s],r=e.leaf?this.toBBox(n):n;if(f(t,r)){if(e.leaf||d(t,r))return!0;i.push(n)}}e=i.pop()}return!1},s.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var s=this.data;this.data=i,i=s}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},s.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},s.prototype.clear=function(){return this.data=g([]),this},s.prototype.remove=function(t,e){if(!t)return this;for(var i,s,r,o=this.data,a=this.toBBox(t),l=[],h=[];o||l.length;){if(o||(o=l.pop(),s=l[l.length-1],i=h.pop(),r=!0),o.leaf){var c=n(t,o.children,e);if(-1!==c)return o.children.splice(c,1),l.push(o),this._condense(l),this}r||o.leaf||!d(o,a)?s?(i++,o=s.children[i],r=!1):o=null:(l.push(o),h.push(i),i=0,s=o,o=o.children[0])}return this},s.prototype.toBBox=function(t){return t},s.prototype.compareMinX=function(t,e){return t.minX-e.minX},s.prototype.compareMinY=function(t,e){return t.minY-e.minY},s.prototype.toJSON=function(){return this.data},s.prototype.fromJSON=function(t){return this.data=t,this},s.prototype._all=function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},s.prototype._build=function(t,e,i,s){var n,o=i-e+1,a=this._maxEntries;if(o<=a)return r(n=g(t.slice(e,i+1)),this.toBBox),n;s||(s=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,s-1))),(n=g([])).leaf=!1,n.height=s;var l=Math.ceil(o/a),h=l*Math.ceil(Math.sqrt(a));_(t,e,i,h,this.compareMinX);for(var c=e;c<=i;c+=h){var u=Math.min(c+h-1,i);_(t,c,u,l,this.compareMinY);for(var d=c;d<=u;d+=l){var f=Math.min(d+l-1,u);n.children.push(this._build(t,d,f,s-1))}}return r(n,this.toBBox),n},s.prototype._chooseSubtree=function(t,e,i,s){for(;s.push(e),!e.leaf&&s.length-1!==i;){for(var n=1/0,r=1/0,o=void 0,a=0;a<e.children.length;a++){var l=e.children[a],h=c(l),u=(d=t,f=l,(Math.max(f.maxX,d.maxX)-Math.min(f.minX,d.minX))*(Math.max(f.maxY,d.maxY)-Math.min(f.minY,d.minY))-h);u<r?(r=u,n=h<n?h:n,o=l):u===r&&h<n&&(n=h,o=l)}e=o||e.children[0]}var d,f;return e},s.prototype._insert=function(t,e,i){var s=i?t:this.toBBox(t),n=[],r=this._chooseSubtree(s,this.data,e,n);for(r.children.push(t),a(r,s);e>=0&&n[e].children.length>this._maxEntries;)this._split(n,e),e--;this._adjustParentBBoxes(s,n,e)},s.prototype._split=function(t,e){var i=t[e],s=i.children.length,n=this._minEntries;this._chooseSplitAxis(i,n,s);var o=this._chooseSplitIndex(i,n,s),a=g(i.children.splice(o,i.children.length-o));a.height=i.height,a.leaf=i.leaf,r(i,this.toBBox),r(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(i,a)},s.prototype._splitRoot=function(t,e){this.data=g([t,e]),this.data.height=t.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},s.prototype._chooseSplitIndex=function(t,e,i){for(var s,n,r,a,l,h,u,d=1/0,f=1/0,g=e;g<=i-e;g++){var _=o(t,0,g,this.toBBox),m=o(t,g,i,this.toBBox),x=(n=_,r=m,a=void 0,l=void 0,h=void 0,u=void 0,a=Math.max(n.minX,r.minX),l=Math.max(n.minY,r.minY),h=Math.min(n.maxX,r.maxX),u=Math.min(n.maxY,r.maxY),Math.max(0,h-a)*Math.max(0,u-l)),p=c(_)+c(m);x<d?(d=x,s=g,f=p<f?p:f):x===d&&p<f&&(f=p,s=g)}return s||i-e},s.prototype._chooseSplitAxis=function(t,e,i){var s=t.leaf?this.compareMinX:l,n=t.leaf?this.compareMinY:h;this._allDistMargin(t,e,i,s)<this._allDistMargin(t,e,i,n)&&t.children.sort(s)},s.prototype._allDistMargin=function(t,e,i,s){t.children.sort(s);for(var n=this.toBBox,r=o(t,0,e,n),l=o(t,i-e,i,n),h=u(r)+u(l),c=e;c<i-e;c++){var d=t.children[c];a(r,t.leaf?n(d):d),h+=u(r)}for(var f=i-e-1;f>=e;f--){var g=t.children[f];a(l,t.leaf?n(g):g),h+=u(l)}return h},s.prototype._adjustParentBBoxes=function(t,e,i){for(var s=i;s>=0;s--)a(e[s],t)},s.prototype._condense=function(t){for(var e=t.length-1,i=void 0;e>=0;e--)0===t[e].children.length?e>0?(i=t[e-1].children).splice(i.indexOf(t[e]),1):this.clear():r(t[e],this.toBBox)},s}()})),r.register("77Abf",(function(t,i){e(t.exports,"toStyle",(()=>u));var s=r("4lFOe"),n=r("2zf1Y"),o=r("ayeEa"),a=r("h6Aha"),l=r("d5AAH"),h=r("l9IGS"),c=r("kuKBR");function u(t){return new(0,h.default)({fill:d(t,""),stroke:f(t,""),text:g(t),image:_(t)})}function d(t,e){const i=t[e+"fill-color"];if(i)return new(0,n.default)({color:i})}function f(t,e){const i=t[e+"stroke-width"],s=t[e+"stroke-color"];if(i||s)return new(0,l.default)({width:i,color:s,lineCap:t[e+"stroke-line-cap"],lineJoin:t[e+"stroke-line-join"],lineDash:t[e+"stroke-line-dash"],lineDashOffset:t[e+"stroke-line-dash-offset"],miterLimit:t[e+"stroke-miter-limit"]})}function g(t){const e=t["text-value"];if(!e)return;return new(0,c.default)({text:e,font:t["text-font"],maxAngle:t["text-max-angle"],offsetX:t["text-offset-x"],offsetY:t["text-offset-y"],overflow:t["text-overflow"],placement:t["text-placement"],scale:t["text-scale"],rotateWithView:t["text-rotate-with-view"],rotation:t["text-rotation"],textAlign:t["text-align"],justify:t["text-justify"],textBaseline:t["text-baseline"],padding:t["text-padding"],fill:d(t,"text-"),backgroundFill:d(t,"text-background-"),stroke:f(t,"text-"),backgroundStroke:f(t,"text-background-")})}function _(t){const e=t["icon-src"],i=t["icon-img"];if(e||i){return new(0,o.default)({src:e,img:i,imgSize:t["icon-img-size"],anchor:t["icon-anchor"],anchorOrigin:t["icon-anchor-origin"],anchorXUnits:t["icon-anchor-x-units"],anchorYUnits:t["icon-anchor-y-units"],color:t["icon-color"],crossOrigin:t["icon-cross-origin"],offset:t["icon-offset"],displacement:t["icon-displacement"],opacity:t["icon-opacity"],scale:t["icon-scale"],rotation:t["icon-rotation"],rotateWithView:t["icon-rotate-with-view"],size:t["icon-size"],declutterMode:t["icon-declutter-mode"]})}const n=t["shape-points"];if(n){const e="shape-";return new(0,a.default)({points:n,fill:d(t,e),stroke:f(t,e),radius:t["shape-radius"],radius1:t["shape-radius1"],radius2:t["shape-radius2"],angle:t["shape-angle"],displacement:t["shape-displacement"],rotation:t["shape-rotation"],rotateWithView:t["shape-rotate-with-view"],scale:t["shape-scale"],declutterMode:t["shape-declutter-mode"]})}const r=t["circle-radius"];if(r){const e="circle-";return new(0,s.default)({radius:r,fill:d(t,e),stroke:f(t,e),displacement:t["circle-displacement"],scale:t["circle-scale"],rotation:t["circle-rotation"],rotateWithView:t["circle-rotate-with-view"],declutterMode:t["circle-declutter-mode"]})}}})),r.register("ayeEa",(function(t,i){e(t.exports,"default",(()=>d));var s=r("cw4dl"),n=r("50PZ9"),o=r("9yR4T"),a=r("lqNjm"),l=r("eJ4LZ"),h=r("9c0bz"),c=r("lVQul");class u extends o.default{constructor(t){const e=void 0!==(t=t||{}).opacity?t.opacity:1,i=void 0!==t.rotation?t.rotation:0,s=void 0!==t.scale?t.scale:1,r=void 0!==t.rotateWithView&&t.rotateWithView;super({opacity:e,rotation:i,scale:s,displacement:void 0!==t.displacement?t.displacement:[0,0],rotateWithView:r,declutterMode:t.declutterMode}),this.anchor_=void 0!==t.anchor?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==t.anchorOrigin?t.anchorOrigin:"top-left",this.anchorXUnits_=void 0!==t.anchorXUnits?t.anchorXUnits:"fraction",this.anchorYUnits_=void 0!==t.anchorYUnits?t.anchorYUnits:"fraction",this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null;const o=void 0!==t.img?t.img:null;this.imgSize_=t.imgSize;let u=t.src;(0,l.assert)(!(void 0!==u&&o),4),(0,l.assert)(!o||o&&this.imgSize_,5),void 0!==u&&0!==u.length||!o||(u=o.src||(0,c.getUid)(o)),(0,l.assert)(void 0!==u&&u.length>0,6);const d=void 0!==t.src?n.default.IDLE:n.default.LOADED;this.color_=void 0!==t.color?(0,a.asArray)(t.color):null,this.iconImage_=(0,h.get)(o,u,void 0!==this.imgSize_?this.imgSize_:null,this.crossOrigin_,d,this.color_),this.offset_=void 0!==t.offset?t.offset:[0,0],this.offsetOrigin_=void 0!==t.offsetOrigin?t.offsetOrigin:"top-left",this.origin_=null,this.size_=void 0!==t.size?t.size:null}clone(){const t=this.getScale();return new u({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(t)?t.slice():t,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;const e=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!e)return null;t=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(t[0]*=e[0]),"fraction"==this.anchorYUnits_&&(t[1]*=e[1])}if("top-left"!=this.anchorOrigin_){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),"top-right"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[0]=-t[0]+e[0]),"bottom-left"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}const e=this.getDisplacement(),i=this.getScaleArray();return[t[0]-e[0]/i[0],t[1]+e[1]/i[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if("top-left"!=this.offsetOrigin_){const e=this.getSize(),i=this.iconImage_.getSize();if(!e||!i)return null;t=t.slice(),"top-right"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[0]=i[0]-e[0]-t[0]),"bottom-left"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[1]=i[1]-e[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}listenImageChange(t){this.iconImage_.addEventListener(s.default.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(s.default.CHANGE,t)}}var d=u})),r.register("9c0bz",(function(t,i){e(t.exports,"get",(()=>f));var s=r("9LzRi"),n=r("cw4dl"),o=r("50PZ9"),a=r("lqNjm"),l=r("cgxQK"),h=r("1Guxd"),c=r("kUxvm");let u=null;class d extends s.default{constructor(t,e,i,s,n,r){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=s,this.canvas_={},this.color_=r,this.unlisten_=null,this.imageState_=n,this.size_=i,this.src_=e,this.tainted_}initializeImage_(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(void 0===this.tainted_&&this.imageState_===o.default.LOADED){u||(u=(0,l.createCanvasContext2D)(1,1)),u.drawImage(this.image_,0,0);try{u.getImageData(0,0,1,1),this.tainted_=!1}catch(t){u=null,this.tainted_=!0}}return!0===this.tainted_}dispatchChangeEvent_(){this.dispatchEvent(n.default.CHANGE)}handleImageError_(){this.imageState_=o.default.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=o.default.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],e=this.size_[1],i=(0,l.createCanvasContext2D)(t,e);i.fillRect(0,0,t,e),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===o.default.IDLE){this.image_||this.initializeImage_(),this.imageState_=o.default.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=(0,c.listenImage)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==o.default.LOADED)return;const e=this.image_,i=document.createElement("canvas");i.width=Math.ceil(e.width*t),i.height=Math.ceil(e.height*t);const s=i.getContext("2d");s.scale(t,t),s.drawImage(e,0,0),s.globalCompositeOperation="multiply",s.fillStyle=(0,a.asString)(this.color_),s.fillRect(0,0,i.width/t,i.height/t),s.globalCompositeOperation="destination-in",s.drawImage(e,0,0),this.canvas_[t]=i}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function f(t,e,i,s,n,r){let o=h.shared.get(e,s,r);return o||(o=new d(t,e,i,s,n,r),h.shared.set(e,s,r,o)),o}})),r.register("8vXOK",(function(t,i){e(t.exports,"default",(()=>c));var s=r("hycMe"),n=r("6sg4t"),o=r("1aWBL"),a=r("jODk1"),l=r("a0SEX");const h={Circle:a.default,Default:s.default,Image:n.default,LineString:o.default,Polygon:a.default,Text:l.default};var c=class{constructor(t,e,i,s){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=s,this.resolution_=i,this.buildersByZIndex_={}}finish(){const t={};for(const e in this.buildersByZIndex_){t[e]=t[e]||{};const i=this.buildersByZIndex_[e];for(const s in i){const n=i[s].finish();t[e][s]=n}}return t}getBuilder(t,e){const i=void 0!==t?t.toString():"0";let s=this.buildersByZIndex_[i];void 0===s&&(s={},this.buildersByZIndex_[i]=s);let n=s[e];if(void 0===n){n=new(0,h[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),s[e]=n}return n}}})),r.register("hycMe",(function(t,i){e(t.exports,"default",(()=>f));var s=r("2CzCP"),n=r("iweSO"),o=r("eGc18"),a=r("hlW0i"),l=r("jZquI"),h=r("aHG4Z"),c=r("kBSVF"),u=r("iTdJV");class d extends o.default{constructor(t,e,i,s){super(),this.tolerance=t,this.maxExtent=e,this.pixelRatio=s,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){const e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))}appendFlatPointCoordinates(t,e){const i=this.getBufferedMaxExtent(),s=this.tmpCoordinate_,n=this.coordinates;let r=n.length;for(let o=0,a=t.length;o<a;o+=e)s[0]=t[o],s[1]=t[o+1],(0,l.containsCoordinate)(i,s)&&(n[r++]=s[0],n[r++]=s[1]);return r}appendFlatLineCoordinates(t,e,i,s,r,o){const a=this.coordinates;let h=a.length;const c=this.getBufferedMaxExtent();o&&(e+=s);let u=t[e],d=t[e+1];const f=this.tmpCoordinate_;let g,_,m,x=!0;for(g=e+s;g<i;g+=s)f[0]=t[g],f[1]=t[g+1],m=(0,l.coordinateRelationship)(c,f),m!==_?(x&&(a[h++]=u,a[h++]=d,x=!1),a[h++]=f[0],a[h++]=f[1]):m===n.default.INTERSECTING?(a[h++]=f[0],a[h++]=f[1],x=!1):x=!0,u=f[0],d=f[1],_=m;return(r&&x||g===e+s)&&(a[h++]=u,a[h++]=d),h}drawCustomCoordinates_(t,e,i,s,n){for(let r=0,o=i.length;r<o;++r){const o=i[r],a=this.appendFlatLineCoordinates(t,e,o,s,!1,!1);n.push(a),e=o}return e}drawCustom(t,e,i,n){this.beginGeometry(t,e);const r=t.getType(),o=t.getStride(),a=this.coordinates.length;let l,h,c,d,f;switch(r){case"MultiPolygon":l=t.getOrientedFlatCoordinates(),d=[];const e=t.getEndss();f=0;for(let t=0,i=e.length;t<i;++t){const i=[];f=this.drawCustomCoordinates_(l,f,e[t],o,i),d.push(i)}this.instructions.push([s.default.CUSTOM,a,d,t,i,u.inflateMultiCoordinatesArray]),this.hitDetectionInstructions.push([s.default.CUSTOM,a,d,t,n||i,u.inflateMultiCoordinatesArray]);break;case"Polygon":case"MultiLineString":c=[],l="Polygon"==r?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),f=this.drawCustomCoordinates_(l,0,t.getEnds(),o,c),this.instructions.push([s.default.CUSTOM,a,c,t,i,u.inflateCoordinatesArray]),this.hitDetectionInstructions.push([s.default.CUSTOM,a,c,t,n||i,u.inflateCoordinatesArray]);break;case"LineString":case"Circle":l=t.getFlatCoordinates(),h=this.appendFlatLineCoordinates(l,0,l.length,o,!1,!1),this.instructions.push([s.default.CUSTOM,a,h,t,i,u.inflateCoordinates]),this.hitDetectionInstructions.push([s.default.CUSTOM,a,h,t,n||i,u.inflateCoordinates]);break;case"MultiPoint":l=t.getFlatCoordinates(),h=this.appendFlatPointCoordinates(l,o),h>a&&(this.instructions.push([s.default.CUSTOM,a,h,t,i,u.inflateCoordinates]),this.hitDetectionInstructions.push([s.default.CUSTOM,a,h,t,n||i,u.inflateCoordinates]));break;case"Point":l=t.getFlatCoordinates(),this.coordinates.push(l[0],l[1]),h=this.coordinates.length,this.instructions.push([s.default.CUSTOM,a,h,t,i]),this.hitDetectionInstructions.push([s.default.CUSTOM,a,h,t,n||i])}this.endGeometry(e)}beginGeometry(t,e){this.beginGeometryInstruction1_=[s.default.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[s.default.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const t=this.hitDetectionInstructions;let e;t.reverse();const i=t.length;let n,r,o=-1;for(e=0;e<i;++e)n=t[e],r=n[0],r==s.default.END_GEOMETRY?o=e:r==s.default.BEGIN_GEOMETRY&&(n[2]=e,(0,c.reverseSubArray)(this.hitDetectionInstructions,o,e),o=-1)}setFillStrokeStyle(t,e){const i=this.state;if(t){const e=t.getColor();i.fillStyle=(0,a.asColorLike)(e||h.defaultFillStyle)}else i.fillStyle=void 0;if(e){const t=e.getColor();i.strokeStyle=(0,a.asColorLike)(t||h.defaultStrokeStyle);const s=e.getLineCap();i.lineCap=void 0!==s?s:h.defaultLineCap;const n=e.getLineDash();i.lineDash=n?n.slice():h.defaultLineDash;const r=e.getLineDashOffset();i.lineDashOffset=r||h.defaultLineDashOffset;const o=e.getLineJoin();i.lineJoin=void 0!==o?o:h.defaultLineJoin;const l=e.getWidth();i.lineWidth=void 0!==l?l:h.defaultLineWidth;const c=e.getMiterLimit();i.miterLimit=void 0!==c?c:h.defaultMiterLimit,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0}createFill(t){const e=t.fillStyle,i=[s.default.SET_FILL_STYLE,e];return"string"!=typeof e&&i.push(!0),i}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[s.default.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,e){const i=t.fillStyle;"string"==typeof i&&t.currentFillStyle==i||(void 0!==i&&this.instructions.push(e.call(this,t)),t.currentFillStyle=i)}updateStrokeStyle(t,e){const i=t.strokeStyle,s=t.lineCap,n=t.lineDash,r=t.lineDashOffset,o=t.lineJoin,a=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=s||n!=t.currentLineDash&&!(0,c.equals)(t.currentLineDash,n)||t.currentLineDashOffset!=r||t.currentLineJoin!=o||t.currentLineWidth!=a||t.currentMiterLimit!=l)&&(void 0!==i&&e.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=s,t.currentLineDash=n,t.currentLineDashOffset=r,t.currentLineJoin=o,t.currentLineWidth=a,t.currentMiterLimit=l)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const e=[s.default.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,l.clone)(this.maxExtent),this.maxLineWidth>0)){const t=this.resolution*(this.maxLineWidth+1)/2;(0,l.buffer)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}var f=d})),r.register("2CzCP",(function(t,i){e(t.exports,"fillInstruction",(()=>n)),e(t.exports,"strokeInstruction",(()=>r)),e(t.exports,"beginPathInstruction",(()=>o)),e(t.exports,"closePathInstruction",(()=>a)),e(t.exports,"default",(()=>l));const s={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},n=[s.FILL],r=[s.STROKE],o=[s.BEGIN_PATH],a=[s.CLOSE_PATH];var l=s})),r.register("eGc18",(function(t,i){e(t.exports,"default",(()=>s));var s=class{drawCustom(t,e,i,s){}drawGeometry(t){}setStyle(t){}drawCircle(t,e){}drawFeature(t,e){}drawGeometryCollection(t,e){}drawLineString(t,e){}drawMultiLineString(t,e){}drawMultiPoint(t,e){}drawMultiPolygon(t,e){}drawPoint(t,e){}drawPolygon(t,e){}drawText(t,e){}setFillStrokeStyle(t,e){}setImageStyle(t,e){}setTextStyle(t,e){}}})),r.register("6sg4t",(function(t,i){e(t.exports,"default",(()=>a));var s=r("hycMe"),n=r("2CzCP");class o extends s.default{constructor(t,e,i,s){super(t,e,i,s),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,e){if(!this.image_)return;this.beginGeometry(t,e);const i=t.getFlatCoordinates(),s=t.getStride(),r=this.coordinates.length,o=this.appendFlatPointCoordinates(i,s);this.instructions.push([n.default.DRAW_IMAGE,r,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([n.default.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}drawMultiPoint(t,e){if(!this.image_)return;this.beginGeometry(t,e);const i=t.getFlatCoordinates(),s=t.getStride(),r=this.coordinates.length,o=this.appendFlatPointCoordinates(i,s);this.instructions.push([n.default.DRAW_IMAGE,r,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([n.default.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,e){const i=t.getAnchor(),s=t.getSize(),n=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=s[1],this.opacity_=t.getOpacity(),this.originX_=n[0],this.originY_=n[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=s[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e}}var a=o})),r.register("1aWBL",(function(t,i){e(t.exports,"default",(()=>l));var s=r("hycMe"),n=r("2CzCP"),o=r("aHG4Z");class a extends s.default{constructor(t,e,i,s){super(t,e,i,s)}drawFlatCoordinates_(t,e,i,s){const r=this.coordinates.length,o=this.appendFlatLineCoordinates(t,e,i,s,!1,!1),a=[n.default.MOVE_TO_LINE_TO,r,o];return this.instructions.push(a),this.hitDetectionInstructions.push(a),i}drawLineString(t,e){const i=this.state,s=i.strokeStyle,r=i.lineWidth;if(void 0===s||void 0===r)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([n.default.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,o.defaultLineDash,o.defaultLineDashOffset],n.beginPathInstruction);const a=t.getFlatCoordinates(),l=t.getStride();this.drawFlatCoordinates_(a,0,a.length,l),this.hitDetectionInstructions.push(n.strokeInstruction),this.endGeometry(e)}drawMultiLineString(t,e){const i=this.state,s=i.strokeStyle,r=i.lineWidth;if(void 0===s||void 0===r)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([n.default.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],n.beginPathInstruction);const o=t.getEnds(),a=t.getFlatCoordinates(),l=t.getStride();let h=0;for(let t=0,e=o.length;t<e;++t)h=this.drawFlatCoordinates_(a,h,o[t],l);this.hitDetectionInstructions.push(n.strokeInstruction),this.endGeometry(e)}finish(){const t=this.state;return null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(n.strokeInstruction),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(n.strokeInstruction),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(n.beginPathInstruction)}}var l=a})),r.register("jODk1",(function(t,i){e(t.exports,"default",(()=>h));var s=r("hycMe"),n=r("2CzCP"),o=r("aHG4Z"),a=r("exEDy");class l extends s.default{constructor(t,e,i,s){super(t,e,i,s)}drawFlatCoordinatess_(t,e,i,s){const r=this.state,o=void 0!==r.fillStyle,a=void 0!==r.strokeStyle,l=i.length;this.instructions.push(n.beginPathInstruction),this.hitDetectionInstructions.push(n.beginPathInstruction);for(let r=0;r<l;++r){const o=i[r],l=this.coordinates.length,h=this.appendFlatLineCoordinates(t,e,o,s,!0,!a),c=[n.default.MOVE_TO_LINE_TO,l,h];this.instructions.push(c),this.hitDetectionInstructions.push(c),a&&(this.instructions.push(n.closePathInstruction),this.hitDetectionInstructions.push(n.closePathInstruction)),e=o}return o&&(this.instructions.push(n.fillInstruction),this.hitDetectionInstructions.push(n.fillInstruction)),a&&(this.instructions.push(n.strokeInstruction),this.hitDetectionInstructions.push(n.strokeInstruction)),e}drawCircle(t,e){const i=this.state,s=i.fillStyle,r=i.strokeStyle;if(void 0===s&&void 0===r)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([n.default.SET_FILL_STYLE,o.defaultFillStyle]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([n.default.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);const a=t.getFlatCoordinates(),l=t.getStride(),h=this.coordinates.length;this.appendFlatLineCoordinates(a,0,a.length,l,!1,!1);const c=[n.default.CIRCLE,h];this.instructions.push(n.beginPathInstruction,c),this.hitDetectionInstructions.push(n.beginPathInstruction,c),void 0!==i.fillStyle&&(this.instructions.push(n.fillInstruction),this.hitDetectionInstructions.push(n.fillInstruction)),void 0!==i.strokeStyle&&(this.instructions.push(n.strokeInstruction),this.hitDetectionInstructions.push(n.strokeInstruction)),this.endGeometry(e)}drawPolygon(t,e){const i=this.state,s=i.fillStyle,r=i.strokeStyle;if(void 0===s&&void 0===r)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([n.default.SET_FILL_STYLE,o.defaultFillStyle]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([n.default.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);const a=t.getEnds(),l=t.getOrientedFlatCoordinates(),h=t.getStride();this.drawFlatCoordinatess_(l,0,a,h),this.endGeometry(e)}drawMultiPolygon(t,e){const i=this.state,s=i.fillStyle,r=i.strokeStyle;if(void 0===s&&void 0===r)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([n.default.SET_FILL_STYLE,o.defaultFillStyle]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([n.default.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);const a=t.getEndss(),l=t.getOrientedFlatCoordinates(),h=t.getStride();let c=0;for(let t=0,e=a.length;t<e;++t)c=this.drawFlatCoordinatess_(l,c,a[t],h);this.endGeometry(e)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const t=this.tolerance;if(0!==t){const e=this.coordinates;for(let i=0,s=e.length;i<s;++i)e[i]=(0,a.snap)(e[i],t)}return super.finish()}setFillStrokeStyles_(){const t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)}}var h=l})),r.register("a0SEX",(function(t,i){e(t.exports,"TEXT_ALIGN",(()=>u)),e(t.exports,"default",(()=>f));var s=r("hycMe"),n=r("2CzCP"),o=r("hlW0i"),a=r("aHG4Z"),l=r("lVQul"),h=r("jZquI"),c=r("b6jom");const u={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class d extends s.default{constructor(t,e,i,s){super(t,e,i,s),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,e){const i=this.textFillState_,s=this.textStrokeState_,r=this.textState_;if(""===this.text_||!r||!i&&!s)return;const o=this.coordinates;let l=o.length;const u=t.getType();let d=null,f=t.getStride();if("line"!==r.placement||"LineString"!=u&&"MultiLineString"!=u&&"Polygon"!=u&&"MultiPolygon"!=u){let i=r.overflow?null:[];switch(u){case"Point":case"MultiPoint":d=t.getFlatCoordinates();break;case"LineString":d=t.getFlatMidpoint();break;case"Circle":d=t.getCenter();break;case"MultiLineString":d=t.getFlatMidpoints(),f=2;break;case"Polygon":d=t.getFlatInteriorPoint(),r.overflow||i.push(d[2]/this.resolution),f=3;break;case"MultiPolygon":const e=t.getFlatInteriorPoints();d=[];for(let t=0,s=e.length;t<s;t+=3)r.overflow||i.push(e[t+2]/this.resolution),d.push(e[t],e[t+1]);if(0===d.length)return;f=2}const s=this.appendFlatPointCoordinates(d,f);if(s===l)return;if(i&&(s-l)/2!=d.length/f){let t=l/2;i=i.filter(((e,i)=>{const s=o[2*(t+i)]===d[i*f]&&o[2*(t+i)+1]===d[i*f+1];return s||--t,s}))}this.saveTextStates_(),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);let h=r.padding;if(h!=a.defaultPadding&&(r.scale[0]<0||r.scale[1]<0)){let t=r.padding[0],e=r.padding[1],i=r.padding[2],s=r.padding[3];r.scale[0]<0&&(e=-e,s=-s),r.scale[1]<0&&(t=-t,i=-i),h=[t,e,i,s]}const c=this.pixelRatio;this.instructions.push([n.default.DRAW_IMAGE,l,s,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,h==a.defaultPadding?a.defaultPadding:h.map((function(t){return t*c})),!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,i]);const g=1/c;this.hitDetectionInstructions.push([n.default.DRAW_IMAGE,l,s,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[g,g],NaN,void 0,this.declutterImageWithText_,h,!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,i]),this.endGeometry(e)}else{if(!(0,h.intersects)(this.getBufferedMaxExtent(),t.getExtent()))return;let i;if(d=t.getFlatCoordinates(),"LineString"==u)i=[d.length];else if("MultiLineString"==u)i=t.getEnds();else if("Polygon"==u)i=t.getEnds().slice(0,1);else if("MultiPolygon"==u){const e=t.getEndss();i=[];for(let t=0,s=e.length;t<s;++t)i.push(e[t][0])}this.beginGeometry(t,e);const s=r.textAlign;let n,a=0;for(let t=0,e=i.length;t<e;++t){if(null==s){const e=(0,c.matchingChunk)(r.maxAngle,d,a,i[t],f);a=e[0],n=e[1]}else n=i[t];for(let t=a;t<n;t+=f)o.push(d[t],d[t+1]);const e=o.length;a=i[t],this.drawChars_(l,e),l=e}this.endGeometry(e)}}saveTextStates_(){const t=this.textStrokeState_,e=this.textState_,i=this.textFillState_,s=this.strokeKey_;t&&(s in this.strokeStates||(this.strokeStates[s]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const n=this.textKey_;n in this.textStates||(this.textStates[n]={font:e.font,textAlign:e.textAlign||a.defaultTextAlign,justify:e.justify,textBaseline:e.textBaseline||a.defaultTextBaseline,scale:e.scale});const r=this.fillKey_;i&&(r in this.fillStates||(this.fillStates[r]={fillStyle:i.fillStyle}))}drawChars_(t,e){const i=this.textStrokeState_,s=this.textState_,r=this.strokeKey_,o=this.textKey_,a=this.fillKey_;this.saveTextStates_();const l=this.pixelRatio,h=u[s.textBaseline],c=this.textOffsetY_*l,d=this.text_,f=i?i.lineWidth*Math.abs(s.scale[0])/2:0;this.instructions.push([n.default.DRAW_CHARS,t,e,h,s.overflow,a,s.maxAngle,l,c,r,f*l,d,o,1]),this.hitDetectionInstructions.push([n.default.DRAW_CHARS,t,e,h,s.overflow,a,s.maxAngle,1,c,r,f,d,o,1/l])}setTextStyle(t,e){let i,s,n;if(t){const e=t.getFill();e?(s=this.textFillState_,s||(s={},this.textFillState_=s),s.fillStyle=(0,o.asColorLike)(e.getColor()||a.defaultFillStyle)):(s=null,this.textFillState_=s);const r=t.getStroke();if(r){n=this.textStrokeState_,n||(n={},this.textStrokeState_=n);const t=r.getLineDash(),e=r.getLineDashOffset(),i=r.getWidth(),s=r.getMiterLimit();n.lineCap=r.getLineCap()||a.defaultLineCap,n.lineDash=t?t.slice():a.defaultLineDash,n.lineDashOffset=void 0===e?a.defaultLineDashOffset:e,n.lineJoin=r.getLineJoin()||a.defaultLineJoin,n.lineWidth=void 0===i?a.defaultLineWidth:i,n.miterLimit=void 0===s?a.defaultMiterLimit:s,n.strokeStyle=(0,o.asColorLike)(r.getColor()||a.defaultStrokeStyle)}else n=null,this.textStrokeState_=n;i=this.textState_;const h=t.getFont()||a.defaultFont;(0,a.registerFont)(h);const c=t.getScaleArray();i.overflow=t.getOverflow(),i.font=h,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.justify=t.getJustify(),i.textBaseline=t.getTextBaseline()||a.defaultTextBaseline,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||a.defaultPadding,i.scale=void 0===c?[1,1]:c;const u=t.getOffsetX(),d=t.getOffsetY(),f=t.getRotateWithView(),g=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===u?0:u,this.textOffsetY_=void 0===d?0:d,this.textRotateWithView_=void 0!==f&&f,this.textRotation_=void 0===g?0:g,this.strokeKey_=n?("string"==typeof n.strokeStyle?n.strokeStyle:(0,l.getUid)(n.strokeStyle))+n.lineCap+n.lineDashOffset+"|"+n.lineWidth+n.lineJoin+n.miterLimit+"["+n.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=s?"string"==typeof s.fillStyle?s.fillStyle:"|"+(0,l.getUid)(s.fillStyle):""}else this.text_="";this.declutterImageWithText_=e}}var f=d})),r.register("b6jom",(function(t,i){function s(t,e,i,s,n){let r,o,a,l,h,c,u,d,f,g,_=i,m=i,x=0,p=0,S=i;for(o=i;o<s;o+=n){const i=e[o],s=e[o+1];void 0!==h&&(f=i-h,g=s-c,l=Math.sqrt(f*f+g*g),void 0!==u&&(p+=a,r=Math.acos((u*f+d*g)/(a*l)),r>t&&(p>x&&(x=p,_=S,m=o),p=0,S=o-n)),a=l,u=f,d=g),h=i,c=s}return p+=l,p>x?[S,o]:[_,m]}e(t.exports,"matchingChunk",(()=>s))})),r.register("dVSax",(function(t,i){e(t.exports,"default",(()=>f));var s=r("c46kz"),n=r("jZquI"),o=r("14PDX"),a=r("cgxQK"),l=r("kKEgb"),h=r("kBSVF"),c=r("bsQCi");const u=["Polygon","Circle","LineString","Image","Text","Default"];const d={};var f=class{constructor(t,e,i,s,n,r){this.maxExtent_=t,this.overlaps_=s,this.pixelRatio_=i,this.resolution_=e,this.renderBuffer_=r,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=(0,o.create)(),this.createExecutors_(n)}clip(t,e){const i=this.getClipCoords(e);t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.clip()}createExecutors_(t){for(const e in t){let i=this.executorsByZIndex_[e];void 0===i&&(i={},this.executorsByZIndex_[e]=i);const n=t[e];for(const t in n){const e=n[t];i[t]=new(0,s.default)(this.resolution_,this.pixelRatio_,this.overlaps_,e)}}}hasExecutors(t){for(const e in this.executorsByZIndex_){const i=this.executorsByZIndex_[e];for(let e=0,s=t.length;e<s;++e)if(t[e]in i)return!0}return!1}forEachFeatureAtCoordinate(t,e,i,s,r,l){const c=2*(s=Math.round(s))+1,f=(0,o.compose)(this.hitDetectionTransform_,s+.5,s+.5,1/e,-1/e,-i,-t[0],-t[1]),g=!this.hitDetectionContext_;g&&(this.hitDetectionContext_=(0,a.createCanvasContext2D)(c,c));const _=this.hitDetectionContext_;let m;_.canvas.width!==c||_.canvas.height!==c?(_.canvas.width=c,_.canvas.height=c):g||_.clearRect(0,0,c,c),void 0!==this.renderBuffer_&&(m=(0,n.createEmpty)(),(0,n.extendCoordinate)(m,t),(0,n.buffer)(m,e*(this.renderBuffer_+s),m));const x=function(t){if(void 0!==d[t])return d[t];const e=2*t+1,i=t*t,s=new Array(i+1);for(let n=0;n<=t;++n)for(let r=0;r<=t;++r){const o=n*n+r*r;if(o>i)break;let a=s[o];a||(a=[],s[o]=a),a.push(4*((t+n)*e+(t+r))+3),n>0&&a.push(4*((t-n)*e+(t+r))+3),r>0&&(a.push(4*((t+n)*e+(t-r))+3),n>0&&a.push(4*((t-n)*e+(t-r))+3))}const n=[];for(let t=0,e=s.length;t<e;++t)s[t]&&n.push(...s[t]);return d[t]=n,n}(s);let p;function S(t,e){const i=_.getImageData(0,0,c,c).data;for(let n=0,o=x.length;n<o;n++)if(i[x[n]]>0){if(!l||"Image"!==p&&"Text"!==p||l.includes(t)){const i=(x[n]-3)/4,o=s-i%c,a=s-(i/c|0),l=r(t,e,o*o+a*a);if(l)return l}_.clearRect(0,0,c,c);break}}const y=Object.keys(this.executorsByZIndex_).map(Number);let I,v,C,E,T;for(y.sort(h.numberSafeCompareFunction),I=y.length-1;I>=0;--I){const t=y[I].toString();for(C=this.executorsByZIndex_[t],v=u.length-1;v>=0;--v)if(p=u[v],E=C[p],void 0!==E&&(T=E.executeHitDetection(_,f,i,S,m),T))return T}}getClipCoords(t){const e=this.maxExtent_;if(!e)return null;const i=e[0],s=e[1],n=e[2],r=e[3],o=[i,s,i,r,n,r,n,s];return(0,c.transform2D)(o,0,8,2,t,o),o}isEmpty(){return(0,l.isEmpty)(this.executorsByZIndex_)}execute(t,e,i,s,n,r,o){const a=Object.keys(this.executorsByZIndex_).map(Number);let l,c,d,f,g,_;for(a.sort(h.numberSafeCompareFunction),this.maxExtent_&&(t.save(),this.clip(t,i)),r=r||u,o&&a.reverse(),l=0,c=a.length;l<c;++l){const h=a[l].toString();for(g=this.executorsByZIndex_[h],d=0,f=r.length;d<f;++d){_=g[r[d]],void 0!==_&&_.execute(t,e,i,s,n,o)}}this.maxExtent_&&t.restore()}}})),r.register("c46kz",(function(t,i){e(t.exports,"default",(()=>v));var s=r("2CzCP"),n=r("a0SEX"),o=r("14PDX"),a=r("jZquI"),l=r("aHG4Z"),h=r("2soc3"),c=r("kBSVF"),u=r("aSafW"),d=r("bsQCi");const f=(0,a.createEmpty)(),g=[],_=[],m=[],x=[];function p(t){return t[3].declutterBox}const S=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function y(t,e){return"start"!==e&&"end"!==e||S.test(t)||(e="start"===e?"left":"right"),n.TEXT_ALIGN[e]}function I(t,e,i){return i>0&&t.push("\n",""),t.push(e,""),t}var v=class{constructor(t,e,i,s){this.overlaps=i,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=s.instructions,this.coordinates=s.coordinates,this.coordinateCache_={},this.renderedTransform_=(0,o.create)(),this.hitDetectionInstructions=s.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=s.fillStates||{},this.strokeStates=s.strokeStates||{},this.textStates=s.textStates||{},this.widths_={},this.labels_={}}createLabel(t,e,i,s){const r=t+e+i+s;if(this.labels_[r])return this.labels_[r];const o=s?this.strokeStates[s]:null,a=i?this.fillStates[i]:null,h=this.textStates[e],c=this.pixelRatio,u=[h.scale[0]*c,h.scale[1]*c],d=Array.isArray(t),f=h.justify?n.TEXT_ALIGN[h.justify]:y(Array.isArray(t)?t[0]:t,h.textAlign||l.defaultTextAlign),g=s&&o.lineWidth?o.lineWidth:0,_=d?t:t.split("\n").reduce(I,[]),{width:m,height:x,widths:p,heights:S,lineWidths:v}=(0,l.getTextDimensions)(h,_),C=m+g,E=[],T=(C+2)*u[0],R=(x+g)*u[1],k={width:T<0?Math.floor(T):Math.ceil(T),height:R<0?Math.floor(R):Math.ceil(R),contextInstructions:E};1==u[0]&&1==u[1]||E.push("scale",u),s&&(E.push("strokeStyle",o.strokeStyle),E.push("lineWidth",g),E.push("lineCap",o.lineCap),E.push("lineJoin",o.lineJoin),E.push("miterLimit",o.miterLimit),E.push("setLineDash",[o.lineDash]),E.push("lineDashOffset",o.lineDashOffset)),i&&E.push("fillStyle",a.fillStyle),E.push("textBaseline","middle"),E.push("textAlign","center");const w=.5-f;let D=f*C+w*g;const L=[],O=[];let F,b=0,M=0,A=0,P=0;for(let t=0,e=_.length;t<e;t+=2){const e=_[t];if("\n"===e){M+=b,b=0,D=f*C+w*g,++P;continue}const n=_[t+1]||h.font;n!==F&&(s&&L.push("font",n),i&&O.push("font",n),F=n),b=Math.max(b,S[A]);const r=[e,D+w*p[A]+f*(p[A]-v[P]),.5*(g+b)+M];D+=p[A],s&&L.push("strokeText",r),i&&O.push("fillText",r),++A}return Array.prototype.push.apply(E,L),Array.prototype.push.apply(E,O),this.labels_[r]=k,k}replayTextBackground_(t,e,i,s,n,r,o){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,i),t.lineTo.apply(t,s),t.lineTo.apply(t,n),t.lineTo.apply(t,e),r&&(this.alignFill_=r[2],this.fill_(t)),o&&(this.setStrokeStyle_(t,o),t.stroke())}calculateImageOrLabelDimensions_(t,e,i,s,n,r,l,h,c,u,d,p,S,y,I,v){let C=i-(l*=p[0]),E=s-(h*=p[1]);const T=n+c>t?t-c:n,R=r+u>e?e-u:r,k=y[3]+T*p[0]+y[1],w=y[0]+R*p[1]+y[2],D=C-y[3],L=E-y[0];let O;return(I||0!==d)&&(g[0]=D,x[0]=D,g[1]=L,_[1]=L,_[0]=D+k,m[0]=_[0],m[1]=L+w,x[1]=m[1]),0!==d?(O=(0,o.compose)((0,o.create)(),i,s,1,1,d,-i,-s),(0,o.apply)(O,g),(0,o.apply)(O,_),(0,o.apply)(O,m),(0,o.apply)(O,x),(0,a.createOrUpdate)(Math.min(g[0],_[0],m[0],x[0]),Math.min(g[1],_[1],m[1],x[1]),Math.max(g[0],_[0],m[0],x[0]),Math.max(g[1],_[1],m[1],x[1]),f)):(0,a.createOrUpdate)(Math.min(D,D+k),Math.min(L,L+w),Math.max(D,D+k),Math.max(L,L+w),f),S&&(C=Math.round(C),E=Math.round(E)),{drawImageX:C,drawImageY:E,drawImageW:T,drawImageH:R,originX:c,originY:u,declutterBox:{minX:f[0],minY:f[1],maxX:f[2],maxY:f[3],value:v},canvasTransform:O,scale:p}}replayImageOrLabel_(t,e,i,s,n,r,o){const a=!(!r&&!o),h=s.declutterBox,c=t.canvas,u=o?o[2]*s.scale[0]/2:0;return h.minX-u<=c.width/e&&h.maxX+u>=0&&h.minY-u<=c.height/e&&h.maxY+u>=0&&(a&&this.replayTextBackground_(t,g,_,m,x,r,o),(0,l.drawImageOrLabel)(t,s.canvasTransform,n,i,s.originX,s.originY,s.drawImageW,s.drawImageH,s.drawImageX,s.drawImageY,s.scale)),!0}fill_(t){if(this.alignFill_){const e=(0,o.apply)(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;t.save(),t.translate(e[0]%i,e[1]%i),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()}setStrokeStyle_(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.lineDashOffset=e[7],t.setLineDash(e[6])}drawLabelWithPointPlacement_(t,e,i,s){const r=this.textStates[e],o=this.createLabel(t,e,s,i),a=this.strokeStates[i],h=this.pixelRatio,c=y(Array.isArray(t)?t[0]:t,r.textAlign||l.defaultTextAlign),u=n.TEXT_ALIGN[r.textBaseline||l.defaultTextBaseline],d=a&&a.lineWidth?a.lineWidth:0;return{label:o,anchorX:c*(o.width/h-2*r.scale[0])+2*(.5-c)*d,anchorY:u*o.height/h+2*(.5-u)*d}}execute_(t,e,i,r,f,g,_,m){let x;this.pixelCoordinates_&&(0,c.equals)(i,this.renderedTransform_)?x=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),x=(0,d.transform2D)(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),(0,o.setFromArray)(this.renderedTransform_,i));let S=0;const y=r.length;let I,v,C,E,T,R,k,w,D,L,O,F,b=0,M=0,A=0,P=null,W=null;const G=this.coordinateCache_,B=this.viewRotation_,X=Math.round(1e12*Math.atan2(-i[1],i[0]))/1e12,Y={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:B},U=this.instructions!=r||this.overlaps?0:200;let N,z,V,H;for(;S<y;){const i=r[S];switch(i[0]){case s.default.BEGIN_GEOMETRY:N=i[1],H=i[3],N.getGeometry()?void 0===_||(0,a.intersects)(_,H.getExtent())?++S:S=i[2]+1:S=i[2];break;case s.default.BEGIN_PATH:M>U&&(this.fill_(t),M=0),A>U&&(t.stroke(),A=0),M||A||(t.beginPath(),E=NaN,T=NaN),++S;break;case s.default.CIRCLE:b=i[1];const r=x[b],o=x[b+1],c=x[b+2]-r,d=x[b+3]-o,y=Math.sqrt(c*c+d*d);t.moveTo(r+y,o),t.arc(r,o,y,0,2*Math.PI,!0),++S;break;case s.default.CLOSE_PATH:t.closePath(),++S;break;case s.default.CUSTOM:b=i[1],I=i[2];const Z=i[3],j=i[4],K=6==i.length?i[5]:void 0;Y.geometry=Z,Y.feature=N,S in G||(G[S]=[]);const q=G[S];K?K(x,b,I,2,q):(q[0]=x[b],q[1]=x[b+1],q.length=2),j(q,Y),++S;break;case s.default.DRAW_IMAGE:b=i[1],I=i[2],w=i[3],v=i[4],C=i[5];let J=i[6];const Q=i[7],$=i[8],tt=i[9],et=i[10];let it=i[11];const st=i[12];let nt=i[13];const rt=i[14],ot=i[15];if(!w&&i.length>=20){D=i[19],L=i[20],O=i[21],F=i[22];const t=this.drawLabelWithPointPlacement_(D,L,O,F);w=t.label,i[3]=w;const e=i[23];v=(t.anchorX-e)*this.pixelRatio,i[4]=v;const s=i[24];C=(t.anchorY-s)*this.pixelRatio,i[5]=C,J=w.height,i[6]=J,nt=w.width,i[13]=nt}let at,lt,ht,ct;i.length>25&&(at=i[25]),i.length>17?(lt=i[16],ht=i[17],ct=i[18]):(lt=l.defaultPadding,ht=!1,ct=!1),et&&X?it+=B:et||X||(it-=B);let ut=0;for(;b<I;b+=2){if(at&&at[ut++]<nt/this.pixelRatio)continue;const i=this.calculateImageOrLabelDimensions_(w.width,w.height,x[b],x[b+1],nt,J,v,C,$,tt,it,st,f,lt,ht||ct,N),s=[t,e,w,i,Q,ht?P:null,ct?W:null];if(m){if("none"===rt)continue;if("obstacle"===rt){m.insert(i.declutterBox);continue}{let t,e;if(ot){const i=I-b;if(!ot[i]){ot[i]=s;continue}if(t=ot[i],delete ot[i],e=p(t),m.collides(e))continue}if(m.collides(i.declutterBox))continue;t&&(m.insert(e),this.replayImageOrLabel_.apply(this,t)),m.insert(i.declutterBox)}}this.replayImageOrLabel_.apply(this,s)}++S;break;case s.default.DRAW_CHARS:const dt=i[1],ft=i[2],gt=i[3],_t=i[4];F=i[5];const mt=i[6],xt=i[7],pt=i[8];O=i[9];const St=i[10];D=i[11],L=i[12];const yt=[i[13],i[13]],It=this.textStates[L],vt=It.font,Ct=[It.scale[0]*xt,It.scale[1]*xt];let Et;vt in this.widths_?Et=this.widths_[vt]:(Et={},this.widths_[vt]=Et);const Tt=(0,u.lineStringLength)(x,dt,ft,2),Rt=Math.abs(Ct[0])*(0,l.measureAndCacheTextWidth)(vt,D,Et);if(_t||Rt<=Tt){const i=this.textStates[L].textAlign,s=(Tt-Rt)*n.TEXT_ALIGN[i],r=(0,h.drawTextOnPath)(x,dt,ft,2,D,s,mt,Math.abs(Ct[0]),l.measureAndCacheTextWidth,vt,Et,X?0:this.viewRotation_);t:if(r){const i=[];let s,n,o,a,h;if(O)for(s=0,n=r.length;s<n;++s){h=r[s],o=h[4],a=this.createLabel(o,L,"",O),v=h[2]+(Ct[0]<0?-St:St),C=gt*a.height+2*(.5-gt)*St*Ct[1]/Ct[0]-pt;const n=this.calculateImageOrLabelDimensions_(a.width,a.height,h[0],h[1],a.width,a.height,v,C,0,0,h[3],yt,!1,l.defaultPadding,!1,N);if(m&&m.collides(n.declutterBox))break t;i.push([t,e,a,n,1,null,null])}if(F)for(s=0,n=r.length;s<n;++s){h=r[s],o=h[4],a=this.createLabel(o,L,F,""),v=h[2],C=gt*a.height-pt;const n=this.calculateImageOrLabelDimensions_(a.width,a.height,h[0],h[1],a.width,a.height,v,C,0,0,h[3],yt,!1,l.defaultPadding,!1,N);if(m&&m.collides(n.declutterBox))break t;i.push([t,e,a,n,1,null,null])}m&&m.load(i.map(p));for(let t=0,e=i.length;t<e;++t)this.replayImageOrLabel_.apply(this,i[t])}}++S;break;case s.default.END_GEOMETRY:if(void 0!==g){N=i[1];const t=g(N,H);if(t)return t}++S;break;case s.default.FILL:U?M++:this.fill_(t),++S;break;case s.default.MOVE_TO_LINE_TO:for(b=i[1],I=i[2],z=x[b],V=x[b+1],R=z+.5|0,k=V+.5|0,R===E&&k===T||(t.moveTo(z,V),E=R,T=k),b+=2;b<I;b+=2)z=x[b],V=x[b+1],R=z+.5|0,k=V+.5|0,b!=I-2&&R===E&&k===T||(t.lineTo(z,V),E=R,T=k);++S;break;case s.default.SET_FILL_STYLE:P=i,this.alignFill_=i[2],M&&(this.fill_(t),M=0,A&&(t.stroke(),A=0)),t.fillStyle=i[1],++S;break;case s.default.SET_STROKE_STYLE:W=i,A&&(t.stroke(),A=0),this.setStrokeStyle_(t,i),++S;break;case s.default.STROKE:U?A++:t.stroke(),++S;break;default:++S}}M&&this.fill_(t),A&&t.stroke()}execute(t,e,i,s,n,r){this.viewRotation_=s,this.execute_(t,e,i,this.instructions,n,void 0,void 0,r)}executeHitDetection(t,e,i,s,n){return this.viewRotation_=i,this.execute_(t,1,e,this.hitDetectionInstructions,!0,s,n)}}})),r.register("2soc3",(function(t,i){e(t.exports,"drawTextOnPath",(()=>o));var s=r("a6roo"),n=r("bsQCi");function o(t,e,i,r,o,a,l,h,c,u,d,f){let g=t[e],_=t[e+1],m=0,x=0,p=0,S=0;function y(){m=g,x=_,g=t[e+=r],_=t[e+1],S+=p,p=Math.sqrt((g-m)*(g-m)+(_-x)*(_-x))}do{y()}while(e<i-r&&S+p<a);let I=0===p?0:(a-S)/p;const v=(0,s.lerp)(m,g,I),C=(0,s.lerp)(x,_,I),E=e-r,T=S,R=a+h*c(u,o,d);for(;e<i-r&&S+p<R;)y();I=0===p?0:(R-S)/p;const k=(0,s.lerp)(m,g,I),w=(0,s.lerp)(x,_,I);let D;if(f){const t=[v,C,k,w];(0,n.rotate)(t,0,4,2,f,t,t),D=t[0]>t[2]}else D=v>k;const L=Math.PI,O=[],F=E+r===e;let b;if(p=0,S=T,g=t[e=E],_=t[e+1],F){y(),b=Math.atan2(_-x,g-m),D&&(b+=b>0?-L:L);const t=(k+v)/2,e=(w+C)/2;return O[0]=[t,e,(R-a)/2,b,o],O}for(let t=0,n=(o=o.replace(/\n/g," ")).length;t<n;){y();let f=Math.atan2(_-x,g-m);if(D&&(f+=f>0?-L:L),void 0!==b){let t=f-b;if(t+=t>L?-2*L:t<-L?2*L:0,Math.abs(t)>l)return null}b=f;const v=t;let C=0;for(;t<n;++t){const s=h*c(u,o[D?n-t-1:t],d);if(e+r<i&&S+p<a+C+s/2)break;C+=s}if(t===v)continue;const E=D?o.substring(n-v,n-t):o.substring(v,t);I=0===p?0:(a+C/2-S)/p;const T=(0,s.lerp)(m,g,I),R=(0,s.lerp)(x,_,I);O.push([T,R,C/2,f,E]),a+=C}return O}})),r.register("aSafW",(function(t,i){function s(t,e,i,s){let n=t[e],r=t[e+1],o=0;for(let a=e+s;a<i;a+=s){const e=t[a],i=t[a+1];o+=Math.sqrt((e-n)*(e-n)+(i-r)*(i-r)),n=e,r=i}return o}e(t.exports,"lineStringLength",(()=>s))})),r.register("3CYjy",(function(t,i){e(t.exports,"HIT_DETECT_RESOLUTION",(()=>c)),e(t.exports,"createHitDetectionImageData",(()=>u)),e(t.exports,"hitDetect",(()=>d));var s=r("htGzg"),n=r("ayeEa"),o=r("a6roo"),a=r("cgxQK"),l=r("jZquI"),h=r("kBSVF");const c=.5;function u(t,e,i,r,o,u,d){const f=t[0]*c,g=t[1]*c,_=(0,a.createCanvasContext2D)(f,g);_.imageSmoothingEnabled=!1;const m=_.canvas,x=new(0,s.default)(_,c,o,null,d),p=i.length,S=Math.floor(16777215/p),y={};for(let t=1;t<=p;++t){const e=i[t-1],s=e.getStyleFunction()||r;if(!r)continue;let h=s(e,u);if(!h)continue;Array.isArray(h)||(h=[h]);const c="#"+("000000"+(t*S).toString(16)).slice(-6);for(let t=0,i=h.length;t<i;++t){const i=h[t],s=i.getGeometryFunction()(e);if(!s||!(0,l.intersects)(o,s.getExtent()))continue;const r=i.clone(),u=r.getFill();u&&u.setColor(c);const d=r.getStroke();d&&(d.setColor(c),d.setLineDash(null)),r.setText(void 0);const f=i.getImage();if(f&&0!==f.getOpacity()){const t=f.getImageSize();if(!t)continue;const e=(0,a.createCanvasContext2D)(t[0],t[1],void 0,{alpha:!1}),i=e.canvas;e.fillStyle=c,e.fillRect(0,0,i.width,i.height),r.setImage(new(0,n.default)({img:i,imgSize:t,anchor:f.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:f.getOrigin(),opacity:1,size:f.getSize(),scale:f.getScale(),rotation:f.getRotation(),rotateWithView:f.getRotateWithView()}))}const g=r.getZIndex()||0;let _=y[g];_||(_={},y[g]=_,_.Polygon=[],_.Circle=[],_.LineString=[],_.Point=[]),_[s.getType().replace("Multi","")].push(s,r)}}const I=Object.keys(y).map(Number).sort(h.numberSafeCompareFunction);for(let t=0,i=I.length;t<i;++t){const i=y[I[t]];for(const t in i){const s=i[t];for(let t=0,i=s.length;t<i;t+=2){x.setStyle(s[t+1]);for(let i=0,n=e.length;i<n;++i)x.setTransform(e[i]),x.drawGeometry(s[t])}}}return _.getImageData(0,0,m.width,m.height)}function d(t,e,i){const s=[];if(i){const n=Math.floor(Math.round(t[0])*c),r=Math.floor(Math.round(t[1])*c),a=4*((0,o.clamp)(n,0,i.width-1)+(0,o.clamp)(r,0,i.height-1)*i.width),l=i.data[a],h=i.data[a+1],u=i.data[a+2]+256*(h+256*l),d=Math.floor(16777215/e.length);u&&u%d==0&&s.push(e[u/d-1])}return s}})),r.register("htGzg",(function(t,i){e(t.exports,"default",(()=>f));var s=r("eGc18"),n=r("hlW0i"),o=r("14PDX"),a=r("aHG4Z"),l=r("kBSVF"),h=r("jZquI"),c=r("bsQCi"),u=r("63y7W");class d extends s.default{constructor(t,e,i,s,n,r,a){super(),this.context_=t,this.pixelRatio_=e,this.extent_=i,this.transform_=s,this.viewRotation_=n,this.squaredTolerance_=r,this.userTransform_=a,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=(0,o.create)()}drawImages_(t,e,i,s){if(!this.image_)return;const n=(0,c.transform2D)(t,e,i,s,this.transform_,this.pixelCoordinates_),r=this.context_,a=this.tmpLocalTransform_,l=r.globalAlpha;1!=this.imageOpacity_&&(r.globalAlpha=l*this.imageOpacity_);let h=this.imageRotation_;this.imageRotateWithView_&&(h+=this.viewRotation_);for(let t=0,e=n.length;t<e;t+=2){const e=n[t]-this.imageAnchorX_,i=n[t+1]-this.imageAnchorY_;if(0!==h||1!=this.imageScale_[0]||1!=this.imageScale_[1]){const t=e+this.imageAnchorX_,s=i+this.imageAnchorY_;(0,o.compose)(a,t,s,1,1,h,-t,-s),r.setTransform.apply(r,a),r.translate(t,s),r.scale(this.imageScale_[0],this.imageScale_[1]),r.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),r.setTransform(1,0,0,1,0,0)}else r.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,e,i,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(r.globalAlpha=l)}drawText_(t,e,i,s){if(!this.textState_||""===this.text_)return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const n=(0,c.transform2D)(t,e,i,s,this.transform_,this.pixelCoordinates_),r=this.context_;let o=this.textRotation_;for(this.textRotateWithView_&&(o+=this.viewRotation_);e<i;e+=s){const t=n[e]+this.textOffsetX_,i=n[e+1]+this.textOffsetY_;0!==o||1!=this.textScale_[0]||1!=this.textScale_[1]?(r.translate(t-this.textOffsetX_,i-this.textOffsetY_),r.rotate(o),r.translate(this.textOffsetX_,this.textOffsetY_),r.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&r.strokeText(this.text_,0,0),this.textFillState_&&r.fillText(this.text_,0,0),r.setTransform(1,0,0,1,0,0)):(this.textStrokeState_&&r.strokeText(this.text_,t,i),this.textFillState_&&r.fillText(this.text_,t,i))}}moveToLineTo_(t,e,i,s,n){const r=this.context_,o=(0,c.transform2D)(t,e,i,s,this.transform_,this.pixelCoordinates_);r.moveTo(o[0],o[1]);let a=o.length;n&&(a-=2);for(let t=2;t<a;t+=2)r.lineTo(o[t],o[t+1]);return n&&r.closePath(),i}drawRings_(t,e,i,s){for(let n=0,r=i.length;n<r;++n)e=this.moveToLineTo_(t,e,i[n],s,!0);return e}drawCircle(t){if((0,h.intersects)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=(0,u.transformGeom2D)(t,this.transform_,this.pixelCoordinates_),i=e[2]-e[0],s=e[3]-e[1],n=Math.sqrt(i*i+s*s),r=this.context_;r.beginPath(),r.arc(e[0],e[1],n,0,2*Math.PI),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t)}}drawFeature(t,e){const i=e.getGeometryFunction()(t);i&&(0,h.intersects)(this.extent_,i.getExtent())&&(this.setStyle(e),this.drawGeometry(i))}drawGeometryCollection(t){const e=t.getGeometriesArray();for(let t=0,i=e.length;t<i;++t)this.drawGeometry(e[t])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,h.intersects)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,i=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){const e=t.getFlatMidpoint();this.drawText_(e,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getExtent();if((0,h.intersects)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,i=t.getFlatCoordinates();let s=0;const n=t.getEnds(),r=t.getStride();e.beginPath();for(let t=0,e=n.length;t<e;++t)s=this.moveToLineTo_(i,s,n[t],r,!1);e.stroke()}if(""!==this.text_){const e=t.getFlatMidpoints();this.drawText_(e,0,e.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,h.intersects)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){const e=t.getFlatInteriorPoint();this.drawText_(e,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,h.intersects)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_,i=t.getOrientedFlatCoordinates();let s=0;const n=t.getEndss(),r=t.getStride();e.beginPath();for(let t=0,e=n.length;t<e;++t){const e=n[t];s=this.drawRings_(i,s,e,r)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){const e=t.getFlatInteriorPoints();this.drawText_(e,0,e.length,2)}}}setContextFillState_(t){const e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){const e=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,e.lineCap=t.lineCap),(0,l.equals)(i.lineDash,t.lineDash)||e.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){const e=this.context_,i=this.contextTextState_,s=t.textAlign?t.textAlign:a.defaultTextAlign;i?(i.font!=t.font&&(i.font=t.font,e.font=t.font),i.textAlign!=s&&(i.textAlign=s,e.textAlign=s),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=s,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:s,textBaseline:t.textBaseline})}setFillStrokeStyle(t,e){if(t){const e=t.getColor();this.fillState_={fillStyle:(0,n.asColorLike)(e||a.defaultFillStyle)}}else this.fillState_=null;if(e){const t=e.getColor(),i=e.getLineCap(),s=e.getLineDash(),r=e.getLineDashOffset(),o=e.getLineJoin(),l=e.getWidth(),h=e.getMiterLimit(),c=s||a.defaultLineDash;this.strokeState_={lineCap:void 0!==i?i:a.defaultLineCap,lineDash:1===this.pixelRatio_?c:c.map((t=>t*this.pixelRatio_)),lineDashOffset:(r||a.defaultLineDashOffset)*this.pixelRatio_,lineJoin:void 0!==o?o:a.defaultLineJoin,lineWidth:(void 0!==l?l:a.defaultLineWidth)*this.pixelRatio_,miterLimit:void 0!==h?h:a.defaultMiterLimit,strokeStyle:(0,n.asColorLike)(t||a.defaultStrokeStyle)}}else this.strokeState_=null}setImageStyle(t){let e;if(!t||!(e=t.getSize()))return void(this.image_=null);const i=t.getPixelRatio(this.pixelRatio_),s=t.getAnchor(),n=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=s[0]*i,this.imageAnchorY_=s[1]*i,this.imageHeight_=e[1]*i,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=n[0],this.imageOriginY_=n[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();const r=t.getScaleArray();this.imageScale_=[r[0]*this.pixelRatio_/i,r[1]*this.pixelRatio_/i],this.imageWidth_=e[0]*i}setTextStyle(t){if(t){const e=t.getFill();if(e){const t=e.getColor();this.textFillState_={fillStyle:(0,n.asColorLike)(t||a.defaultFillStyle)}}else this.textFillState_=null;const i=t.getStroke();if(i){const t=i.getColor(),e=i.getLineCap(),s=i.getLineDash(),r=i.getLineDashOffset(),o=i.getLineJoin(),l=i.getWidth(),h=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==e?e:a.defaultLineCap,lineDash:s||a.defaultLineDash,lineDashOffset:r||a.defaultLineDashOffset,lineJoin:void 0!==o?o:a.defaultLineJoin,lineWidth:void 0!==l?l:a.defaultLineWidth,miterLimit:void 0!==h?h:a.defaultMiterLimit,strokeStyle:(0,n.asColorLike)(t||a.defaultStrokeStyle)}}else this.textStrokeState_=null;const s=t.getFont(),r=t.getOffsetX(),o=t.getOffsetY(),l=t.getRotateWithView(),h=t.getRotation(),c=t.getScaleArray(),u=t.getText(),d=t.getTextAlign(),f=t.getTextBaseline();this.textState_={font:void 0!==s?s:a.defaultFont,textAlign:void 0!==d?d:a.defaultTextAlign,textBaseline:void 0!==f?f:a.defaultTextBaseline},this.text_=void 0!==u?Array.isArray(u)?u.reduce(((t,e,i)=>t+(i%2?" ":e)),""):u:"",this.textOffsetX_=void 0!==r?this.pixelRatio_*r:0,this.textOffsetY_=void 0!==o?this.pixelRatio_*o:0,this.textRotateWithView_=void 0!==l&&l,this.textRotation_=void 0!==h?h:0,this.textScale_=[this.pixelRatio_*c[0],this.pixelRatio_*c[1]]}else this.text_=""}}var f=d})),r.register("713Fw",(function(t,i){e(t.exports,"defaultOrder",(()=>a)),e(t.exports,"getSquaredTolerance",(()=>l)),e(t.exports,"getTolerance",(()=>h)),e(t.exports,"renderFeature",(()=>c));var s=r("50PZ9"),n=r("lVQul");const o={Point:function(t,e,i,n,r){const o=i.getImage(),a=i.getText();let l;if(o){if(o.getImageState()!=s.default.LOADED)return;let h=t;if(r){const s=o.getDeclutterMode();if("none"!==s)if(h=r,"obstacle"===s){const s=t.getBuilder(i.getZIndex(),"Image");s.setImageStyle(o,l),s.drawPoint(e,n)}else a&&a.getText()&&(l={})}const c=h.getBuilder(i.getZIndex(),"Image");c.setImageStyle(o,l),c.drawPoint(e,n)}if(a&&a.getText()){let s=t;r&&(s=r);const o=s.getBuilder(i.getZIndex(),"Text");o.setTextStyle(a,l),o.drawText(e,n)}},LineString:function(t,e,i,s,n){const r=i.getStroke();if(r){const n=t.getBuilder(i.getZIndex(),"LineString");n.setFillStrokeStyle(null,r),n.drawLineString(e,s)}const o=i.getText();if(o&&o.getText()){const r=(n||t).getBuilder(i.getZIndex(),"Text");r.setTextStyle(o),r.drawText(e,s)}},Polygon:function(t,e,i,s,n){const r=i.getFill(),o=i.getStroke();if(r||o){const n=t.getBuilder(i.getZIndex(),"Polygon");n.setFillStrokeStyle(r,o),n.drawPolygon(e,s)}const a=i.getText();if(a&&a.getText()){const r=(n||t).getBuilder(i.getZIndex(),"Text");r.setTextStyle(a),r.drawText(e,s)}},MultiPoint:function(t,e,i,n,r){const o=i.getImage(),a=i.getText();let l;if(o){if(o.getImageState()!=s.default.LOADED)return;let h=t;if(r){const s=o.getDeclutterMode();if("none"!==s)if(h=r,"obstacle"===s){const s=t.getBuilder(i.getZIndex(),"Image");s.setImageStyle(o,l),s.drawMultiPoint(e,n)}else a&&a.getText()&&(l={})}const c=h.getBuilder(i.getZIndex(),"Image");c.setImageStyle(o,l),c.drawMultiPoint(e,n)}if(a&&a.getText()){let s=t;r&&(s=r);const o=s.getBuilder(i.getZIndex(),"Text");o.setTextStyle(a,l),o.drawText(e,n)}},MultiLineString:function(t,e,i,s,n){const r=i.getStroke();if(r){const n=t.getBuilder(i.getZIndex(),"LineString");n.setFillStrokeStyle(null,r),n.drawMultiLineString(e,s)}const o=i.getText();if(o&&o.getText()){const r=(n||t).getBuilder(i.getZIndex(),"Text");r.setTextStyle(o),r.drawText(e,s)}},MultiPolygon:function(t,e,i,s,n){const r=i.getFill(),o=i.getStroke();if(o||r){const n=t.getBuilder(i.getZIndex(),"Polygon");n.setFillStrokeStyle(r,o),n.drawMultiPolygon(e,s)}const a=i.getText();if(a&&a.getText()){const r=(n||t).getBuilder(i.getZIndex(),"Text");r.setTextStyle(a),r.drawText(e,s)}},GeometryCollection:function(t,e,i,s,n){const r=e.getGeometriesArray();let a,l;for(a=0,l=r.length;a<l;++a){(0,o[r[a].getType()])(t,r[a],i,s,n)}},Circle:function(t,e,i,s,n){const r=i.getFill(),o=i.getStroke();if(r||o){const n=t.getBuilder(i.getZIndex(),"Circle");n.setFillStrokeStyle(r,o),n.drawCircle(e,s)}const a=i.getText();if(a&&a.getText()){const r=(n||t).getBuilder(i.getZIndex(),"Text");r.setTextStyle(a),r.drawText(e,s)}}};function a(t,e){return parseInt((0,n.getUid)(t),10)-parseInt((0,n.getUid)(e),10)}function l(t,e){const i=h(t,e);return i*i}function h(t,e){return.5*t/e}function c(t,e,i,n,r,a,l){let h=!1;const c=i.getImage();if(c){const t=c.getImageState();t==s.default.LOADED||t==s.default.ERROR?c.unlistenImageChange(r):(t==s.default.IDLE&&c.load(),c.listenImageChange(r),h=!0)}return function(t,e,i,s,n,r){const a=i.getGeometryFunction()(e);if(!a)return;const l=a.simplifyTransformed(s,n);if(i.getRenderer())u(t,l,i,e);else{(0,o[l.getType()])(t,l,i,e,r)}}(t,e,i,n,a,l),h}function u(t,e,i,s){if("GeometryCollection"==e.getType()){const n=e.getGeometries();for(let e=0,r=n.length;e<r;++e)u(t,n[e],i,s);return}t.getBuilder(i.getZIndex(),"Default").drawCustom(e,s,i.getRenderer(),i.getHitDetectionRenderer())}})),r.register("kWPIP",(function(t,i){e(t.exports,"loadFeaturesXhr",(()=>o)),e(t.exports,"xhr",(()=>a));var s=r("eQaCk");let n=!1;function o(t,e,i,s,r,o,a){const l=new XMLHttpRequest;l.open("GET","function"==typeof t?t(i,s,r):t,!0),"arraybuffer"==e.getType()&&(l.responseType="arraybuffer"),l.withCredentials=n,l.onload=function(t){if(!l.status||l.status>=200&&l.status<300){const t=e.getType();let s;"json"==t||"text"==t?s=l.responseText:"xml"==t?(s=l.responseXML,s||(s=(new DOMParser).parseFromString(l.responseText,"application/xml"))):"arraybuffer"==t&&(s=l.response),s?o(e.readFeatures(s,{extent:i,featureProjection:r}),e.readProjection(s)):a()}else a()},l.onerror=a,l.send()}function a(t,e){return function(i,n,r,a,l){const h=this;o(t,e,i,n,r,(function(t,e){h.addFeatures(t),void 0!==a&&a(t)}),l||s.VOID)}}})),r.register("20LS2",(function(t,i){e(t.exports,"default",(()=>C));var s=r("31ZqB"),n=r("eHnTw"),o=r("iTTi2"),a=r("cw4dl"),l=r("5dXmB"),h=r("9iujS"),c=r("205E0"),u=r("gKdkP"),d=r("eQaCk"),f=r("gmEQj"),g=r("eJ4LZ"),_=r("jZquI"),m=r("kBSVF"),x=r("lVQul"),p=r("kKEgb"),S=r("bsgMw"),y=r("kWPIP");class I extends o.default{constructor(t,e,i){super(t),this.feature=e,this.features=i}}class v extends c.default{constructor(t){super({attributions:(t=t||{}).attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===t.wrapX||t.wrapX}),this.on,this.once,this.un,this.loader_=d.VOID,this.format_=t.format,this.overlaps_=void 0===t.overlaps||t.overlaps,this.url_=t.url,void 0!==t.loader?this.loader_=t.loader:void 0!==this.url_&&((0,g.assert)(this.format_,7),this.loader_=(0,y.xhr)(this.url_,this.format_)),this.strategy_=void 0!==t.strategy?t.strategy:f.all;const e=void 0===t.useSpatialIndex||t.useSpatialIndex;let i,n;this.featuresRtree_=e?new(0,h.default):null,this.loadedExtentsRtree_=new(0,h.default),this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(t.features)?n=t.features:t.features&&(i=t.features,n=i.getArray()),e||void 0!==i||(i=new(0,s.default)(n)),void 0!==n&&this.addFeaturesInternal(n),void 0!==i&&this.bindFeaturesCollection_(i)}addFeature(t){this.addFeatureInternal(t),this.changed()}addFeatureInternal(t){const e=(0,x.getUid)(t);if(!this.addToIndex_(e,t))return void(this.featuresCollection_&&this.featuresCollection_.remove(t));this.setupChangeEvents_(e,t);const i=t.getGeometry();if(i){const e=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(e,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new I(u.default.ADDFEATURE,t))}setupChangeEvents_(t,e){this.featureChangeKeys_[t]=[(0,S.listen)(e,a.default.CHANGE,this.handleFeatureChange_,this),(0,S.listen)(e,l.default.PROPERTYCHANGE,this.handleFeatureChange_,this)]}addToIndex_(t,e){let i=!0;const s=e.getId();return void 0!==s&&(s.toString()in this.idIndex_?i=!1:this.idIndex_[s.toString()]=e),i&&((0,g.assert)(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),i}addFeatures(t){this.addFeaturesInternal(t),this.changed()}addFeaturesInternal(t){const e=[],i=[],s=[];for(let e=0,s=t.length;e<s;e++){const s=t[e],n=(0,x.getUid)(s);this.addToIndex_(n,s)&&i.push(s)}for(let t=0,n=i.length;t<n;t++){const n=i[t],r=(0,x.getUid)(n);this.setupChangeEvents_(r,n);const o=n.getGeometry();if(o){const t=o.getExtent();e.push(t),s.push(n)}else this.nullGeometryFeatures_[r]=n}if(this.featuresRtree_&&this.featuresRtree_.load(e,s),this.hasListener(u.default.ADDFEATURE))for(let t=0,e=i.length;t<e;t++)this.dispatchEvent(new I(u.default.ADDFEATURE,i[t]))}bindFeaturesCollection_(t){let e=!1;this.addEventListener(u.default.ADDFEATURE,(function(i){e||(e=!0,t.push(i.feature),e=!1)})),this.addEventListener(u.default.REMOVEFEATURE,(function(i){e||(e=!0,t.remove(i.feature),e=!1)})),t.addEventListener(n.default.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)}.bind(this)),t.addEventListener(n.default.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}.bind(this)),this.featuresCollection_=t}clear(t){if(t){for(const t in this.featureChangeKeys_){this.featureChangeKeys_[t].forEach(S.unlistenByKey)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const t=function(t){this.removeFeatureInternal(t)}.bind(this);this.featuresRtree_.forEach(t);for(const t in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[t])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const e=new I(u.default.CLEAR);this.dispatchEvent(e),this.changed()}forEachFeature(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureAtCoordinateDirect(t,e){const i=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(i,(function(i){return i.getGeometry().intersectsCoordinate(t)?e(i):void 0}))}forEachFeatureInExtent(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureIntersectingExtent(t,e){return this.forEachFeatureInExtent(t,(function(i){if(i.getGeometry().intersectsExtent(t)){const t=e(i);if(t)return t}}))}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),(0,p.isEmpty)(this.nullGeometryFeatures_)||(0,m.extend)(t,Object.values(this.nullGeometryFeatures_))),t}getFeaturesAtCoordinate(t){const e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e}getFeaturesInExtent(t,e){if(this.featuresRtree_){if(!(e&&e.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);const i=(0,_.wrapAndSliceX)(t,e);return[].concat(...i.map((t=>this.featuresRtree_.getInExtent(t))))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(t,e){const i=t[0],s=t[1];let n=null;const r=[NaN,NaN];let o=1/0;const a=[-1/0,-1/0,1/0,1/0];return e=e||d.TRUE,this.featuresRtree_.forEachInExtent(a,(function(t){if(e(t)){const e=t.getGeometry(),l=o;if(o=e.closestPointXY(i,s,r,o),o<l){n=t;const e=Math.sqrt(o);a[0]=i-e,a[1]=s-e,a[2]=i+e,a[3]=s+e}}})),n}getExtent(t){return this.featuresRtree_.getExtent(t)}getFeatureById(t){const e=this.idIndex_[t.toString()];return void 0!==e?e:null}getFeatureByUid(t){const e=this.uidIndex_[t];return void 0!==e?e:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(t){const e=t.target,i=(0,x.getUid)(e),s=e.getGeometry();if(s){const t=s.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(t,e)):this.featuresRtree_&&this.featuresRtree_.update(t,e)}else i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[i]=e);const n=e.getId();if(void 0!==n){const t=n.toString();this.idIndex_[t]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[t]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[i]=e;this.changed(),this.dispatchEvent(new I(u.default.CHANGEFEATURE,e))}hasFeature(t){const e=t.getId();return void 0!==e?e in this.idIndex_:(0,x.getUid)(t)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&(0,p.isEmpty)(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()}loadFeatures(t,e,i){const s=this.loadedExtentsRtree_,n=this.strategy_(t,e,i);for(let t=0,r=n.length;t<r;++t){const r=n[t];s.forEachInExtent(r,(function(t){return(0,_.containsExtent)(t.extent,r)}))||(++this.loadingExtentsCount_,this.dispatchEvent(new I(u.default.FEATURESLOADSTART)),this.loader_.call(this,r,e,i,function(t){--this.loadingExtentsCount_,this.dispatchEvent(new I(u.default.FEATURESLOADEND,void 0,t))}.bind(this),function(){--this.loadingExtentsCount_,this.dispatchEvent(new I(u.default.FEATURESLOADERROR))}.bind(this)),s.insert(r,{extent:r.slice()}))}this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(t){const e=this.loadedExtentsRtree_;let i;e.forEachInExtent(t,(function(e){if((0,_.equals)(e.extent,t))return i=e,!0})),i&&e.remove(i)}removeFeature(t){if(!t)return;const e=(0,x.getUid)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t);this.removeFeatureInternal(t)&&this.changed()}removeFeatureInternal(t){const e=(0,x.getUid)(t),i=this.featureChangeKeys_[e];if(!i)return;i.forEach(S.unlistenByKey),delete this.featureChangeKeys_[e];const s=t.getId();return void 0!==s&&delete this.idIndex_[s.toString()],delete this.uidIndex_[e],this.dispatchEvent(new I(u.default.REMOVEFEATURE,t)),t}removeFromIdIndex_(t){let e=!1;for(const i in this.idIndex_)if(this.idIndex_[i]===t){delete this.idIndex_[i],e=!0;break}return e}setLoader(t){this.loader_=t}setUrl(t){(0,g.assert)(this.format_,7),this.url_=t,this.setLoader((0,y.xhr)(t,this.format_))}}var C=v})),r.register("9iujS",(function(i,s){e(i.exports,"default",(()=>h));var n=r("4wfAy"),o=r("jZquI"),a=r("lVQul"),l=r("kKEgb");var h=class{constructor(e){this.rbush_=new(t(n))(e),this.items_={}}insert(t,e){const i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(i),this.items_[(0,a.getUid)(e)]=i}load(t,e){const i=new Array(e.length);for(let s=0,n=e.length;s<n;s++){const n=t[s],r=e[s],o={minX:n[0],minY:n[1],maxX:n[2],maxY:n[3],value:r};i[s]=o,this.items_[(0,a.getUid)(r)]=o}this.rbush_.load(i)}remove(t){const e=(0,a.getUid)(t),i=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(i)}update(t,e){const i=this.items_[(0,a.getUid)(e)],s=[i.minX,i.minY,i.maxX,i.maxY];(0,o.equals)(s,t)||(this.remove(e),this.insert(t,e))}getAll(){return this.rbush_.all().map((function(t){return t.value}))}getInExtent(t){const e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map((function(t){return t.value}))}forEach(t){return this.forEach_(this.getAll(),t)}forEachInExtent(t,e){return this.forEach_(this.getInExtent(t),e)}forEach_(t,e){let i;for(let s=0,n=t.length;s<n;s++)if(i=e(t[s]),i)return i;return i}isEmpty(){return(0,l.isEmpty)(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(t){const e=this.rbush_.toJSON();return(0,o.createOrUpdate)(e.minX,e.minY,e.maxX,e.maxY,t)}concat(t){this.rbush_.load(t.rbush_.all());for(const e in t.items_)this.items_[e]=t.items_[e]}}})),r.register("gKdkP",(function(t,i){e(t.exports,"default",(()=>s));var s={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"}})),r.register("gmEQj",(function(t,i){e(t.exports,"all",(()=>n)),e(t.exports,"bbox",(()=>o)),e(t.exports,"tile",(()=>a));var s=r("gzr8q");function n(t,e){return[[-1/0,-1/0,1/0,1/0]]}function o(t,e){return[t]}function a(t){return function(e,i,n){const r=t.getZForResolution((0,s.fromUserResolution)(i,n)),o=t.getTileRangeForExtentAndZ((0,s.fromUserExtent)(e,n),r),a=[],l=[r,0,0];for(l[1]=o.minX;l[1]<=o.maxX;++l[1])for(l[2]=o.minY;l[2]<=o.maxY;++l[2])a.push((0,s.toUserExtent)(t.getTileCoordExtent(l),n));return a}}})),r.register("6M65l",(function(t,i){e(t.exports,"default",(()=>p));var s=r("8vXOK"),n=r("ddIVC"),o=r("dVSax"),a=r("bCUH1"),l=r("3CYjy"),h=r("14PDX"),c=r("jZquI"),u=r("cgxQK"),d=r("713Fw"),f=r("kBSVF"),g=r("gzr8q"),_=r("lVQul"),m=r("d1ltq");class x extends n.default{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=(0,c.createEmpty)(),this.wrappedRenderedExtent_=(0,c.createEmpty)(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.declutterExecutorGroup=null,this.clipping=!0,this.compositionContext_=null,this.opacity_=1}renderWorlds(t,e,i){const s=e.extent,n=e.viewState,r=n.center,o=n.resolution,l=n.projection,h=n.rotation,u=l.getExtent(),d=this.getLayer().getSource(),f=e.pixelRatio,g=e.viewHints,_=!(g[a.default.ANIMATING]||g[a.default.INTERACTING]),m=this.compositionContext_,x=Math.round(e.size[0]*f),p=Math.round(e.size[1]*f),S=d.getWrapX()&&l.canWrapX(),y=S?(0,c.getWidth)(u):null,I=S?Math.ceil((s[2]-u[2])/y)+1:1;let v=S?Math.floor((s[0]-u[0])/y):0;do{const e=this.getRenderTransform(r,o,h,f,x,p,v*y);t.execute(m,1,e,h,_,void 0,i)}while(++v<I)}setupCompositionContext_(){if(1!==this.opacity_){const t=(0,u.createCanvasContext2D)(this.context.canvas.width,this.context.canvas.height,n.canvasPool);this.compositionContext_=t}else this.compositionContext_=this.context}releaseCompositionContext_(){if(1!==this.opacity_){const t=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=t,(0,u.releaseCanvas)(this.compositionContext_),n.canvasPool.push(this.compositionContext_.canvas),this.compositionContext_=null}}renderDeclutter(t){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree),this.releaseCompositionContext_())}renderFrame(t,e){const i=t.pixelRatio,s=t.layerStatesArray[t.layerIndex];(0,h.makeScale)(this.pixelTransform,1/i,1/i),(0,h.makeInverse)(this.inversePixelTransform,this.pixelTransform);const n=(0,h.toString)(this.pixelTransform);this.useContainer(e,n,this.getBackground(t));const r=this.context,o=r.canvas,a=this.replayGroup_,l=this.declutterExecutorGroup;if((!a||a.isEmpty())&&(!l||l.isEmpty()))return null;const u=Math.round(t.size[0]*i),d=Math.round(t.size[1]*i);o.width!=u||o.height!=d?(o.width=u,o.height=d,o.style.transform!==n&&(o.style.transform=n)):this.containerReused||r.clearRect(0,0,u,d),this.preRender(r,t);const f=t.viewState,_=f.projection;this.opacity_=s.opacity,this.setupCompositionContext_();let m=!1,x=!0;if(s.extent&&this.clipping){const e=(0,g.fromUserExtent)(s.extent,_);x=(0,c.intersects)(e,t.extent),m=x&&!(0,c.containsExtent)(e,t.extent),m&&this.clipUnrotated(this.compositionContext_,t,e)}return x&&this.renderWorlds(a,t),m&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(r,t),this.renderedRotation_!==f.rotation&&(this.renderedRotation_=f.rotation,this.hitDetectionImageData_=null),this.container}getFeatures(t){return new Promise(function(e){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const t=[this.context.canvas.width,this.context.canvas.height];(0,h.apply)(this.pixelTransform,t);const e=this.renderedCenter_,i=this.renderedResolution_,s=this.renderedRotation_,n=this.renderedProjection_,r=this.wrappedRenderedExtent_,o=this.getLayer(),a=[],u=t[0]*l.HIT_DETECT_RESOLUTION,d=t[1]*l.HIT_DETECT_RESOLUTION;a.push(this.getRenderTransform(e,i,s,l.HIT_DETECT_RESOLUTION,u,d,0).slice());const f=o.getSource(),g=n.getExtent();if(f.getWrapX()&&n.canWrapX()&&!(0,c.containsExtent)(g,r)){let t=r[0];const n=(0,c.getWidth)(g);let o,h=0;for(;t<g[0];)--h,o=n*h,a.push(this.getRenderTransform(e,i,s,l.HIT_DETECT_RESOLUTION,u,d,o).slice()),t+=n;for(h=0,t=r[2];t>g[2];)++h,o=n*h,a.push(this.getRenderTransform(e,i,s,l.HIT_DETECT_RESOLUTION,u,d,o).slice()),t-=n}this.hitDetectionImageData_=(0,l.createHitDetectionImageData)(t,a,this.renderedFeatures_,o.getStyleFunction(),r,i,s)}e((0,l.hitDetect)(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))}forEachFeatureAtCoordinate(t,e,i,s,n){if(!this.replayGroup_)return;const r=e.viewState.resolution,o=e.viewState.rotation,a=this.getLayer(),l={},h=function(t,e,i){const r=(0,_.getUid)(t),o=l[r];if(o){if(!0!==o&&i<o.distanceSq){if(0===i)return l[r]=!0,n.splice(n.lastIndexOf(o),1),s(t,a,e);o.geometry=e,o.distanceSq=i}}else{if(0===i)return l[r]=!0,s(t,a,e);n.push(l[r]={feature:t,layer:a,geometry:e,distanceSq:i,callback:s})}};let c;const u=[this.replayGroup_];return this.declutterExecutorGroup&&u.push(this.declutterExecutorGroup),u.some((s=>c=s.forEachFeatureAtCoordinate(t,r,o,i,h,s===this.declutterExecutorGroup&&e.declutterTree?e.declutterTree.all().map((t=>t.value)):null))),c}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}prepareFrame(t){const e=this.getLayer(),i=e.getSource();if(!i)return!1;const n=t.viewHints[a.default.ANIMATING],r=t.viewHints[a.default.INTERACTING],l=e.getUpdateWhileAnimating(),h=e.getUpdateWhileInteracting();if(this.ready&&!l&&n||!h&&r)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const u=t.extent,_=t.viewState,x=_.projection,p=_.resolution,S=t.pixelRatio,y=e.getRevision(),I=e.getRenderBuffer();let v=e.getRenderOrder();void 0===v&&(v=d.defaultOrder);const C=_.center.slice(),E=(0,c.buffer)(u,I*p),T=E.slice(),R=[E.slice()],k=x.getExtent();if(i.getWrapX()&&x.canWrapX()&&!(0,c.containsExtent)(k,t.extent)){const t=(0,c.getWidth)(k),e=Math.max((0,c.getWidth)(E)/2,t);E[0]=k[0]-e,E[2]=k[2]+e,(0,m.wrapX)(C,x);const i=(0,c.wrapX)(R[0],x);i[0]<k[0]&&i[2]<k[2]?R.push([i[0]+t,i[1],i[2]+t,i[3]]):i[0]>k[0]&&i[2]>k[2]&&R.push([i[0]-t,i[1],i[2]-t,i[3]])}if(this.ready&&this.renderedResolution_==p&&this.renderedRevision_==y&&this.renderedRenderOrder_==v&&(0,c.containsExtent)(this.wrappedRenderedExtent_,E))return(0,f.equals)(this.renderedExtent_,T)||(this.hitDetectionImageData_=null,this.renderedExtent_=T),this.renderedCenter_=C,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const w=new(0,s.default)((0,d.getTolerance)(p,S),E,p,S);let D;this.getLayer().getDeclutter()&&(D=new(0,s.default)((0,d.getTolerance)(p,S),E,p,S));const L=(0,g.getUserProjection)();let O;if(L){for(let t=0,e=R.length;t<e;++t){const e=R[t],s=(0,g.toUserExtent)(e,x);i.loadFeatures(s,(0,g.toUserResolution)(p,x),L)}O=(0,g.getTransformFromProjections)(L,x)}else for(let t=0,e=R.length;t<e;++t)i.loadFeatures(R[t],p,x);const F=(0,d.getSquaredTolerance)(p,S);let b=!0;const M=function(t){let i;const s=t.getStyleFunction()||e.getStyleFunction();if(s&&(i=s(t,p)),i){const e=this.renderFeature(t,F,i,w,O,D);b=b&&!e}}.bind(this),A=(0,g.toUserExtent)(E,x),P=i.getFeaturesInExtent(A);v&&P.sort(v);for(let t=0,e=P.length;t<e;++t)M(P[t]);this.renderedFeatures_=P,this.ready=b;const W=w.finish(),G=new(0,o.default)(E,p,S,i.getOverlaps(),W,e.getRenderBuffer());return D&&(this.declutterExecutorGroup=new(0,o.default)(E,p,S,i.getOverlaps(),D.finish(),e.getRenderBuffer())),this.renderedResolution_=p,this.renderedRevision_=y,this.renderedRenderOrder_=v,this.renderedExtent_=T,this.wrappedRenderedExtent_=E,this.renderedCenter_=C,this.renderedProjection_=x,this.replayGroup_=G,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(t,e,i,s,n,r){if(!i)return!1;let o=!1;if(Array.isArray(i))for(let a=0,l=i.length;a<l;++a)o=(0,d.renderFeature)(s,t,i[a],e,this.boundHandleStyleImageChange_,n,r)||o;else o=(0,d.renderFeature)(s,t,i,e,this.boundHandleStyleImageChange_,n,r);return o}}var p=x}));