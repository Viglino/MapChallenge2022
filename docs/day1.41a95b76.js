var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},s=e.parcelRequirecc54;null==s&&((s=function(e){if(e in t)return t[e].exports;if(e in i){var s=i[e];delete i[e];var r={id:e,exports:{}};return t[e]=r,s.call(r.exports,r,r.exports),r.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){i[e]=t},e.parcelRequirecc54=s),s.register("dUROT",(function(e,t){var i,r,n,o;i=e.exports,r="default",n=()=>L,Object.defineProperty(i,r,{get:n,set:o,enumerable:!0,configurable:!0});var a=s("31ZqB"),l=s("eHnTw"),d=s("iTTi2"),u=s("iGyOD"),h=s("7lBr2"),c=s("610XN"),f=s("eQaCk"),y=s("kKEgb"),_=s("l9IGS"),g=s("kBSVF"),p=s("lVQul"),v=s("btuox");const m="select";class F extends d.default{constructor(e,t,i,s){super(e),this.selected=t,this.deselected=i,this.mapBrowserEvent=s}}const A={};class S extends h.default{constructor(e){let t;if(super(),this.on,this.once,this.un,e=e||{},this.boundAddFeature_=this.addFeature_.bind(this),this.boundRemoveFeature_=this.removeFeature_.bind(this),this.condition_=e.condition?e.condition:v.singleClick,this.addCondition_=e.addCondition?e.addCondition:v.never,this.removeCondition_=e.removeCondition?e.removeCondition:v.never,this.toggleCondition_=e.toggleCondition?e.toggleCondition:v.shiftKeyOnly,this.multi_=!!e.multi&&e.multi,this.filter_=e.filter?e.filter:f.TRUE,this.hitTolerance_=e.hitTolerance?e.hitTolerance:0,this.style_=void 0!==e.style?e.style:function(){const e=(0,_.createEditingStyle)();return(0,g.extend)(e.Polygon,e.LineString),(0,g.extend)(e.GeometryCollection,e.LineString),function(t){return t.getGeometry()?e[t.getGeometry().getType()]:null}}(),this.features_=e.features||new(0,a.default),e.layers)if("function"==typeof e.layers)t=e.layers;else{const i=e.layers;t=function(e){return i.includes(e)}}else t=f.TRUE;this.layerFilter_=t,this.featureLayerAssociation_={}}addFeatureLayerAssociation_(e,t){this.featureLayerAssociation_[(0,p.getUid)(e)]=t}getFeatures(){return this.features_}getHitTolerance(){return this.hitTolerance_}getLayer(e){return this.featureLayerAssociation_[(0,p.getUid)(e)]}setHitTolerance(e){this.hitTolerance_=e}setMap(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),super.setMap(e),e?(this.features_.addEventListener(l.default.ADD,this.boundAddFeature_),this.features_.addEventListener(l.default.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(l.default.ADD,this.boundAddFeature_),this.features_.removeEventListener(l.default.REMOVE,this.boundRemoveFeature_))}addFeature_(e){const t=e.element;if(this.style_&&this.applySelectedStyle_(t),!this.getLayer(t)){const e=this.getMap().getAllLayers().find((function(e){if(e instanceof c.default&&e.getSource()&&e.getSource().hasFeature(t))return e}));e&&this.addFeatureLayerAssociation_(t,e)}}removeFeature_(e){this.style_&&this.restorePreviousStyle_(e.element)}getStyle(){return this.style_}applySelectedStyle_(e){const t=(0,p.getUid)(e);t in A||(A[t]=e.getStyle()),e.setStyle(this.style_)}restorePreviousStyle_(e){const t=this.getMap().getInteractions().getArray();for(let i=t.length-1;i>=0;--i){const s=t[i];if(s!==this&&s instanceof S&&s.getStyle()&&-1!==s.getFeatures().getArray().lastIndexOf(e))return void e.setStyle(s.getStyle())}const i=(0,p.getUid)(e);e.setStyle(A[i]),delete A[i]}removeFeatureLayerAssociation_(e){delete this.featureLayerAssociation_[(0,p.getUid)(e)]}handleEvent(e){if(!this.condition_(e))return!0;const t=this.addCondition_(e),i=this.removeCondition_(e),s=this.toggleCondition_(e),r=!t&&!i&&!s,n=e.map,o=this.getFeatures(),a=[],l=[];if(r){(0,y.clear)(this.featureLayerAssociation_),n.forEachFeatureAtPixel(e.pixel,function(e,t){if(e instanceof u.default&&this.filter_(e,t))return this.addFeatureLayerAssociation_(e,t),l.push(e),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let e=o.getLength()-1;e>=0;--e){const t=o.item(e),i=l.indexOf(t);i>-1?l.splice(i,1):(o.remove(t),a.push(t))}0!==l.length&&o.extend(l)}else{n.forEachFeatureAtPixel(e.pixel,function(e,r){if(e instanceof u.default&&this.filter_(e,r))return!t&&!s||o.getArray().includes(e)?(i||s)&&o.getArray().includes(e)&&(a.push(e),this.removeFeatureLayerAssociation_(e)):(this.addFeatureLayerAssociation_(e,r),l.push(e)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let e=a.length-1;e>=0;--e)o.remove(a[e]);o.extend(l)}return(l.length>0||a.length>0)&&this.dispatchEvent(new F(m,l,a,e)),!0}}var L=S}));