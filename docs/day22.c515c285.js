function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},i={},r=e.parcelRequirecc54;null==r&&((r=function(t){if(t in s)return s[t].exports;if(t in i){var e=i[t];delete i[t];var r={id:t,exports:{}};return s[t]=r,e.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){i[t]=e},e.parcelRequirecc54=r);var o=r("6gELa"),a=r("pMeEw"),n=class extends a.default{constructor(t){super({handleDownEvent:function(t){return this._setPosition(t)},handleMoveEvent:function(t){return this._setPosition(t)}}),this.layers_=[],this.precomposeBind_=this.precompose_.bind(this),this.postcomposeBind_=this.postcompose_.bind(this),t=t||{},this.pos=!1,this.radius=t.radius||100,t.layers&&this.addLayer(t.layers),this.setActive(!0)}setMap(t){var e;if(this.getMap()){for(e=0;e<this.layers_.length;e++)this.layers_[e].un(["precompose","prerender"],this.precomposeBind_),this.layers_[e].un(["postcompose","postrender"],this.postcomposeBind_);try{this.getMap().renderSync()}catch(t){}}if(super.setMap(t),t){for(e=0;e<this.layers_.length;e++)this.layers_[e].on(["precompose","prerender"],this.precomposeBind_),this.layers_[e].on(["postcompose","postrender"],this.postcomposeBind_);try{t.renderSync()}catch(t){}}}setRadius(t){if(this.radius=t,this.getMap())try{this.getMap().renderSync()}catch(t){}}getRadius(){return this.radius}addLayer(t){t instanceof Array||(t=[t]);for(var e=0;e<t.length;e++){if(this.getMap()){t[e].on(["precompose","prerender"],this.precomposeBind_),t[e].on(["postcompose","postrender"],this.postcomposeBind_);try{this.getMap().renderSync()}catch(t){}}this.layers_.push(t[e])}}removeLayers(){this.removeLayer(this.layers_)}removeLayer(t){t instanceof Array||(t=[t]);for(var e=0;e<t.length;e++){var s;for(s=0;s<this.layers_.length&&this.layers_[s]!==t[e];s++);s!=this.layers_.length&&this.getMap()&&(this.layers_[s].un(["precompose","prerender"],this.precomposeBind_),this.layers_[s].un(["postcompose","postrender"],this.postcomposeBind_),this.layers_.splice(s,1))}if(this.getMap())try{this.getMap().renderSync()}catch(t){}}setPosition(t){if(this.getMap()){this.pos=this.getMap().getPixelFromCoordinate(t);try{this.getMap().renderSync()}catch(t){}}}getPosition(){return this.pos?this.getMap().getCoordinateFromPixel(this.pos):null}setPixelPosition(t){if(this.pos=t,this.getMap())try{this.getMap().renderSync()}catch(t){}}getPixelPosition(){return this.pos}_setPosition(t){if(("pointermove"!==t.type||"onclick"!==this.get("action"))&&(t.pixel&&(this.pos=t.pixel),this.getMap()))try{this.getMap().renderSync()}catch(t){}}precompose_(t){if(this.getActive()){var e=t.context,s=t.frameState.pixelRatio;e.save(),e.beginPath();var i=[this.pos[0],this.pos[1]],r=this.radius,o=t.inversePixelTransform;o?r=(i=[i[0]*o[0]-i[1]*o[1]+o[4],-i[0]*o[2]+i[1]*o[3]+o[5]])[0]-((this.pos[0]-r)*o[0]-this.pos[1]*o[1]+o[4]):(i[0]*=s,i[1]*=s,r*=s),e.arc(i[0],i[1],r,0,2*Math.PI),e.clip()}}postcompose_(t){this.getActive()&&t.context.restore()}setActive(t){if(t!==this.getActive()&&(super.setActive(t),this.layers_)){var e;if(t)for(e=0;e<this.layers_.length;e++)this.layers_[e].on(["precompose","prerender"],this.precomposeBind_),this.layers_[e].on(["postcompose","postrender"],this.postcomposeBind_);else for(e=0;e<this.layers_.length;e++)this.layers_[e].un(["precompose","prerender"],this.precomposeBind_),this.layers_[e].un(["postcompose","postrender"],this.postcomposeBind_);if(this.getMap())try{this.getMap().renderSync()}catch(t){}}}},h=function(t,e){e||(e={});var s="number"==typeof e.tension?e.tension:.5,i=0,r=t[0];t.forEach((function(t){var e,s,o,a;i+=(s=t,o=(e=r)[0]-s[0],a=e[1]-s[1],Math.sqrt(o*o+a*a)),r=t}));var o,a,n,h,p,c,l,d,f,u,_,g,m,y,v=e.resolution||i/t.length/(e.pointsPerSeg||10),M=[];function w(t,e,s,i){var r=s-t,o=i-e;return Math.sqrt(r*r+o*o)}for(o=t.slice(0),t.length>2&&t[0][0]==t[t.length-1][0]&&t[0][1]==t[t.length-1][1]?(o.unshift(t[t.length-2]),o.push(t[1])):(o.unshift(t[0]),o.push(t[t.length-1])),y=1;y<o.length-2;y++){var P=w(o[y][0],o[y][1],o[y+1][0],o[y+1][1]),x=Math.round(P/v),S=1;if(e.normalize){P=w(o[y+1][0],o[y+1][1],o[y-1][0],o[y-1][1]);var B=w(o[y+2][0],o[y+2][1],o[y][0],o[y][1]);S=P<B?P/B:B/P}for(h=(o[y+1][0]-o[y-1][0])*s*S,p=(o[y+2][0]-o[y][0])*s*S,c=(o[y+1][1]-o[y-1][1])*s*S,l=(o[y+2][1]-o[y][1])*s*S,m=0;m<=x;m++)g=m/x,d=2*Math.pow(g,3)-3*Math.pow(g,2)+1,f=-2*Math.pow(g,3)+3*Math.pow(g,2),u=Math.pow(g,3)-2*Math.pow(g,2)+g,_=Math.pow(g,3)-Math.pow(g,2),a=d*o[y][0]+f*o[y+1][0]+u*h+_*p,n=d*o[y][1]+f*o[y+1][1]+u*c+_*l,a&&n&&M.push([a,n])}return M},p=class extends n{constructor(t){super(t)}precompose_(t){if(this.getActive()){var e=t.context,s=t.frameState.pixelRatio;if(e.save(),!this.pos)return e.beginPath(),e.moveTo(0,0),void e.clip();var i=[this.pos[0],this.pos[1]],r=t.inversePixelTransform;r?i=[i[0]*r[0]-i[1]*r[1]+r[4],-i[0]*r[2]+i[1]*r[3]+r[5]]:(i[0]*=s,i[1]*=s),this.frame||(this.frame=t.frameState.time);var o=t.frameState.time-this.frame;this.frame=t.frameState.time,i=this._getCenter(i,o);var a=this._calculate(o),n=a[0];e.beginPath(),e.moveTo(i[0]+n[0],i[1]+n[1]);for(var h=1;n=a[h];h++)e.lineTo(i[0]+n[0],i[1]+n[1]);e.clip(),t.frameState.animate=!0}}_getCenter(t,e){if(this._center){var s=this.get("stiffness")||20,i=-1*(this.get("damping")||7),r=Math.max(this.get("mass")||1,.1),o=Math.min(e/1e3,1/30),a=[s*(t[0]-this._center[0]),s*(t[1]-this._center[1])],n=[i*this._velocity[0],i*this._velocity[1]],h=[(a[0]+n[0])/r,(a[1]+n[1])/r];this._velocity[0]+=h[0]*o,this._velocity[1]+=h[1]*o,this._center[0]+=this._velocity[0]*o,this._center[1]+=this._velocity[1]*o}else this._center=t,this._velocity=[0,0];return this._center}_calculate(t){var e,s=this.get("points")||10;if(!this._waves||this._waves.length!==s)for(this._waves=[],e=0;e<s;e++)this._waves.push({angle:Math.random()*Math.PI,noise:Math.random()});var i=[],r=(this._velocity[0]*this._velocity[0]+this._velocity[1]*this._velocity[1])/500;for(this._rotation=(this._rotation||0)+(this._velocity[0]>0?1:-1)*Math.min(.015,r/7e4*t),e=0;e<s;e++){var o=2*e*Math.PI/s+this._rotation,a=this.radius+Math.min(this.radius,r),n=Math.cos(this._waves[e].angle)*a/4*this._waves[e].noise*(this.get("amplitude")||1);i.push([(this.radius+n)*Math.cos(o),(this.radius+n)*Math.sin(o)]),this._waves[e].angle+=(Math.PI+Math.random()+r/200)/350*t*(this.get("fuss")||1),this._waves[e].noise=Math.min(1,Math.max(0,this._waves[e].noise+.1*(Math.random()-.5)*(this.get("fuss")||1)))}return i.push(i[0]),h(i,{tension:this.get("tension")})}},c=r("1B70O");(0,r("jZUWm").default)(t('<div> <h2> Day 22: Blob! </h2> <p> There is a <a href="http://viglino.github.io/ol-ext/doc/doc-pages/ol.interaction.Blob.html" target="_new">blob</a> on my map! </p> </div>'));const l=new(0,o.default)({layer:"GEOGRAPHICALGRIDSYSTEMS.PLANIGNV2"}),d=new(0,o.default)({layer:"ORTHOIMAGERY.ORTHOPHOTOS"});c.default.addLayer(d),c.default.addLayer(l),c.default.getView().setZoom(16),c.default.getView().setCenter([-172673,5976786]);const f=new p({radius:80,layers:l});c.default.addInteraction(f),f.setPosition(c.default.getView().getCenter());