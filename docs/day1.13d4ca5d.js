function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},o={},n=t.parcelRequirecc54;null==n&&((n=function(e){if(e in i)return i[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return i[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},t.parcelRequirecc54=n);var a=n("6gELa"),r=n("2YyN3"),s=n("8vXOK"),c=n("dVSax"),h=n("1FnBm"),l=n("av38f"),f=n("bCUH1"),m=n("3CYjy"),d=n("14PDX"),u=n("jZquI"),p=n("713Fw"),g=n("lVQul"),k=n("6BjcK"),y=n("d1ltq");const v={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},b={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]};class _ extends h.default{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.renderedLayerRevision_,this.renderedPixelToCoordinateTransform_=null,this.renderedRotation_,this.tmpTransform_=(0,d.create)()}prepareTile(e,t,i){let o;const n=e.getState();return n!==l.default.LOADED&&n!==l.default.ERROR||(this.updateExecutorGroup_(e,t,i),this.tileImageNeedsRender_(e)&&(o=!0)),o}getTile(e,t,i,o){const n=o.pixelRatio,a=o.viewState,r=a.resolution,s=a.projection,c=this.getLayer(),h=c.getSource().getTile(e,t,i,n,s),l=o.viewHints,m=!(l[f.default.ANIMATING]||l[f.default.INTERACTING]);!m&&h.wantedResolution||(h.wantedResolution=r);return this.prepareTile(h,n,s)&&(m||Date.now()-o.time<8)&&"vector"!==c.getRenderMode()&&this.renderTileImage_(h,o),super.getTile(e,t,i,o)}isDrawableTile(e){const t=this.getLayer();return super.isDrawableTile(e)&&("vector"===t.getRenderMode()?(0,g.getUid)(t)in e.executorGroups:e.hasContext(t))}getTileImage(e){return e.getImage(this.getLayer())}prepareFrame(e){const t=this.getLayer().getRevision();return this.renderedLayerRevision_!==t&&(this.renderedLayerRevision_=t,this.renderedTiles.length=0),super.prepareFrame(e)}updateExecutorGroup_(e,t,i){const o=this.getLayer(),n=o.getRevision(),a=o.getRenderOrder()||null,r=e.wantedResolution,h=e.getReplayState(o);if(!h.dirty&&h.renderedResolution===r&&h.renderedRevision==n&&h.renderedRenderOrder==a)return;const f=o.getSource(),m=o.getDeclutter(),d=f.getTileGrid(),k=f.getTileGridForProjection(i).getTileCoordExtent(e.wrappedTileCoord),y=f.getSourceTiles(t,i,e),v=(0,g.getUid)(o);delete e.hitDetectionImageData[v],e.executorGroups[v]=[],m&&(e.declutterExecutorGroups[v]=[]),h.dirty=!1;for(let i=0,n=y.length;i<n;++i){const n=y[i];if(n.getState()!=l.default.LOADED)continue;const g=n.tileCoord,b=d.getTileCoordExtent(g),_=(0,u.getIntersection)(k,b),w=(0,u.buffer)(_,o.getRenderBuffer()*r,this.tmpExtent),x=(0,u.equals)(b,_)?null:w,T=new(0,s.default)(0,w,r,t),S=m?new(0,s.default)(0,_,r,t):void 0,C=(0,p.getSquaredTolerance)(r,t),F=function(e){let t;const i=e.getStyleFunction()||o.getStyleFunction();if(i&&(t=i(e,r)),t){const i=this.renderFeature(e,C,t,T,S);h.dirty=h.dirty||i}},P=n.getFeatures();a&&a!==h.renderedRenderOrder&&P.sort(a);for(let e=0,t=P.length;e<t;++e){const t=P[e];x&&!(0,u.intersects)(x,t.getGeometry().getExtent())||F.call(this,t)}const E=T.finish(),R="vector"!==o.getRenderMode()&&m&&1===y.length?null:_,L=new(0,c.default)(R,r,t,f.getOverlaps(),E,o.getRenderBuffer());if(e.executorGroups[v].push(L),S){const i=new(0,c.default)(null,r,t,f.getOverlaps(),S.finish(),o.getRenderBuffer());e.declutterExecutorGroups[v].push(i)}}h.renderedRevision=n,h.renderedRenderOrder=a,h.renderedResolution=r}forEachFeatureAtCoordinate(e,t,i,o,n){const a=t.viewState.resolution,r=t.viewState.rotation;i=null==i?0:i;const s=this.getLayer(),c=s.getSource().getTileGridForProjection(t.viewState.projection),h=(0,u.boundingExtent)([e]);(0,u.buffer)(h,a*i,h);const l={},f=function(e,t,i){let a=e.getId();void 0===a&&(a=(0,g.getUid)(e));const r=l[a];if(r){if(!0!==r&&i<r.distanceSq){if(0===i)return l[a]=!0,n.splice(n.lastIndexOf(r),1),o(e,s,t);r.geometry=t,r.distanceSq=i}}else{if(0===i)return l[a]=!0,o(e,s,t);n.push(l[a]={feature:e,layer:s,geometry:t,distanceSq:i,callback:o})}},m=this.renderedTiles;let d;for(let o=0,n=m.length;!d&&o<n;++o){const n=m[o],l=c.getTileCoordExtent(n.wrappedTileCoord);if(!(0,u.intersects)(l,h))continue;const p=(0,g.getUid)(s),k=[n.executorGroups[p]],y=n.declutterExecutorGroups[p];y&&k.push(y),k.some((o=>{const n=o===y?t.declutterTree.all().map((e=>e.value)):null;for(let t=0,s=o.length;t<s;++t){const s=o[t];if(d=s.forEachFeatureAtCoordinate(e,a,r,i,f,n),d)return!0}}))}return d}getFeatures(e){return new Promise(function(t,i){const o=this.getLayer(),n=(0,g.getUid)(o),a=o.getSource(),r=this.renderedProjection,s=r.getExtent(),c=this.renderedResolution,h=a.getTileGridForProjection(r),f=(0,d.apply)(this.renderedPixelToCoordinateTransform_,e.slice()),p=h.getTileCoordForCoordAndResolution(f,c);let v;for(let e=0,t=this.renderedTiles.length;e<t;++e)if(p.toString()===this.renderedTiles[e].tileCoord.toString()){if(v=this.renderedTiles[e],v.getState()===l.default.LOADED){const e=h.getTileCoordExtent(v.tileCoord);a.getWrapX()&&r.canWrapX()&&!(0,u.containsExtent)(s,e)&&(0,y.wrapX)(f,r);break}v=void 0}if(!v||v.loadingSourceTiles>0)return void t([]);const b=h.getTileCoordExtent(v.wrappedTileCoord),_=(0,u.getTopLeft)(b),w=[(f[0]-_[0])/c,(_[1]-f[1])/c],x=v.getSourceTiles().reduce((function(e,t){return e.concat(t.getFeatures())}),[]);let T=v.hitDetectionImageData[n];if(!T&&!this.animatingOrInteracting_){const e=(0,k.toSize)(h.getTileSize(h.getZForResolution(c,a.zDirection))),t=this.renderedRotation_,i=[this.getRenderTransform(h.getTileCoordCenter(v.wrappedTileCoord),c,0,m.HIT_DETECT_RESOLUTION,e[0]*m.HIT_DETECT_RESOLUTION,e[1]*m.HIT_DETECT_RESOLUTION,0)];T=(0,m.createHitDetectionImageData)(e,i,x,o.getStyleFunction(),h.getTileCoordExtent(v.wrappedTileCoord),v.getReplayState(o).renderedResolution,t),v.hitDetectionImageData[n]=T}t((0,m.hitDetect)(w,x,T))}.bind(this))}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}renderDeclutter(e){const t=this.context,i=t.globalAlpha;t.globalAlpha=this.getLayer().getOpacity();const o=e.viewHints,n=!(o[f.default.ANIMATING]||o[f.default.INTERACTING]),a=this.renderedTiles;for(let t=0,i=a.length;t<i;++t){const i=a[t],o=i.declutterExecutorGroups[(0,g.getUid)(this.getLayer())];if(o)for(let t=o.length-1;t>=0;--t)o[t].execute(this.context,1,this.getTileRenderTransform(i,e),e.viewState.rotation,n,void 0,e.declutterTree)}t.globalAlpha=i}getTileRenderTransform(e,t){const i=t.pixelRatio,o=t.viewState,n=o.center,a=o.resolution,r=o.rotation,s=t.size,c=Math.round(s[0]*i),h=Math.round(s[1]*i),l=this.getLayer().getSource().getTileGridForProjection(t.viewState.projection),f=e.tileCoord,m=l.getTileCoordExtent(e.wrappedTileCoord),u=l.getTileCoordExtent(f,this.tmpExtent)[0]-m[0];return(0,d.multiply)((0,d.scale)(this.inversePixelTransform.slice(),1/i,1/i),this.getRenderTransform(n,a,r,i,c,h,u))}postRender(e,t){const i=t.viewHints,o=!(i[f.default.ANIMATING]||i[f.default.INTERACTING]);this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform.slice(),this.renderedRotation_=t.viewState.rotation;const n=this.getLayer(),a=n.getRenderMode(),r=e.globalAlpha;e.globalAlpha=n.getOpacity();const s=b[a],c=t.viewState,h=c.rotation,l=n.getSource(),m=l.getTileGridForProjection(c.projection).getZForResolution(c.resolution,l.zDirection),d=this.renderedTiles,p=[],k=[];let y=!0;for(let i=d.length-1;i>=0;--i){const a=d[i];y=y&&!a.getReplayState(n).dirty;const r=a.executorGroups[(0,g.getUid)(n)].filter((e=>e.hasExecutors(s)));if(0===r.length)continue;const c=this.getTileRenderTransform(a,t),l=a.tileCoord[0];let f=!1;const v=r[0].getClipCoords(c);if(v){for(let t=0,i=p.length;t<i;++t)if(m!==l&&l<k[t]){const i=p[t];(0,u.intersects)([v[0],v[3],v[4],v[7]],[i[0],i[3],i[4],i[7]])&&(f||(e.save(),f=!0),e.beginPath(),e.moveTo(v[0],v[1]),e.lineTo(v[2],v[3]),e.lineTo(v[4],v[5]),e.lineTo(v[6],v[7]),e.moveTo(i[6],i[7]),e.lineTo(i[4],i[5]),e.lineTo(i[2],i[3]),e.lineTo(i[0],i[1]),e.clip())}p.push(v),k.push(l)}for(let t=0,i=r.length;t<i;++t){r[t].execute(e,1,c,h,o,s)}f&&e.restore()}e.globalAlpha=r,this.ready=y,super.postRender(e,t)}renderFeature(e,t,i,o,n){if(!i)return!1;let a=!1;if(Array.isArray(i))for(let r=0,s=i.length;r<s;++r)a=(0,p.renderFeature)(o,e,i[r],t,this.boundHandleStyleImageChange_,void 0,n)||a;else a=(0,p.renderFeature)(o,e,i,t,this.boundHandleStyleImageChange_,void 0,n);return a}tileImageNeedsRender_(e){const t=this.getLayer();if("vector"===t.getRenderMode())return!1;const i=e.getReplayState(t),o=t.getRevision(),n=e.wantedResolution;return i.renderedTileResolution!==n||i.renderedTileRevision!==o}renderTileImage_(e,t){const i=this.getLayer(),o=e.getReplayState(i),n=i.getRevision(),a=e.executorGroups[(0,g.getUid)(i)];o.renderedTileRevision=n;const r=e.wrappedTileCoord,s=r[0],c=i.getSource();let h=t.pixelRatio;const l=t.viewState.projection,f=c.getTileGridForProjection(l),m=f.getResolution(e.tileCoord[0]),u=t.pixelRatio/e.wantedResolution*m,p=f.getResolution(s),k=e.getContext(i);h=Math.round(Math.max(h,u/h));const y=c.getTilePixelSize(s,h,l);k.canvas.width=y[0],k.canvas.height=y[1];const b=h/u;if(1!==b){const e=(0,d.reset)(this.tmpTransform_);(0,d.scale)(e,b,b),k.setTransform.apply(k,e)}const _=f.getTileCoordExtent(r,this.tmpExtent),w=u/p,x=(0,d.reset)(this.tmpTransform_);(0,d.scale)(x,w,-w),(0,d.translate)(x,-_[0],-_[3]);for(let e=0,t=a.length;e<t;++e){a[e].execute(k,b,x,0,!0,v[i.getRenderMode()])}o.renderedTileResolution=e.wantedResolution}}var w=_,x=n("8ElLP"),T=n("eJ4LZ");class S extends r.default{constructor(e){e=e||{};const t=Object.assign({},e);delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un;const i=e.renderMode||"hybrid";(0,T.assert)("hybrid"==i||"vector"==i,28),this.renderMode_=i,this.setPreload(e.preload?e.preload:0),this.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError),this.getBackground,this.setBackground}createRenderer(){return new w(this)}getFeatures(e){return super.getFeatures(e)}getRenderMode(){return this.renderMode_}getPreload(){return this.get(x.default.PRELOAD)}getUseInterimTilesOnError(){return this.get(x.default.USE_INTERIM_TILES_ON_ERROR)}setPreload(e){this.set(x.default.PRELOAD,e)}setUseInterimTilesOnError(e){this.set(x.default.USE_INTERIM_TILES_ON_ERROR,e)}}var C=S,F=n("cw4dl"),P=n("hMeZw");l=n("av38f");class E extends P.default{constructor(e,t,i,o,n,a){super(e,t,a),this.extent=null,this.format_=o,this.features_=null,this.loader_,this.projection=null,this.resolution,this.tileLoadFunction_=n,this.url_=i,this.key=i}getFormat(){return this.format_}getFeatures(){return this.features_}load(){this.state==l.default.IDLE&&(this.setState(l.default.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))}onLoad(e,t){this.setFeatures(e)}onError(){this.setState(l.default.ERROR)}setFeatures(e){this.features_=e,this.setState(l.default.LOADED)}setLoader(e){this.loader_=e}}var R=E,L=n("85w1a"),I=n("co8nU"),M=(l=n("av38f"),n("5k6kp")),A=(P=n("hMeZw"),n("cgxQK"));g=n("lVQul");const O=[];class D extends P.default{constructor(e,t,i,o){super(e,t,{transition:0}),this.context_={},this.executorGroups={},this.declutterExecutorGroups={},this.loadingSourceTiles=0,this.hitDetectionImageData={},this.replayState_={},this.sourceTiles=[],this.errorTileKeys={},this.wantedResolution,this.getSourceTiles=o.bind(void 0,this),this.wrappedTileCoord=i}getContext(e){const t=(0,g.getUid)(e);return t in this.context_||(this.context_[t]=(0,A.createCanvasContext2D)(1,1,O)),this.context_[t]}hasContext(e){return(0,g.getUid)(e)in this.context_}getImage(e){return this.hasContext(e)?this.getContext(e).canvas:null}getReplayState(e){const t=(0,g.getUid)(e);return t in this.replayState_||(this.replayState_[t]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[t]}load(){this.getSourceTiles()}release(){for(const e in this.context_){const t=this.context_[e];(0,A.releaseCanvas)(t),O.push(t.canvas),delete this.context_[e]}super.release()}}var V=D,j=n("3QMf6"),N=(u=n("jZquI"),n("5NhYx")),B=n("9YraL"),G=n("kKEgb"),z=n("kWPIP");k=n("6BjcK");class q extends M.default{constructor(e){const t=e.projection||"EPSG:3857",i=e.extent||(0,N.extentFromProjection)(t),o=e.tileGrid||(0,N.createXYZ)({extent:i,maxResolution:e.maxResolution,maxZoom:void 0!==e.maxZoom?e.maxZoom:22,minZoom:e.minZoom,tileSize:e.tileSize||512});super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,interpolate:!0,opaque:!1,projection:t,state:e.state,tileGrid:o,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:W,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:void 0===e.zDirection?1:e.zDirection}),this.format_=e.format?e.format:null,this.sourceTileCache=new(0,L.default)(this.tileCache.highWaterMark),this.overlaps_=null==e.overlaps||e.overlaps,this.tileClass=e.tileClass?e.tileClass:R,this.tileGrids_={}}getFeaturesInExtent(e){const t=[],i=this.tileCache;if(0===i.getCount())return t;const o=(0,B.fromKey)(i.peekFirstKey())[0],n=this.tileGrid;return i.forEach((function(i){if(i.tileCoord[0]!==o||i.getState()!==l.default.LOADED)return;const a=i.getSourceTiles();for(let i=0,o=a.length;i<o;++i){const o=a[i],r=o.tileCoord;if((0,u.intersects)(e,n.getTileCoordExtent(r))){const i=o.getFeatures();if(i)for(let o=0,n=i.length;o<n;++o){const n=i[o],a=n.getGeometry();(0,u.intersects)(e,a.getExtent())&&t.push(n)}}}})),t}getOverlaps(){return this.overlaps_}clear(){this.tileCache.clear(),this.sourceTileCache.clear()}expireCache(e,t){const i=this.getTileCacheForProjection(e),o=Object.keys(t).reduce(((e,t)=>{const o=(0,B.getCacheKeyForTileKey)(t),n=i.peek(o);if(n){const t=n.sourceTiles;for(let i=0,o=t.length;i<o;++i)e[t[i].getKey()]=!0}return e}),{});super.expireCache(e,t),this.sourceTileCache.expireCache(o)}getSourceTiles(e,t,i){if(i.getState()===l.default.IDLE){i.setState(l.default.LOADING);const o=i.wrappedTileCoord,n=this.getTileGridForProjection(t),a=n.getTileCoordExtent(o),r=o[0],s=n.getResolution(r);(0,u.buffer)(a,-s,a);const c=this.tileGrid,h=c.getExtent();h&&(0,u.getIntersection)(a,h,a);const f=c.getZForResolution(s,this.zDirection);c.forEachTileCoord(a,f,(o=>{const n=this.tileUrlFunction(o,e,t),a=this.sourceTileCache.containsKey(n)?this.sourceTileCache.get(n):new this.tileClass(o,n?l.default.IDLE:l.default.EMPTY,n,this.format_,this.tileLoadFunction);i.sourceTiles.push(a);const r=a.getState();if(r<l.default.LOADED){const e=t=>{this.handleTileChange(t);const o=a.getState();if(o===l.default.LOADED||o===l.default.ERROR){const t=a.getKey();t in i.errorTileKeys?a.getState()===l.default.LOADED&&delete i.errorTileKeys[t]:i.loadingSourceTiles--,o===l.default.ERROR?i.errorTileKeys[t]=!0:a.removeEventListener(F.default.CHANGE,e),0===i.loadingSourceTiles&&i.setState((0,G.isEmpty)(i.errorTileKeys)?l.default.LOADED:l.default.ERROR)}};a.addEventListener(F.default.CHANGE,e),i.loadingSourceTiles++}r===l.default.IDLE&&(a.extent=c.getTileCoordExtent(o),a.projection=t,a.resolution=c.getResolution(o[0]),this.sourceTileCache.set(n,a),a.load())})),i.loadingSourceTiles||i.setState(i.sourceTiles.some((e=>e.getState()===l.default.ERROR))?l.default.ERROR:l.default.LOADED)}return i.sourceTiles}getTile(e,t,i,o,n){const a=(0,B.getKeyZXY)(e,t,i),r=this.getKey();let s;if(this.tileCache.containsKey(a)&&(s=this.tileCache.get(a),s.key===r))return s;const c=[e,t,i];let h=this.getTileCoordForTileUrlFunction(c,n);const f=this.getTileGrid().getExtent(),m=this.getTileGridForProjection(n);if(h&&f){const t=m.getTileCoordExtent(h);(0,u.buffer)(t,-m.getResolution(e),t),(0,u.intersects)(f,t)||(h=null)}let d=!0;if(null!==h){const t=this.tileGrid,i=m.getResolution(e),a=t.getZForResolution(i,1),r=m.getTileCoordExtent(h);(0,u.buffer)(r,-i,r),t.forEachTileCoord(r,a,function(e){d=d&&!this.tileUrlFunction(e,o,n)}.bind(this))}const p=new V(c,d?l.default.EMPTY:l.default.IDLE,h,this.getSourceTiles.bind(this,o,n));return p.key=r,s?(p.interimTile=s,p.refreshInterimChain(),this.tileCache.replace(a,p)):this.tileCache.set(a,p),p}getTileGridForProjection(e){const t=e.getCode();let i=this.tileGrids_[t];if(!i){const e=this.tileGrid,o=e.getResolutions().slice(),n=o.map((function(t,i){return e.getOrigin(i)})),a=o.map((function(t,i){return e.getTileSize(i)})),r=j.DEFAULT_MAX_ZOOM+1;for(let e=o.length;e<r;++e)o.push(o[e-1]/2),n.push(n[e-1]),a.push(a[e-1]);i=new(0,I.default)({extent:e.getExtent(),origins:n,resolutions:o,tileSizes:a}),this.tileGrids_[t]=i}return i}getTilePixelRatio(e){return e}getTilePixelSize(e,t,i){const o=this.getTileGridForProjection(i),n=(0,k.toSize)(o.getTileSize(e),this.tmpSize);return[Math.round(n[0]*t),Math.round(n[1]*t)]}updateCacheSize(e,t){super.updateCacheSize(2*e,t),this.sourceTileCache.highWaterMark=this.getTileCacheForProjection(t).highWaterMark}}var U=q;function W(e,t){e.setLoader((function(i,o,n){(0,z.loadFeaturesXhr)(t,e.getFormat(),i,o,n,e.onLoad.bind(e),e.onError.bind(e))}))}var Y,X,K,H=n("9z1G1"),Z=n("hvEnP"),Q=n("7TB1l"),$=n("ljDIj"),J=n("dEQmT");function ee(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}Y=ee,X=function(e,t,i,o,n){var a,r,s=8*n-o-1,c=(1<<s)-1,h=c>>1,l=-7,f=i?n-1:0,m=i?-1:1,d=e[t+f];for(f+=m,a=d&(1<<-l)-1,d>>=-l,l+=s;l>0;a=256*a+e[t+f],f+=m,l-=8);for(r=a&(1<<-l)-1,a>>=-l,l+=o;l>0;r=256*r+e[t+f],f+=m,l-=8);if(0===a)a=1-h;else{if(a===c)return r?NaN:1/0*(d?-1:1);r+=Math.pow(2,o),a-=h}return(d?-1:1)*r*Math.pow(2,a-o)},K=function(e,t,i,o,n,a){var r,s,c,h=8*a-n-1,l=(1<<h)-1,f=l>>1,m=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,d=o?0:a-1,u=o?1:-1,p=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,r=l):(r=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-r))<1&&(r--,c*=2),(t+=r+f>=1?m/c:m*Math.pow(2,1-f))*c>=2&&(r++,c/=2),r+f>=l?(s=0,r=l):r+f>=1?(s=(t*c-1)*Math.pow(2,n),r+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,n),r=0));n>=8;e[i+d]=255&s,d+=u,s/=256,n-=8);for(r=r<<n|s,h+=n;h>0;e[i+d]=255&r,d+=u,r/=256,h-=8);e[i+d-u]|=128*p},ee.Varint=0,ee.Fixed64=1,ee.Bytes=2,ee.Fixed32=5;var te="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function ie(e){return e.type===ee.Bytes?e.readVarint()+e.pos:e.pos+1}function oe(e,t,i){return i?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function ne(e,t,i){var o=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));i.realloc(o);for(var n=i.pos-1;n>=e;n--)i.buf[n+o]=i.buf[n]}function ae(e,t){for(var i=0;i<e.length;i++)t.writeVarint(e[i])}function re(e,t){for(var i=0;i<e.length;i++)t.writeSVarint(e[i])}function se(e,t){for(var i=0;i<e.length;i++)t.writeFloat(e[i])}function ce(e,t){for(var i=0;i<e.length;i++)t.writeDouble(e[i])}function he(e,t){for(var i=0;i<e.length;i++)t.writeBoolean(e[i])}function le(e,t){for(var i=0;i<e.length;i++)t.writeFixed32(e[i])}function fe(e,t){for(var i=0;i<e.length;i++)t.writeSFixed32(e[i])}function me(e,t){for(var i=0;i<e.length;i++)t.writeFixed64(e[i])}function de(e,t){for(var i=0;i<e.length;i++)t.writeSFixed64(e[i])}function ue(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function pe(e,t,i){e[i]=t,e[i+1]=t>>>8,e[i+2]=t>>>16,e[i+3]=t>>>24}function ge(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}ee.prototype={destroy:function(){this.buf=null},readFields:function(e,t,i){for(i=i||this.length;this.pos<i;){var o=this.readVarint(),n=o>>3,a=this.pos;this.type=7&o,e(n,t,this),this.pos===a&&this.skip(o)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=ue(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=ge(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=ue(this.buf,this.pos)+4294967296*ue(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=ue(this.buf,this.pos)+4294967296*ge(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=X(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=X(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,i,o=this.buf;return t=127&(i=o[this.pos++]),i<128?t:(t|=(127&(i=o[this.pos++]))<<7,i<128?t:(t|=(127&(i=o[this.pos++]))<<14,i<128?t:(t|=(127&(i=o[this.pos++]))<<21,i<128?t:function(e,t,i){var o,n,a=i.buf;if(n=a[i.pos++],o=(112&n)>>4,n<128)return oe(e,o,t);if(n=a[i.pos++],o|=(127&n)<<3,n<128)return oe(e,o,t);if(n=a[i.pos++],o|=(127&n)<<10,n<128)return oe(e,o,t);if(n=a[i.pos++],o|=(127&n)<<17,n<128)return oe(e,o,t);if(n=a[i.pos++],o|=(127&n)<<24,n<128)return oe(e,o,t);if(n=a[i.pos++],o|=(1&n)<<31,n<128)return oe(e,o,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(i=o[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&te?function(e,t,i){return te.decode(e.subarray(t,i))}(this.buf,t,e):function(e,t,i){var o="",n=t;for(;n<i;){var a,r,s,c=e[n],h=null,l=c>239?4:c>223?3:c>191?2:1;if(n+l>i)break;1===l?c<128&&(h=c):2===l?128==(192&(a=e[n+1]))&&(h=(31&c)<<6|63&a)<=127&&(h=null):3===l?(a=e[n+1],r=e[n+2],128==(192&a)&&128==(192&r)&&((h=(15&c)<<12|(63&a)<<6|63&r)<=2047||h>=55296&&h<=57343)&&(h=null)):4===l&&(a=e[n+1],r=e[n+2],s=e[n+3],128==(192&a)&&128==(192&r)&&128==(192&s)&&((h=(15&c)<<18|(63&a)<<12|(63&r)<<6|63&s)<=65535||h>=1114112)&&(h=null)),null===h?(h=65533,l=1):h>65535&&(h-=65536,o+=String.fromCharCode(h>>>10&1023|55296),h=56320|1023&h),o+=String.fromCharCode(h),n+=l}return o}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==ee.Bytes)return e.push(this.readVarint(t));var i=ie(this);for(e=e||[];this.pos<i;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==ee.Bytes)return e.push(this.readSVarint());var t=ie(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==ee.Bytes)return e.push(this.readBoolean());var t=ie(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==ee.Bytes)return e.push(this.readFloat());var t=ie(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==ee.Bytes)return e.push(this.readDouble());var t=ie(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==ee.Bytes)return e.push(this.readFixed32());var t=ie(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==ee.Bytes)return e.push(this.readSFixed32());var t=ie(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==ee.Bytes)return e.push(this.readFixed64());var t=ie(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==ee.Bytes)return e.push(this.readSFixed64());var t=ie(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===ee.Varint)for(;this.buf[this.pos++]>127;);else if(t===ee.Bytes)this.pos=this.readVarint()+this.pos;else if(t===ee.Fixed32)this.pos+=4;else{if(t!==ee.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var i=new Uint8Array(t);i.set(this.buf),this.buf=i,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),pe(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),pe(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),pe(this.buf,-1&e,this.pos),pe(this.buf,Math.floor(2.3283064365386963e-10*e),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),pe(this.buf,-1&e,this.pos),pe(this.buf,Math.floor(2.3283064365386963e-10*e),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var i,o;e>=0?(i=e%4294967296|0,o=e/4294967296|0):(o=~(-e/4294967296),4294967295^(i=~(-e%4294967296))?i=i+1|0:(i=0,o=o+1|0));if(e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,i){i.buf[i.pos++]=127&e|128,e>>>=7,i.buf[i.pos++]=127&e|128,e>>>=7,i.buf[i.pos++]=127&e|128,e>>>=7,i.buf[i.pos++]=127&e|128,e>>>=7,i.buf[i.pos]=127&e}(i,0,t),function(e,t){var i=(7&e)<<4;if(t.buf[t.pos++]|=i|((e>>>=3)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;t.buf[t.pos++]=127&e}(o,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,i){for(var o,n,a=0;a<t.length;a++){if((o=t.charCodeAt(a))>55295&&o<57344){if(!n){o>56319||a+1===t.length?(e[i++]=239,e[i++]=191,e[i++]=189):n=o;continue}if(o<56320){e[i++]=239,e[i++]=191,e[i++]=189,n=o;continue}o=n-55296<<10|o-56320|65536,n=null}else n&&(e[i++]=239,e[i++]=191,e[i++]=189,n=null);o<128?e[i++]=o:(o<2048?e[i++]=o>>6|192:(o<65536?e[i++]=o>>12|224:(e[i++]=o>>18|240,e[i++]=o>>12&63|128),e[i++]=o>>6&63|128),e[i++]=63&o|128)}return i}(this.buf,e,this.pos);var i=this.pos-t;i>=128&&ne(t,i,this),this.pos=t-1,this.writeVarint(i),this.pos+=i},writeFloat:function(e){this.realloc(4),K(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),K(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var i=0;i<t;i++)this.buf[this.pos++]=e[i]},writeRawMessage:function(e,t){this.pos++;var i=this.pos;e(t,this);var o=this.pos-i;o>=128&&ne(i,o,this),this.pos=i-1,this.writeVarint(o),this.pos+=o},writeMessage:function(e,t,i){this.writeTag(e,ee.Bytes),this.writeRawMessage(t,i)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,ae,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,re,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,he,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,se,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,ce,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,le,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,fe,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,me,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,de,t)},writeBytesField:function(e,t){this.writeTag(e,ee.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,ee.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,ee.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,ee.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,ee.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,ee.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,ee.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,ee.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,ee.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,ee.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};var ke=n("j2K3b"),ye=n("cgPpQ"),ve=n("5zIbz"),be=n("iGyOD"),_e=(n("2Rfa4"),d=n("14PDX"),u=n("jZquI"),n("kBSVF")),we=n("ec4vu"),xe=n("gzr8q"),Te=n("2cCpz"),Se=n("1fqgz"),Ce=n("88eMt"),Fe=n("bsQCi");const Pe=(0,d.create)();class Ee{constructor(e,t,i,o,n){this.styleFunction,this.extent_,this.id_=n,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i,this.properties_=o}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_="Point"===this.type_?(0,u.createOrUpdateFromCoordinate)(this.flatCoordinates_):(0,u.createOrUpdateFromFlatCoordinates)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const e=(0,u.getCenter)(this.getExtent());this.flatInteriorPoints_=(0,we.getInteriorPointOfArray)(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const e=(0,Ce.linearRingss)(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=(0,we.getInteriorPointsOfMultiArray)(this.flatCoordinates_,0,this.ends_,2,e)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=(0,Se.interpolatePoint)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let t=0;const i=this.ends_;for(let o=0,n=i.length;o<n;++o){const n=i[o],a=(0,Se.interpolatePoint)(e,t,n,2,.5);(0,_e.extend)(this.flatMidpoints_,a),t=n}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,t){return this}getProperties(){return this.properties_}getStride(){return 2}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){const t=(e=(0,xe.get)(e)).getExtent(),i=e.getWorldExtent();if(t&&i){const e=(0,u.getHeight)(i)/(0,u.getHeight)(t);(0,d.compose)(Pe,i[0],i[3],e,-e,0,0,0),(0,Fe.transform2D)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,Pe,this.flatCoordinates_)}}getEnds(){return this.ends_}}Ee.prototype.getEndss=Ee.prototype.getEnds,Ee.prototype.getFlatCoordinates=Ee.prototype.getOrientedFlatCoordinates;var Re=Ee;T=n("eJ4LZ"),xe=n("gzr8q"),Te=n("2cCpz");class Le extends H.default{constructor(e){super(),e=e||{},this.dataProjection=new(0,ve.default)({code:"",units:"tile-pixels"}),this.featureClass_=e.featureClass?e.featureClass:Re,this.geometryName_=e.geometryName,this.layerName_=e.layerName?e.layerName:"layer",this.layers_=e.layers?e.layers:null,this.idProperty_=e.idProperty,this.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"]}readRawGeometry_(e,t,i,o){e.pos=t.geometry;const n=e.readVarint()+e.pos;let a=1,r=0,s=0,c=0,h=0,l=0;for(;e.pos<n;){if(!r){const t=e.readVarint();a=7&t,r=t>>3}r--,1===a||2===a?(s+=e.readSVarint(),c+=e.readSVarint(),1===a&&h>l&&(o.push(h),l=h),i.push(s,c),h+=2):7===a?h>l&&(i.push(i[l],i[l+1]),h+=2):(0,T.assert)(!1,59)}h>l&&(o.push(h),l=h)}createFeature_(e,t,i){const o=t.type;if(0===o)return null;let n;const a=t.properties;let r;this.idProperty_?(r=a[this.idProperty_],delete a[this.idProperty_]):r=t.id,a[this.layerName_]=t.layer.name;const s=[],c=[];this.readRawGeometry_(e,t,s,c);const h=function(e,t){let i;1===e?i=1===t?"Point":"MultiPoint":2===e?i=1===t?"LineString":"MultiLineString":3===e&&(i="Polygon");return i}(o,c.length);if(this.featureClass_===Re)n=new this.featureClass_(h,s,c,a,r),n.transform(i.dataProjection);else{let e;if("Polygon"==h){const t=(0,Te.inflateEnds)(s,c);e=t.length>1?new(0,J.default)(s,"XY",t):new(0,ye.default)(s,"XY",c)}else e="Point"===h?new(0,ke.default)(s,"XY"):"LineString"===h?new(0,Z.default)(s,"XY"):"MultiPoint"===h?new(0,$.default)(s,"XY"):"MultiLineString"===h?new(0,Q.default)(s,"XY",c):null;n=new(0,this.featureClass_),this.geometryName_&&n.setGeometryName(this.geometryName_);const t=(0,H.transformGeometryWithOptions)(e,!1,i);n.setGeometry(t),void 0!==r&&n.setId(r),n.setProperties(a,!0)}return n}getType(){return"arraybuffer"}readFeatures(t,i){const o=this.layers_;i=this.adaptOptions(i);const n=(0,xe.get)(i.dataProjection);n.setWorldExtent(i.extent),i.dataProjection=n;const a=new(e(Y))(t),r=a.readFields(Ie,{}),s=[];for(const e in r){if(o&&!o.includes(e))continue;const t=r[e],c=t?[0,0,t.extent,t.extent]:null;n.setExtent(c);for(let e=0,o=t.length;e<o;++e){const o=Oe(a,t,e),n=this.createFeature_(a,o,i);null!==n&&s.push(n)}}return s}readProjection(e){return this.dataProjection}setLayers(e){this.layers_=e}}function Ie(e,t,i){if(3===e){const e={keys:[],values:[],features:[]},o=i.readVarint()+i.pos;i.readFields(Me,e,o),e.length=e.features.length,e.length&&(t[e.name]=e)}}function Me(e,t,i){if(15===e)t.version=i.readVarint();else if(1===e)t.name=i.readString();else if(5===e)t.extent=i.readVarint();else if(2===e)t.features.push(i.pos);else if(3===e)t.keys.push(i.readString());else if(4===e){let o=null;const n=i.readVarint()+i.pos;for(;i.pos<n;)o=1===(e=i.readVarint()>>3)?i.readString():2===e?i.readFloat():3===e?i.readDouble():4===e?i.readVarint64():5===e?i.readVarint():6===e?i.readSVarint():7===e?i.readBoolean():null;t.values.push(o)}}function Ae(e,t,i){if(1==e)t.id=i.readVarint();else if(2==e){const e=i.readVarint()+i.pos;for(;i.pos<e;){const e=t.layer.keys[i.readVarint()],o=t.layer.values[i.readVarint()];t.properties[e]=o}}else 3==e?t.type=i.readVarint():4==e&&(t.geometry=i.pos)}function Oe(e,t,i){e.pos=t.features[i];const o=e.readVarint()+e.pos,n={layer:t,type:0,properties:{}};return e.readFields(Ae,n,o),n}var De=Le,Ve=(be=n("iGyOD"),n("20LS2")),je=n("gmEQj"),Ne=(N=n("5NhYx"),n("kPMpK")),Be=n("fkmMz"),Ge=(Ve.default,n("ejLRd")),ze=n("lwtpg"),qe=n("fnScq"),Ue=n("gbCDL"),We=class extends qe.default{constructor(e){super(e),this._listener=[],e&&!1===e.active?this.set("active",!1):this.set("active",!0)}setActive(e){this.set("active",!0===e)}getActive(){return this.get("active")}};!function(){function e(e){this.get("active")&&e.context&&this.precompose(e)}function t(e){this.get("active")&&e.context&&this.postcompose(e)}function i(){if(this.renderSync)try{this.renderSync()}catch(e){}else this.changed()}function o(o){this.filters_||(this.filters_=[]),this.filters_.push(o),o.addToLayer&&o.addToLayer(this),o.precompose&&o._listener.push({listener:this.on(["precompose","prerender"],e.bind(o)),target:this}),o.postcompose&&o._listener.push({listener:this.on(["postcompose","postrender"],t.bind(o)),target:this}),o._listener.push({listener:o.on("propertychange",i.bind(this)),target:this}),i.call(this)}function n(e){var t;if(this.filters_||(this.filters_=[]),e){for(t=this.filters_.length-1;t>=0;t--)this.filters_[t]===e&&this.filters_.splice(t,1);for(t=e._listener.length-1;t>=0;t--)e._listener[t].target===this&&(e.removeFromLayer&&e.removeFromLayer(this),(0,Ge.unByKey)(e._listener[t].listener),e._listener.splice(t,1));i.call(this)}else this.filters_.forEach(function(e){this.removeFilter(e)}.bind(this))}Ue.default.prototype.addFilter=function(e){console.warn("[OL-EXT] addFilter deprecated on map."),o.call(this,e)},Ue.default.prototype.removeFilter=function(e){n.call(this,e)},Ue.default.prototype.getFilters=function(){return this.filters_||[]},ze.default.prototype.addFilter=function(e){o.call(this,e)},ze.default.prototype.removeFilter=function(e){n.call(this,e)},ze.default.prototype.getFilters=function(){return this.filters_||[]}}();var Ye=We,Xe=n("lqNjm"),Ke=(Xe=n("lqNjm"),class extends Ye{constructor(e){super(e),this.setFilter(e)}setFilter(e){switch(e=e||{}){case"grayscale":e={operation:"hue",color:[0,0,0],value:1};break;case"invert":e={operation:"difference",color:[255,255,255],value:1};break;case"sepia":e={operation:"color",color:[153,102,51],value:.6}}var t,i=e.color?(0,Xe.asArray)(e.color):[e.red,e.green,e.blue,e.value];switch(this.set("color",(0,Xe.asString)(i)),this.set("value",e.value||1),this.set("preserveAlpha",e.preserveAlpha),e.operation){case"hue":case"difference":case"color-dodge":case"enhance":this.set("operation",e.operation);break;case"saturation":t=255*(e.value||0),this.set("color",(0,Xe.asString)([0,0,t,t||1])),this.set("operation",e.operation);break;case"luminosity":t=255*(e.value||0),this.set("color",(0,Xe.asString)([t,t,t,255])),this.set("operation","hard-light");break;case"contrast":t=255*(e.value||0),this.set("color",(0,Xe.asString)([t,t,t,255])),this.set("operation","soft-light");break;default:this.set("operation","color"),this.setValue(e.value||1)}}setValue(e){this.set("value",e);var t=(0,Xe.asArray)(this.get("color"));t[3]=e,this.set("color",(0,Xe.asString)(t))}setColor(e){(e=(0,Xe.asArray)(e))&&(e[3]=this.get("value"),this.set("color",(0,Xe.asString)(e)))}precompose(){}postcompose(e){var t,i,o=e.context,n=o.canvas;if(o.save(),"enhance"==this.get("operation")){var a=this.get("value");if(a){var r=n.width,s=n.height;this.get("preserveAlpha")?((t=document.createElement("CANVAS")).width=n.width,t.height=n.height,(i=t.getContext("2d")).drawImage(n,0,0,r,s),i.globalCompositeOperation="color-burn",i.globalAlpha=a,i.drawImage(t,0,0,r,s),i.drawImage(t,0,0,r,s),i.drawImage(t,0,0,r,s),o.globalCompositeOperation="source-in",o.drawImage(t,0,0)):(o.globalCompositeOperation="color-burn",o.globalAlpha=a,o.drawImage(n,0,0,r,s),o.drawImage(n,0,0,r,s),o.drawImage(n,0,0,r,s))}}else this.get("preserveAlpha")?((t=document.createElement("CANVAS")).width=n.width,t.height=n.height,(i=t.getContext("2d")).drawImage(n,0,0),i.globalCompositeOperation=this.get("operation"),i.fillStyle=this.get("color"),i.fillRect(0,0,n.width,n.height),o.globalCompositeOperation="source-in",o.drawImage(t,0,0)):(o.globalCompositeOperation=this.get("operation"),o.fillStyle=this.get("color"),o.fillRect(0,0,n.width,n.height));o.restore()}}),He=n("31ZqB"),Ze=n("eHnTw"),Qe=n("iTTi2"),$e=(be=n("iGyOD"),n("7lBr2")),Je=(r=n("2YyN3"),n("6M65l"));class et extends r.default{constructor(e){super(e)}createRenderer(){return new(0,Je.default)(this)}}var tt=et,it=n("eQaCk"),ot=(G=n("kKEgb"),n("l9IGS")),nt=(_e=n("kBSVF"),g=n("lVQul"),n("btuox"));const at="select";class rt extends Qe.default{constructor(e,t,i,o){super(e),this.selected=t,this.deselected=i,this.mapBrowserEvent=o}}const st={};class ct extends $e.default{constructor(e){let t;if(super(),this.on,this.once,this.un,e=e||{},this.boundAddFeature_=this.addFeature_.bind(this),this.boundRemoveFeature_=this.removeFeature_.bind(this),this.condition_=e.condition?e.condition:nt.singleClick,this.addCondition_=e.addCondition?e.addCondition:nt.never,this.removeCondition_=e.removeCondition?e.removeCondition:nt.never,this.toggleCondition_=e.toggleCondition?e.toggleCondition:nt.shiftKeyOnly,this.multi_=!!e.multi&&e.multi,this.filter_=e.filter?e.filter:it.TRUE,this.hitTolerance_=e.hitTolerance?e.hitTolerance:0,this.style_=void 0!==e.style?e.style:function(){const e=(0,ot.createEditingStyle)();return(0,_e.extend)(e.Polygon,e.LineString),(0,_e.extend)(e.GeometryCollection,e.LineString),function(t){return t.getGeometry()?e[t.getGeometry().getType()]:null}}(),this.features_=e.features||new(0,He.default),e.layers)if("function"==typeof e.layers)t=e.layers;else{const i=e.layers;t=function(e){return i.includes(e)}}else t=it.TRUE;this.layerFilter_=t,this.featureLayerAssociation_={}}addFeatureLayerAssociation_(e,t){this.featureLayerAssociation_[(0,g.getUid)(e)]=t}getFeatures(){return this.features_}getHitTolerance(){return this.hitTolerance_}getLayer(e){return this.featureLayerAssociation_[(0,g.getUid)(e)]}setHitTolerance(e){this.hitTolerance_=e}setMap(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),super.setMap(e),e?(this.features_.addEventListener(Ze.default.ADD,this.boundAddFeature_),this.features_.addEventListener(Ze.default.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(Ze.default.ADD,this.boundAddFeature_),this.features_.removeEventListener(Ze.default.REMOVE,this.boundRemoveFeature_))}addFeature_(e){const t=e.element;if(this.style_&&this.applySelectedStyle_(t),!this.getLayer(t)){const e=this.getMap().getAllLayers().find((function(e){if(e instanceof tt&&e.getSource()&&e.getSource().hasFeature(t))return e}));e&&this.addFeatureLayerAssociation_(t,e)}}removeFeature_(e){this.style_&&this.restorePreviousStyle_(e.element)}getStyle(){return this.style_}applySelectedStyle_(e){const t=(0,g.getUid)(e);t in st||(st[t]=e.getStyle()),e.setStyle(this.style_)}restorePreviousStyle_(e){const t=this.getMap().getInteractions().getArray();for(let i=t.length-1;i>=0;--i){const o=t[i];if(o!==this&&o instanceof ct&&o.getStyle()&&-1!==o.getFeatures().getArray().lastIndexOf(e))return void e.setStyle(o.getStyle())}const i=(0,g.getUid)(e);e.setStyle(st[i]),delete st[i]}removeFeatureLayerAssociation_(e){delete this.featureLayerAssociation_[(0,g.getUid)(e)]}handleEvent(e){if(!this.condition_(e))return!0;const t=this.addCondition_(e),i=this.removeCondition_(e),o=this.toggleCondition_(e),n=!t&&!i&&!o,a=e.map,r=this.getFeatures(),s=[],c=[];if(n){(0,G.clear)(this.featureLayerAssociation_),a.forEachFeatureAtPixel(e.pixel,function(e,t){if(e instanceof be.default&&this.filter_(e,t))return this.addFeatureLayerAssociation_(e,t),c.push(e),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let e=r.getLength()-1;e>=0;--e){const t=r.item(e),i=c.indexOf(t);i>-1?c.splice(i,1):(r.remove(t),s.push(t))}0!==c.length&&r.extend(c)}else{a.forEachFeatureAtPixel(e.pixel,function(e,n){if(e instanceof be.default&&this.filter_(e,n))return!t&&!o||r.getArray().includes(e)?(i||o)&&r.getArray().includes(e)&&(s.push(e),this.removeFeatureLayerAssociation_(e)):(this.addFeatureLayerAssociation_(e,n),c.push(e)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let e=s.length-1;e>=0;--e)r.remove(s[e]);r.extend(c)}return(c.length>0||s.length>0)&&this.dispatchEvent(new rt(at,c,s,e)),!0}}var ht,lt,ft,mt=ct,dt=(nt=n("btuox"),n("1B70O")),ut=(ot=n("l9IGS"),n("4lFOe")),pt=n("d5AAH"),gt=n("2zf1Y");ht=[255,255,255,1],lt=[0,153,255,1],ft=[new(0,ot.default)({stroke:new(0,pt.default)({color:ht,width:5})}),new(0,ot.default)({image:new(0,ut.default)({radius:6,fill:new(0,gt.default)({color:lt}),stroke:new(0,pt.default)({color:ht,width:1.5})}),stroke:new(0,pt.default)({color:lt,width:3}),fill:new(0,gt.default)({color:[255,255,255,.5]})})];var kt=function(e){if(!0===e)return ft;e=e||{};var t=new(0,gt.default)({color:e.fillColor||"rgba(255,255,255,0.4)"}),i=new(0,pt.default)({color:e.color||"#3399CC",width:1.25});return[new(0,ot.default)({image:new(0,ut.default)({fill:t,stroke:i,radius:5}),fill:t,stroke:i})]},yt=(ot=n("l9IGS"),n("h6Aha")),vt=(Xe=n("lqNjm"),class extends yt.default{constructor(e){var t=0;(e=e||{}).stroke&&(t=e.stroke.getWidth()),e.displacement||(e.displacement=[e.offsetX||0,-e.offsetY||0]),super({radius:e.radius,fill:e.fill,rotation:e.rotation,displacement:e.displacement,rotateWithView:e.rotateWithView}),"number"==typeof e.opacity&&this.setOpacity(e.opacity),this._color=e.color,this._fontSize=e.fontSize||1,this._fontStyle=e.fontStyle||"",this._stroke=e.stroke,this._fill=e.fill,this._radius=e.radius-t,this._form=e.form||"none",this._gradient=e.gradient,this._offset=[e.offsetX?e.offsetX:0,e.offsetY?e.offsetY:0],e.glyph?this._glyph=this.getGlyph(e.glyph):this._glyph=this.getTextGlyph(e.text||"",e.font),this.getDisplacement||this.getImage()}static addDefs(e,t){var i=e;if("string"==typeof e&&(i={font:e,name:e,copyright:""}),i.font&&"string"==typeof i.font){var o=i.font;for(var n in vt.defs.fonts[o]=i,t){var a=t[n];"string"==typeof a&&1==a.length&&(a={char:a}),vt.defs.glyphs[n]={font:i.font,char:a.char||""+String.fromCharCode(a.code)||"",theme:a.theme||i.name,name:a.name||n,search:a.search||""}}}else console.log("bad font def")}clone(){var e=new vt({text:this._glyph.char,font:this._glyph.font,color:this._color,fontSize:this._fontSize,fontStyle:this._fontStyle,stroke:this._stroke,fill:this._fill,radius:this._radius+(this._stroke?this._stroke.getWidth():0),form:this._form,gradient:this._gradient,offsetX:this._offset[0],offsetY:this._offset[1],opacity:this.getOpacity(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()});return e.setScale(this.getScale()),e}getFill(){return this._fill}getStroke(){return this._stroke}getGlyph(e){return e?vt.defs.glyphs[e]||{font:"sans-serif",char:e.charAt(0),theme:"none",name:"none",search:""}:this._glyph}getTextGlyph(e,t){return{font:t||"sans-serif",char:String(e),theme:"none",name:"none",search:""}}getGlyphName(){for(var e in vt.defs.glyphs)if(vt.defs.glyphs[e]===this._glyph)return e;return""}getFontInfo(e){return vt.defs.fonts[e.font]}getImage(e){e=e||1;var t,i=super.getImage(e),o=0;this._stroke&&(t=(0,Xe.asString)(this._stroke.getColor()),o=this._stroke.getWidth());var n={strokeStyle:t,strokeWidth:o,size:i.width/e},a=i.getContext("2d");if(a.clearRect(0,0,i.width,i.height),this.drawMarker_(n,a,0,0,e),!this.getDisplacement){var r=this.getAnchor();r[0]=i.width/2-this._offset[0],r[1]=i.width/2-this._offset[1]}return i}drawPath_(e,t){var i=2*this._radius+e.strokeWidth,o=e.strokeWidth/2,n=e.size/2,a={fac:1,posX:e.size/2,posY:e.size/2};switch(t.lineJoin="round",t.lineCap="round",t.beginPath(),this._form){case"none":a.fac=1;break;case"circle":case"ban":t.arc(n,n,i/2,0,2*Math.PI,!0);break;case"poi":t.arc(n,n-.4*this._radius,.6*this._radius,.15*Math.PI,.85*Math.PI,!0),t.lineTo(n-.89*.05*i,(.95+.45*.05)*i+o),t.arc(n,.95*i+o,.05*i,.85*Math.PI,.15*Math.PI,!0),a={fac:.45,posX:n,posY:n-.35*this._radius};break;case"bubble":t.arc(n,n-.2*this._radius,.8*this._radius,.4*Math.PI,.6*Math.PI,!0),t.lineTo(.5*i+o,i+o),a={fac:.7,posX:n,posY:n-.2*this._radius};break;case"marker":t.arc(n,n-.2*this._radius,.8*this._radius,.25*Math.PI,.75*Math.PI,!0),t.lineTo(.5*i+o,i+o),a={fac:.7,posX:n,posY:n-.2*this._radius};break;case"coma":t.moveTo(n+.8*this._radius,n-.2*this._radius),t.quadraticCurveTo(.95*i+o,.75*i+o,.5*i+o,i+o),t.arc(n,n-.2*this._radius,.8*this._radius,.45*Math.PI,0,!1),a={fac:.7,posX:n,posY:n-.2*this._radius};break;default:var r;switch(this._form){case"shield":r=[.05,0,.95,0,.95,.8,.5,1,.05,.8,.05,0],a.posY=.45*i+o;break;case"blazon":r=[.1,0,.9,0,.9,.8,.6,.8,.5,1,.4,.8,.1,.8,.1,0],a.fac=.8,a.posY=.4*i+o;break;case"bookmark":r=[.05,0,.95,0,.95,1,.5,.8,.05,1,.05,0],a.fac=.9,a.posY=.4*i+o;break;case"hexagon":r=[.05,.2,.5,0,.95,.2,.95,.8,.5,1,.05,.8,.05,.2],a.fac=.9,a.posY=.5*i+o;break;case"diamond":r=[.25,0,.75,0,1,.2,1,.4,.5,1,0,.4,0,.2,.25,0],a.fac=.75,a.posY=.35*i+o;break;case"triangle":r=[0,0,1,0,.5,1,0,0],a.fac=.6,a.posY=.3*i+o;break;case"sign":r=[.5,.05,1,.95,0,.95,.5,.05],a.fac=.7,a.posY=.65*i+o;break;case"lozenge":r=[.5,0,1,.5,.5,1,0,.5,.5,0],a.fac=.7;break;default:r=[0,0,1,0,1,1,0,1,0,0]}for(var s=0;s<r.length;s+=2)t.lineTo(r[s]*i+o,r[s+1]*i+o)}return t.closePath(),a}drawMarker_(e,t,i,o,n){var a=this._fill?this._fill.getColor():"#000",r=this._stroke?this._stroke.getColor():"#000";"none"==this._form&&this._stroke&&this._fill&&(r=this._fill.getColor(),a=this._stroke.getColor()),t.setTransform(n,0,0,n,0,0),t.translate(i,o);var s=this.drawPath_(e,t,n);if(this._fill){if(this._gradient&&"none"!=this._form){var c=t.createLinearGradient(0,0,e.size/2,e.size);c.addColorStop(1,(0,Xe.asString)(a)),c.addColorStop(0,(0,Xe.asString)(r)),t.fillStyle=c}else t.fillStyle=(0,Xe.asString)(a);t.fill()}if(this._stroke&&e.strokeWidth&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,t.stroke()),this._glyph.char){t.font=this._fontStyle+" "+2*s.fac*this._radius*this._fontSize+"px "+this._glyph.font,t.strokeStyle=t.fillStyle,t.lineWidth=e.strokeWidth*("none"==this._form?2:1),t.fillStyle=(0,Xe.asString)(this._color||r),t.textAlign="center",t.textBaseline="middle";var h=this._glyph.char;e.strokeWidth&&"transparent"!=r&&t.strokeText(h,s.posX,s.posY),t.fillText(h,s.posX,s.posY)}if("ban"==this._form&&this._stroke&&e.strokeWidth){t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth;var l=this._radius+e.strokeWidth,f=this._radius*Math.cos(Math.PI/4);t.moveTo(l+f,l-f),t.lineTo(l-f,l+f),t.stroke()}}getChecksum(){var e=null!==this._stroke?this._stroke.getChecksum():"-",t=null!==this._fill?this._fill.getChecksum():"-";if(null===this.checksums_||e!=this.checksums_[1]||t!=this.checksums_[2]||this._radius!=this.checksums_[3]||this._form+"-"+this.glyphs_!=this.checksums_[4]){var i="c"+e+t+(void 0!==this._radius?this._radius.toString():"-")+this._form+"-"+this.glyphs_;this.checksums_=[i,e,t,this._radius,this._form+"-"+this.glyphs_]}return this.checksums_[0]}});vt.defs={fonts:{},glyphs:{}};var bt=vt,_t={};!function(){function e(e,t,i){return e.call.apply(e.bind,arguments)}function t(e,t,i){if(!e)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,o),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function i(o,n,a){return(i=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?e:t).apply(null,arguments)}var o=Date.now||function(){return+new Date};function n(e,t){this.a=e,this.o=t||e,this.c=this.o.document}var a=!!window.FontFace;function r(e,t,i,o){if(t=e.c.createElement(t),i)for(var n in i)i.hasOwnProperty(n)&&("style"==n?t.style.cssText=i[n]:t.setAttribute(n,i[n]));return o&&t.appendChild(e.c.createTextNode(o)),t}function s(e,t,i){(e=e.c.getElementsByTagName(t)[0])||(e=document.documentElement),e.insertBefore(i,e.lastChild)}function c(e){e.parentNode&&e.parentNode.removeChild(e)}function h(e,t,i){t=t||[],i=i||[];for(var o=e.className.split(/\s+/),n=0;n<t.length;n+=1){for(var a=!1,r=0;r<o.length;r+=1)if(t[n]===o[r]){a=!0;break}a||o.push(t[n])}for(t=[],n=0;n<o.length;n+=1){for(a=!1,r=0;r<i.length;r+=1)if(o[n]===i[r]){a=!0;break}a||t.push(o[n])}e.className=t.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function l(e,t){for(var i=e.className.split(/\s+/),o=0,n=i.length;o<n;o++)if(i[o]==t)return!0;return!1}function f(e,t,i){function o(){l&&n&&c&&(l(h),l=null)}t=r(e,"link",{rel:"stylesheet",href:t,media:"all"});var n=!1,c=!0,h=null,l=i||null;a?(t.onload=function(){n=!0,o()},t.onerror=function(){n=!0,h=Error("Stylesheet failed to load"),o()}):setTimeout((function(){n=!0,o()}),0),s(e,"head",t)}function m(e,t,i,o){var n=e.c.getElementsByTagName("head")[0];if(n){var a=r(e,"script",{src:t}),s=!1;return a.onload=a.onreadystatechange=function(){s||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(s=!0,i&&i(null),a.onload=a.onreadystatechange=null,"HEAD"==a.parentNode.tagName&&n.removeChild(a))},n.appendChild(a),setTimeout((function(){s||(s=!0,i&&i(Error("Script load timeout")))}),o||5e3),a}return null}function d(){this.a=0,this.c=null}function u(e){return e.a++,function(){e.a--,g(e)}}function p(e,t){e.c=t,g(e)}function g(e){0==e.a&&e.c&&(e.c(),e.c=null)}function k(e){this.a=e||"-"}function y(e,t){this.c=e,this.f=4,this.a="n";var i=(t||"n4").match(/^([nio])([1-9])$/i);i&&(this.a=i[1],this.f=parseInt(i[2],10))}function v(e){var t=[];e=e.split(/,\s*/);for(var i=0;i<e.length;i++){var o=e[i].replace(/['"]/g,"");-1!=o.indexOf(" ")||/^\d/.test(o)?t.push("'"+o+"'"):t.push(o)}return t.join(",")}function b(e){return e.a+e.f}function _(e){var t="normal";return"o"===e.a?t="oblique":"i"===e.a&&(t="italic"),t}function w(e){var t=4,i="n",o=null;return e&&((o=e.match(/(normal|oblique|italic)/i))&&o[1]&&(i=o[1].substr(0,1).toLowerCase()),(o=e.match(/([1-9]00|normal|bold)/i))&&o[1]&&(/bold/i.test(o[1])?t=7:/[1-9]00/.test(o[1])&&(t=parseInt(o[1].substr(0,1),10)))),i+t}function x(e,t){this.c=e,this.f=e.o.document.documentElement,this.h=t,this.a=new k("-"),this.j=!1!==t.events,this.g=!1!==t.classes}function T(e){if(e.g){var t=l(e.f,e.a.c("wf","active")),i=[],o=[e.a.c("wf","loading")];t||i.push(e.a.c("wf","inactive")),h(e.f,i,o)}S(e,"inactive")}function S(e,t,i){e.j&&e.h[t]&&(i?e.h[t](i.c,b(i)):e.h[t]())}function C(){this.c={}}function F(e,t){this.c=e,this.f=t,this.a=r(this.c,"span",{"aria-hidden":"true"},this.f)}function P(e){s(e.c,"body",e.a)}function E(e){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+v(e.c)+";font-style:"+_(e)+";font-weight:"+e.f+"00;"}function R(e,t,i,o,n,a){this.g=e,this.j=t,this.a=o,this.c=i,this.f=n||3e3,this.h=a||void 0}function L(e,t,i,o,n,a,r){this.v=e,this.B=t,this.c=i,this.a=o,this.s=r||"BESbswy",this.f={},this.w=n||3e3,this.u=a||null,this.m=this.j=this.h=this.g=null,this.g=new F(this.c,this.s),this.h=new F(this.c,this.s),this.j=new F(this.c,this.s),this.m=new F(this.c,this.s),e=E(e=new y(this.a.c+",serif",b(this.a))),this.g.a.style.cssText=e,e=E(e=new y(this.a.c+",sans-serif",b(this.a))),this.h.a.style.cssText=e,e=E(e=new y("serif",b(this.a))),this.j.a.style.cssText=e,e=E(e=new y("sans-serif",b(this.a))),this.m.a.style.cssText=e,P(this.g),P(this.h),P(this.j),P(this.m)}k.prototype.c=function(e){for(var t=[],i=0;i<arguments.length;i++)t.push(arguments[i].replace(/[\W_]+/g,"").toLowerCase());return t.join(this.a)},R.prototype.start=function(){var e=this.c.o.document,t=this,i=o(),n=new Promise((function(n,a){!function r(){o()-i>=t.f?a():e.fonts.load(function(e){return _(e)+" "+e.f+"00 300px "+v(e.c)}(t.a),t.h).then((function(e){1<=e.length?n():setTimeout(r,25)}),(function(){a()}))}()})),a=null,r=new Promise((function(e,i){a=setTimeout(i,t.f)}));Promise.race([r,n]).then((function(){a&&(clearTimeout(a),a=null),t.g(t.a)}),(function(){t.j(t.a)}))};var I={D:"serif",C:"sans-serif"},M=null;function A(){if(null===M){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);M=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))}return M}function O(e,t,i){for(var o in I)if(I.hasOwnProperty(o)&&t===e.f[I[o]]&&i===e.f[I[o]])return!0;return!1}function D(e){var t,n=e.g.a.offsetWidth,a=e.h.a.offsetWidth;(t=n===e.f.serif&&a===e.f["sans-serif"])||(t=A()&&O(e,n,a)),t?o()-e.A>=e.w?A()&&O(e,n,a)&&(null===e.u||e.u.hasOwnProperty(e.a.c))?V(e,e.v):V(e,e.B):function(e){setTimeout(i((function(){D(this)}),e),50)}(e):V(e,e.v)}function V(e,t){setTimeout(i((function(){c(this.g.a),c(this.h.a),c(this.j.a),c(this.m.a),t(this.a)}),e),0)}function j(e,t,i){this.c=e,this.a=t,this.f=0,this.m=this.j=!1,this.s=i}L.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=o(),D(this)};var N=null;function B(e){0==--e.f&&e.j&&(e.m?((e=e.a).g&&h(e.f,[e.a.c("wf","active")],[e.a.c("wf","loading"),e.a.c("wf","inactive")]),S(e,"active")):T(e.a))}function G(e){this.j=e,this.a=new C,this.h=0,this.f=this.g=!0}function z(e,t,o,n,a){var r=0==--e.h;(e.f||e.g)&&setTimeout((function(){var e=a||null,s=n||{};if(0===o.length&&r)T(t.a);else{t.f+=o.length,r&&(t.j=r);var c,l=[];for(c=0;c<o.length;c++){var f=o[c],m=s[f.c],d=t.a,u=f;if(d.g&&h(d.f,[d.a.c("wf",u.c,b(u).toString(),"loading")]),S(d,"fontloading",u),d=null,null===N)if(window.FontFace){u=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var p=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);N=u?42<parseInt(u[1],10):!p}else N=!1;d=N?new R(i(t.g,t),i(t.h,t),t.c,f,t.s,m):new L(i(t.g,t),i(t.h,t),t.c,f,t.s,e,m),l.push(d)}for(c=0;c<l.length;c++)l[c].start()}}),0)}function q(e,t){this.c=e,this.a=t}function U(e,t){this.c=e,this.a=t}function W(e,t){this.c=e||Y,this.a=[],this.f=[],this.g=t||""}j.prototype.g=function(e){var t=this.a;t.g&&h(t.f,[t.a.c("wf",e.c,b(e).toString(),"active")],[t.a.c("wf",e.c,b(e).toString(),"loading"),t.a.c("wf",e.c,b(e).toString(),"inactive")]),S(t,"fontactive",e),this.m=!0,B(this)},j.prototype.h=function(e){var t=this.a;if(t.g){var i=l(t.f,t.a.c("wf",e.c,b(e).toString(),"active")),o=[],n=[t.a.c("wf",e.c,b(e).toString(),"loading")];i||o.push(t.a.c("wf",e.c,b(e).toString(),"inactive")),h(t.f,o,n)}S(t,"fontinactive",e),B(this)},G.prototype.load=function(e){this.c=new n(this.j,e.context||this.j),this.g=!1!==e.events,this.f=!1!==e.classes,function(e,t,i){var o=[],n=i.timeout;!function(e){e.g&&h(e.f,[e.a.c("wf","loading")]),S(e,"loading")}(t);o=function(e,t,i){var o,n=[];for(o in t)if(t.hasOwnProperty(o)){var a=e.c[o];a&&n.push(a(t[o],i))}return n}(e.a,i,e.c);var a=new j(e.c,t,n);for(e.h=o.length,t=0,i=o.length;t<i;t++)o[t].load((function(t,i,o){z(e,a,t,i,o)}))}(this,new x(this.c,e),e)},q.prototype.load=function(e){function t(){if(a["__mti_fntLst"+o]){var i,n=a["__mti_fntLst"+o](),r=[];if(n)for(var s=0;s<n.length;s++){var c=n[s].fontfamily;null!=n[s].fontStyle&&null!=n[s].fontWeight?(i=n[s].fontStyle+n[s].fontWeight,r.push(new y(c,i))):r.push(new y(c))}e(r)}else setTimeout((function(){t()}),50)}var i=this,o=i.a.projectId,n=i.a.version;if(o){var a=i.c.o;m(this.c,(i.a.api||"https://fast.fonts.net/jsapi")+"/"+o+".js"+(n?"?v="+n:""),(function(n){n?e([]):(a["__MonotypeConfiguration__"+o]=function(){return i.a},t())})).id="__MonotypeAPIScript__"+o}else e([])},U.prototype.load=function(e){var t,i,o=this.a.urls||[],n=this.a.families||[],a=this.a.testStrings||{},r=new d;for(t=0,i=o.length;t<i;t++)f(this.c,o[t],u(r));var s=[];for(t=0,i=n.length;t<i;t++)if((o=n[t].split(":"))[1])for(var c=o[1].split(","),h=0;h<c.length;h+=1)s.push(new y(o[0],c[h]));else s.push(new y(o[0]));p(r,(function(){e(s,a)}))};var Y="https://fonts.googleapis.com/css";function X(e){this.f=e,this.a=[],this.c={}}var K={latin:"BESbswy","latin-ext":"",cyrillic:"",greek:"",khmer:"",Hanuman:""},H={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},Z={i:"i",italic:"i",n:"n",normal:"n"},Q=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function $(e,t){this.c=e,this.a=t}var J={Arimo:!0,Cousine:!0,Tinos:!0};function ee(e,t){this.c=e,this.a=t}function te(e,t){this.c=e,this.f=t,this.a=[]}$.prototype.load=function(e){var t=new d,i=this.c,o=new W(this.a.api,this.a.text),n=this.a.families;!function(e,t){for(var i=t.length,o=0;o<i;o++){var n=t[o].split(":");3==n.length&&e.f.push(n.pop());var a="";2==n.length&&""!=n[1]&&(a=":"),e.a.push(n.join(a))}}(o,n);var a=new X(n);!function(e){for(var t=e.f.length,i=0;i<t;i++){var o=e.f[i].split(":"),n=o[0].replace(/\+/g," "),a=["n4"];if(2<=o.length){var r;if(r=[],s=o[1])for(var s,c=(s=s.split(",")).length,h=0;h<c;h++){var l;if((l=s[h]).match(/^[\w-]+$/))if(null==(f=Q.exec(l.toLowerCase())))l="";else{if(l=null==(l=f[2])||""==l?"n":Z[l],null==(f=f[1])||""==f)f="4";else var f=H[f]||(isNaN(f)?"4":f.substr(0,1));l=[l,f].join("")}else l="";l&&r.push(l)}0<r.length&&(a=r),3==o.length&&(r=[],0<(o=(o=o[2])?o.split(","):r).length&&(o=K[o[0]])&&(e.c[n]=o))}for(e.c[n]||(o=K[n])&&(e.c[n]=o),o=0;o<a.length;o+=1)e.a.push(new y(n,a[o]))}}(a),f(i,function(e){if(0==e.a.length)throw Error("No fonts to load!");if(-1!=e.c.indexOf("kit="))return e.c;for(var t=e.a.length,i=[],o=0;o<t;o++)i.push(e.a[o].replace(/ /g,"+"));return t=e.c+"?family="+i.join("%7C"),0<e.f.length&&(t+="&subset="+e.f.join(",")),0<e.g.length&&(t+="&text="+encodeURIComponent(e.g)),t}(o),u(t)),p(t,(function(){e(a.a,a.c,J)}))},ee.prototype.load=function(e){var t=this.a.id,i=this.c.o;t?m(this.c,(this.a.api||"https://use.typekit.net")+"/"+t+".js",(function(t){if(t)e([]);else if(i.Typekit&&i.Typekit.config&&i.Typekit.config.fn){t=i.Typekit.config.fn;for(var o=[],n=0;n<t.length;n+=2)for(var a=t[n],r=t[n+1],s=0;s<r.length;s++)o.push(new y(a,r[s]));try{i.Typekit.load({events:!1,classes:!1,async:!0})}catch(e){}e(o)}}),2e3):e([])},te.prototype.load=function(e){var t=this.f.id,i=this.c.o,o=this;t?(i.__webfontfontdeckmodule__||(i.__webfontfontdeckmodule__={}),i.__webfontfontdeckmodule__[t]=function(t,i){for(var n=0,a=i.fonts.length;n<a;++n){var r=i.fonts[n];o.a.push(new y(r.name,w("font-weight:"+r.weight+";font-style:"+r.style)))}e(o.a)},m(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(e){return e.o.location.hostname||e.a.location.hostname}(this.c)+"/"+t+".js",(function(t){t&&e([])}))):e([])};var ie=new G(window);ie.a.c.custom=function(e,t){return new U(t,e)},ie.a.c.fontdeck=function(e,t){return new te(t,e)},ie.a.c.monotype=function(e,t){return new q(t,e)},ie.a.c.typekit=function(e,t){return new ee(t,e)},ie.a.c.google=function(e,t){return new $(t,e)};var oe={load:i(ie.load,ie)};"function"==typeof define&&define.amd?define((function(){return oe})):_t?_t=oe:(window.WebFont=oe,window.WebFontConfig&&ie.load(window.WebFontConfig))}();var wt=function(t){e(_t).load({custom:{families:["fontmaki","fontmaki2"],testStrings:{fontmaki:"",fontmaki2:""}},classes:!1,fontactive:e=>{setTimeout((function(){t&&t({type:"loadfont",font:e})}))},fontinactive:e=>{console.warn("Can't load font: "+e)}})};pt=n("d5AAH"),gt=n("2zf1Y");bt.addDefs({font:"fontmaki2",name:"Maki2",copyright:"CC0 - MapBox - https://www.mapbox.com/maki/",prefix:"maki2"},{"maki2-aerialway":{font:"fontmaki2",code:59392,name:"aerialway",search:"telepherique,ski,neige",theme:"transport"},"maki2-airfield":{font:"fontmaki2",code:59393,name:"airfield",search:"aerodrome,avion",theme:"transport"},"maki2-airport":{font:"fontmaki2",code:59394,name:"airport",search:"aeroport,avion",theme:"transport"},"maki2-alcohol-shop":{font:"fontmaki2",code:59395,theme:"commerce",name:"shop",search:"boisson,alcool,vin,verre"},"maki2-america-football":{font:"fontmaki2",code:59396,theme:"sport",name:"football",search:"fooball,rugby"},"maki2-amusement-park":{font:"fontmaki2",code:59397,theme:"loisir",name:"park",search:"pac,roue,attraction"},"maki2-aquarium":{font:"fontmaki2",code:59398,name:"aquarium",search:"aquarium,poison,mer,animal",theme:"loisir"},"maki2-art-gallery":{font:"fontmaki2",code:59399,theme:"loisir",name:"gallery",search:"art,gallerie,peinture"},"maki2-attraction":{font:"fontmaki2",code:59400,name:"attraction",search:"photo,attraction,camera",theme:"tourisme"},"maki2-bakery":{font:"fontmaki2",code:59401,name:"bakery",search:"boulangerie,croissant",theme:"commerce"},"maki2-bank":{font:"fontmaki2",code:59402,name:"bank",search:"banque,carte,paiment",theme:"service"},"maki2-bar":{font:"fontmaki2",code:59403,name:"bar",search:"bar,coupe,verre,boisson",theme:"commerce"},"maki2-barrier":{font:"fontmaki2",code:59404,name:"barrier",search:"barriere,travaux",theme:"service"},"maki2-baseball":{font:"fontmaki2",code:59405,name:"baseball",search:"baseball",theme:"sport"},"maki2-basketball":{font:"fontmaki2",code:59406,name:"basketball",search:"basketball,ballon",theme:"sport"},"maki2-bbq":{font:"fontmaki2",code:59407,name:"bbq",search:"bbq,barbecue,camping",theme:"loisir"},"maki2-beer":{font:"fontmaki2",code:59408,name:"beer",search:"biere,boisson,cafe",theme:"commerce"},"maki2-bicycle":{font:"fontmaki2",code:59409,name:"bicycle",search:"velo,cycle,bicyclette",theme:"transport"},"maki2-bicycle-share":{font:"fontmaki2",code:59410,theme:"transport",name:"share",search:"velo,cycle,bicyclette"},"maki2-blood-bank":{font:"fontmaki2",code:59411,theme:"service",name:"bank",search:"sant,sang,don"},"maki2-buddhism":{font:"fontmaki2",code:59412,name:"buddhism",search:"bouddhisme",theme:"religion"},"maki2-building":{font:"fontmaki2",code:59413,name:"building",search:"maison,batiment",theme:"construction"},"maki2-building-alt1":{font:"fontmaki2",code:59414,theme:"construction",name:"alt1",search:"building,tour,immeuble"},"maki2-bus":{font:"fontmaki2",code:59415,name:"bus",search:"bus",theme:"transport"},"maki2-cafe":{font:"fontmaki2",code:59416,name:"cafe",search:"cafe,bar",theme:"commerce"},"maki2-campsite":{font:"fontmaki2",code:59417,name:"campsite",search:"camping,tente",theme:"tourisme"},"maki2-car":{font:"fontmaki2",code:59418,name:"car",search:"voiture",theme:"transport"},"maki2-car-rental":{font:"fontmaki2",code:59419,theme:"service",name:"rental",search:"voiture,location,parking"},"maki2-car-repair":{font:"fontmaki2",code:59420,theme:"service",name:"repair",search:"voiture,reparation,mecanique"},"maki2-casino":{font:"fontmaki2",code:59421,name:"casino",search:"casino,carte,pique",theme:"loisir"},"maki2-castle":{font:"fontmaki2",code:59422,name:"castle",search:"chateau,tour",theme:"loisir"},"maki2-cemetery":{font:"fontmaki2",code:59423,name:"cemetery",search:"cimetiere,tombe",theme:"religion"},"maki2-charging-station":{font:"fontmaki2",code:59424,theme:"transport",name:"station",search:"voiture,chargement,electrique,station"},"maki2-cinema":{font:"fontmaki2",code:59425,name:"cinema",search:"cinema,film",theme:"tourisme"},"maki2-circle":{font:"fontmaki2",code:59426,name:"circle",search:"cercle",theme:"forme"},"maki2-circle-stroked":{font:"fontmaki2",code:59427,theme:"forme",name:"stroked",search:"cercle,rond"},"maki2-city":{font:"fontmaki2",code:59428,name:"city",search:"ville,batiment,hlm",theme:"construction"},"maki2-clothing-store":{font:"fontmaki2",code:59429,theme:"commerce",name:"store",search:"vetement,magasin"},"maki2-college":{font:"fontmaki2",code:59430,name:"college",search:"college,universite",theme:"education"},"maki2-commercial":{font:"fontmaki2",code:59431,name:"commercial",search:"commercial,tour",theme:"construction"},"maki2-cricket":{font:"fontmaki2",code:59432,name:"cricket",search:"cricket",theme:"sport"},"maki2-cross":{font:"fontmaki2",code:59433,name:"cross",search:"croix",theme:"forme"},"maki2-dam":{font:"fontmaki2",code:59434,name:"dam",search:"barrage,eau",theme:"industrie"},"maki2-danger":{font:"fontmaki2",code:59435,name:"danger",search:"danger,mort,tete",theme:"panneau"},"maki2-defibrillator":{font:"fontmaki2",code:59436,name:"defibrillator",search:"defibrillateur,medecin,sante",theme:"service"},"maki2-dentist":{font:"fontmaki2",code:59437,name:"dentist",search:"dentiste,sante",theme:"service"},"maki2-doctor":{font:"fontmaki2",code:59438,name:"doctor",search:"docteur,medecin,stetoscope",theme:"service"},"maki2-dog-park":{font:"fontmaki2",code:59439,theme:"service",name:"park",search:"chien,parc"},"maki2-drinking-water":{font:"fontmaki2",code:59440,theme:"service",name:"water",search:"eau,ba,boison,robinet"},"maki2-embassy":{font:"fontmaki2",code:59441,name:"embassy",search:"ambassade",theme:"service"},"maki2-emergency-phone":{font:"fontmaki2",code:59442,theme:"service",name:"phone",search:"urgence,sante,telephone"},"maki2-entrance":{font:"fontmaki2",code:59443,name:"entrance",search:"entree",theme:"construction"},"maki2-entrance-alt1":{font:"fontmaki2",code:59444,theme:"service",name:"alt1",search:"sortie,secours"},"maki2-farm":{font:"fontmaki2",code:59445,name:"farm",search:"ferme,batiment",theme:"construction"},"maki2-fast-food":{font:"fontmaki2",code:59446,theme:"commerce",name:"food",search:"fast food,retaurant,hamburger"},"maki2-fence":{font:"fontmaki2",code:59447,name:"fence",search:"herse,barriere",theme:"panneau"},"maki2-ferry":{font:"fontmaki2",code:59448,name:"ferry",search:"ferry,bac,bateau",theme:"transport"},"maki2-fire-station":{font:"fontmaki2",code:59449,theme:"service",name:"station",search:"pompier,feu,station"},"maki2-florist":{font:"fontmaki2",code:59450,name:"florist",search:"fleur,fleuriste,nature",theme:"commerce"},"maki2-fuel":{font:"fontmaki2",code:59451,name:"fuel",search:"pompe,essence",theme:"commerce"},"maki2-furniture":{font:"fontmaki2",code:59452,name:"furniture",search:"meuble,lampe,magazin",theme:"commerce"},"maki2-gaming":{font:"fontmaki2",code:59453,name:"gaming",search:"gaming,jeu,manette,console",theme:"commerce"},"maki2-garden":{font:"fontmaki2",code:59454,name:"garden",search:"jardin,fleur",theme:"loisir"},"maki2-garden-center":{font:"fontmaki2",code:59455,theme:"loisir",name:"center",search:"jardin,arrosoir,fleur"},"maki2-gift":{font:"fontmaki2",code:59456,name:"gift",search:"cadeau,achat",theme:"commerce"},"maki2-globe":{font:"fontmaki2",code:59457,name:"globe",search:"globe,terre",theme:"divers"},"maki2-golf":{font:"fontmaki2",code:59458,name:"golf",search:"golf",theme:"sport"},"maki2-grocery":{font:"fontmaki2",code:59459,name:"grocery",search:"caddy,super,marche",theme:"commerce"},"maki2-hairdresser":{font:"fontmaki2",code:59460,name:"hairdresser",search:"coiffeur",theme:"commerce"},"maki2-harbor":{font:"fontmaki2",code:59461,name:"harbor",search:"port,bateau,ancre",theme:"transport"},"maki2-hardware":{font:"fontmaki2",code:59462,name:"hardware",search:"mecanicien,outil",theme:"service"},"maki2-heart":{font:"fontmaki2",code:59463,name:"heart",search:"coeur,amour",theme:"forme"},"maki2-heliport":{font:"fontmaki2",code:59464,name:"heliport",search:"heliport,helicoptere",theme:"transport"},"maki2-home":{font:"fontmaki2",code:59465,name:"home",search:"maison,bati",theme:"construction"},"maki2-horse-riding":{font:"fontmaki2",code:59466,theme:"sport",name:"riding",search:"animal,cavalier,cheval"},"maki2-hospital":{font:"fontmaki2",code:59467,name:"hospital",search:"hopital,croix",theme:"service"},"maki2-ice-cream":{font:"fontmaki2",code:59468,theme:"loisir",name:"cream",search:"glace,cornet,enfant"},"maki2-industry":{font:"fontmaki2",code:59469,name:"industry",search:"industrie,usine,cheminee",theme:"industrie"},"maki2-information":{font:"fontmaki2",code:59470,name:"information",search:"information,i",theme:"tourisme"},"maki2-jewelry":{font:"fontmaki2",code:59471,name:"jewelry",search:"bijoutier,bague,or",theme:"commerce"},"maki2-karaoke":{font:"fontmaki2",code:59472,name:"karaoke",search:"karaoke,micro,chant",theme:"commerce"},"maki2-landmark":{font:"fontmaki2",code:59473,name:"landmark",search:"manege,info",theme:"service"},"maki2-landuse":{font:"fontmaki2",code:59474,name:"landuse",search:"paysage,maison",theme:"paysage"},"maki2-laundry":{font:"fontmaki2",code:59475,name:"laundry",search:"machine,laver,blanchisserie",theme:"commerce"},"maki2-library":{font:"fontmaki2",code:59476,name:"library",search:"livre,bibliotheque",theme:"service"},"maki2-lighthouse":{font:"fontmaki2",code:59477,name:"lighthouse",search:"phare,lumiere",theme:"transport"},"maki2-lodging":{font:"fontmaki2",code:59478,name:"lodging",search:"lit,hotel",theme:"hebergement"},"maki2-logging":{font:"fontmaki2",code:59479,name:"logging",search:"enregistrement",theme:"hebergement"},"maki2-marker":{font:"fontmaki2",code:59480,name:"marker",search:"marker,poi",theme:"forme"},"maki2-marker-stroked":{font:"fontmaki2",code:59481,theme:"forme",name:"stroked",search:"marker,poi"},"maki2-mobile-phone":{font:"fontmaki2",code:59482,theme:"divers",name:"phone",search:"mobile,telephone"},"maki2-monument":{font:"fontmaki2",code:59483,name:"monument",search:"monument,obelix,tour",theme:"construction"},"maki2-mountain":{font:"fontmaki2",code:59484,name:"mountain",search:"montagne,mont,neige",theme:"paysage"},"maki2-museum":{font:"fontmaki2",code:59485,name:"museum",search:"musee,maison",theme:"tourisme"},"maki2-music":{font:"fontmaki2",code:59486,name:"music",search:"musique,note",theme:"loisir"},"maki2-natural":{font:"fontmaki2",code:59487,name:"natural",search:"naturel,arbre",theme:"paysage"},"maki2-optician":{font:"fontmaki2",code:59488,name:"optician",search:"lunette,opticien",theme:"commerce"},"maki2-paint":{font:"fontmaki2",code:59489,name:"paint",search:"peintre,peinture,rouleau",theme:"commerce"},"maki2-park":{font:"fontmaki2",code:59490,name:"park",search:"parc,arbre,feuille",theme:"paysage"},"maki2-park-alt1":{font:"fontmaki2",code:59491,theme:"paysage",name:"alt1",search:"parc,arbre,sapin"},"maki2-parking":{font:"fontmaki2",code:59492,name:"parking",search:"parking,p",theme:"transport"},"maki2-parking-garage":{font:"fontmaki2",code:59493,theme:"transport",name:"garage",search:"parking,garage"},"maki2-pharmacy":{font:"fontmaki2",code:59494,name:"pharmacy",search:"pharmacie,medicament",theme:"service"},"maki2-picnic-site":{font:"fontmaki2",code:59495,theme:"loisir",name:"site",search:"picnic,site,halte,aire"},"maki2-pitch":{font:"fontmaki2",code:59496,name:"pitch",search:"saut,course",theme:"sport"},"maki2-place-of-worship":{font:"fontmaki2",code:59497,theme:"construction",name:"of",search:"place,immeuble,chateau"},"maki2-playground":{font:"fontmaki2",code:59498,name:"playground",search:"balancoire,enfant,jardin",theme:"loisir"},"maki2-police":{font:"fontmaki2",code:59499,name:"police",search:"police,kepi",theme:"service"},"maki2-post":{font:"fontmaki2",code:59500,name:"post",search:"poste,lettre",theme:"service"},"maki2-prison":{font:"fontmaki2",code:59501,name:"prison",search:"prison,herse,barriere",theme:"service"},"maki2-rail":{font:"fontmaki2",code:59502,name:"rail",search:"rail,fer",theme:"transport"},"maki2-rail-light":{font:"fontmaki2",code:59503,theme:"transport",name:"light",search:"transport,train,sncf,rail"},"maki2-rail-metro":{font:"fontmaki2",code:59504,theme:"transport",name:"metro",search:"transport,train,sncf,rail"},"maki2-ranger-station":{font:"fontmaki2",code:59505,theme:"construction",name:"station",search:"station,maison,ranger"},"maki2-recycling":{font:"fontmaki2",code:59506,name:"recycling",search:"recyclable,fleche",theme:"service"},"maki2-religious-christian":{font:"fontmaki2",code:59507,theme:"religion",name:"christian",search:"religion,chretien,coix"},"maki2-religious-jewish":{font:"fontmaki2",code:59508,theme:"religion",name:"jewish",search:"religion,juif,etoile"},"maki2-religious-muslim":{font:"fontmaki2",code:59509,theme:"religion",name:"muslim",search:"religion,musulman,etoile"},"maki2-residential-community":{font:"fontmaki2",code:59510,theme:"construction",name:"community",search:"residentiel,immeuble,tour"},"maki2-restaurant":{font:"fontmaki2",code:59511,name:"restaurant",search:"restaurant,fourchette,couteau",theme:"commerce"},"maki2-roadblock":{font:"fontmaki2",code:59512,name:"roadblock",search:"sens,interdit,panneau",theme:"transport"},"maki2-rocket":{font:"fontmaki2",code:59513,name:"rocket",search:"fusee",theme:"transport"},"maki2-school":{font:"fontmaki2",code:59514,name:"school",search:"education,ecole,enfant,primaire",theme:"education"},"maki2-scooter":{font:"fontmaki2",code:59515,name:"scooter",search:"scooter,velo",theme:"transport"},"maki2-shelter":{font:"fontmaki2",code:59516,name:"shelter",search:"barriere,pont",theme:"transport"},"maki2-shoe":{font:"fontmaki2",code:59517,name:"shoe",search:"chaussure,cordonnier",theme:"commerce"},"maki2-shop":{font:"fontmaki2",code:59518,name:"shop",search:"boutique,sac",theme:"commerce"},"maki2-skiing":{font:"fontmaki2",code:59519,name:"skiing",search:"ski,descente,montagne",theme:"sport"},"maki2-slaughterhouse":{font:"fontmaki2",code:59520,name:"slaughterhouse",search:"vache,animal,ferme,abatoire",theme:"industrie"},"maki2-snowmobile":{font:"fontmaki2",code:59521,name:"snowmobile",search:"neige,ski,skido,moto",theme:"transport"},"maki2-soccer":{font:"fontmaki2",code:59522,name:"soccer",search:"foot,ballon",theme:"sport"},"maki2-square":{font:"fontmaki2",code:59523,name:"square",search:"carre",theme:"forme"},"maki2-square-stroked":{font:"fontmaki2",code:59524,theme:"forme",name:"stroked",search:"carre"},"maki2-stadium":{font:"fontmaki2",code:59525,name:"stadium",search:"stade,drapeau,chapiteau",theme:"construction"},"maki2-star":{font:"fontmaki2",code:59526,name:"star",search:"etoile",theme:"forme"},"maki2-star-stroked":{font:"fontmaki2",code:59527,theme:"forme",name:"stroked",search:"etoile"},"maki2-suitcase":{font:"fontmaki2",code:59528,name:"suitcase",search:"valise,voyage",theme:"transport"},"maki2-sushi":{font:"fontmaki2",code:59529,name:"sushi",search:"sushi,restaurant,poison",theme:"commerce"},"maki2-swimming":{font:"fontmaki2",code:59530,name:"swimming",search:"eau,nage,piscine",theme:"sport"},"maki2-teahouse":{font:"fontmaki2",code:59531,name:"teahouse",search:"the,salon,tasse",theme:"commerce"},"maki2-telephone":{font:"fontmaki2",code:59532,name:"telephone",search:"telephone,urgence",theme:"service"},"maki2-tennis":{font:"fontmaki2",code:59533,name:"tennis",search:"tennis,balle,raquette",theme:"sport"},"maki2-theatre":{font:"fontmaki2",code:59534,name:"theatre",search:"theatre,culture",theme:"tourisme"},"maki2-toilet":{font:"fontmaki2",code:59535,name:"toilet",search:"toilettte,wc",theme:"service"},"maki2-town":{font:"fontmaki2",code:59536,name:"town",search:"ville,maisons",theme:"construction"},"maki2-town-hall":{font:"fontmaki2",code:59537,theme:"construction",name:"hall",search:"batiment,institution"},"maki2-triangle":{font:"fontmaki2",code:59538,name:"triangle",search:"triangle",theme:"forme"},"maki2-triangle-stroked":{font:"fontmaki2",code:59539,theme:"forme",name:"stroked",search:"triangle"},"maki2-veterinary":{font:"fontmaki2",code:59540,name:"veterinary",search:"animal,veterinaire,patte,empreinte",theme:"commerce"},"maki2-village":{font:"fontmaki2",code:59541,name:"village",search:"village,maison",theme:"construction"},"maki2-volcano":{font:"fontmaki2",code:59542,name:"volcano",search:"volcan,mont,feu",theme:"paysage"},"maki2-warehouse":{font:"fontmaki2",code:59543,name:"warehouse",search:"gite",theme:"construction"},"maki2-waste-basket":{font:"fontmaki2",code:59544,theme:"service",name:"basket",search:"poubelle,recyclage"},"maki2-watch":{font:"fontmaki2",code:59545,name:"watch",search:"montre,bijouterie,heure",theme:"commerce"},"maki2-water":{font:"fontmaki2",code:59546,name:"water",search:"eau,goutte",theme:"forme"},"maki2-watermill":{font:"fontmaki2",code:59547,name:"watermill",search:"moulin,eau",theme:"construction"},"maki2-wetland":{font:"fontmaki2",code:59548,name:"wetland",search:"humide,riziere,marecage",theme:"paysage"},"maki2-wheelchair":{font:"fontmaki2",code:59549,name:"wheelchair",search:"handicape,roue,fauteuil,sante",theme:"service"},"maki2-windmill":{font:"fontmaki2",code:59550,name:"windmill",search:"moulin,vent",theme:"construction"},"maki2-zoo":{font:"fontmaki2",code:59551,name:"zoo",search:"zoo,girafe,animal",theme:"loisir"}}),bt.addDefs({font:"fontmaki",name:"Maki",copyright:"CC0 - MapBox - https://www.mapbox.com/maki/",prefix:"maki"},{"maki-bicycle":{font:"fontmaki",code:59392,name:"bicycle",search:"bicycle"},"maki-building":{font:"fontmaki",code:59393,name:"building",search:"building"},"maki-bus":{font:"fontmaki",code:59394,name:"bus",search:"bus"},"maki-cafe":{font:"fontmaki",code:59395,name:"cafe",search:"cafe"},"maki-camera":{font:"fontmaki",code:59396,name:"camera",search:"camera"},"maki-campsite":{font:"fontmaki",code:59397,name:"campsite",search:"campsite"},"maki-car":{font:"fontmaki",code:59398,name:"car",search:"car"},"maki-cemetery":{font:"fontmaki",code:59399,name:"cemetery",search:"cemetery"},"maki-chemist":{font:"fontmaki",code:59400,name:"chemist",search:"chemist"},"maki-cinema":{font:"fontmaki",code:59401,name:"cinema",search:"cinema"},"maki-circle":{font:"fontmaki",code:59402,name:"circle",search:"circle"},"maki-circle_stroked":{font:"fontmaki",code:59403,name:"circle_stroked",search:"circle_stroked"},"maki-city":{font:"fontmaki",code:59404,name:"city",search:"city"},"maki-clothing_store":{font:"fontmaki",code:59405,name:"clothing_store",search:"clothing_store"},"maki-college":{font:"fontmaki",code:59406,name:"college",search:"college"},"maki-commercial":{font:"fontmaki",code:59407,name:"commercial",search:"commercial"},"maki-cricket":{font:"fontmaki",code:59408,name:"cricket",search:"cricket"},"maki-cross":{font:"fontmaki",code:59409,name:"cross",search:"cross"},"maki-dam":{font:"fontmaki",code:59410,name:"dam",search:"dam"},"maki-danger":{font:"fontmaki",code:59411,name:"danger",search:"danger"},"maki-dentist":{font:"fontmaki",code:59412,name:"dentist",search:"dentist"},"maki-disability":{font:"fontmaki",code:59413,name:"disability",search:"disability"},"maki-dog_park":{font:"fontmaki",code:59414,name:"dog_park",search:"dog_park"},"maki-embassy":{font:"fontmaki",code:59415,name:"embassy",search:"embassy"},"maki-emergency_telephone":{font:"fontmaki",code:59416,name:"emergency_telephone",search:"emergency_telephone"},"maki-entrance":{font:"fontmaki",code:59417,name:"entrance",search:"entrance"},"maki-farm":{font:"fontmaki",code:59418,name:"farm",search:"farm"},"maki-fast_food":{font:"fontmaki",code:59419,name:"fast_food",search:"fast_food"},"maki-ferry":{font:"fontmaki",code:59420,name:"ferry",search:"ferry"},"maki-fire_station":{font:"fontmaki",code:59421,name:"fire_station",search:"fire_station"},"maki-fuel":{font:"fontmaki",code:59422,name:"fuel",search:"fuel"},"maki-garden":{font:"fontmaki",code:59423,name:"garden",search:"garden"},"maki-gift":{font:"fontmaki",code:59424,name:"gift",search:"gift"},"maki-golf":{font:"fontmaki",code:59425,name:"golf",search:"golf"},"maki-grocery":{font:"fontmaki",code:59426,name:"grocery",search:"grocery"},"maki-hairdresser":{font:"fontmaki",code:59427,name:"hairdresser",search:"hairdresser"},"maki-harbor":{font:"fontmaki",code:59428,name:"harbor",search:"harbor"},"maki-heart":{font:"fontmaki",code:59429,name:"heart",search:"heart"},"maki-heliport":{font:"fontmaki",code:59430,name:"heliport",search:"heliport"},"maki-hospital":{font:"fontmaki",code:59431,name:"hospital",search:"hospital"},"maki-ice_cream":{font:"fontmaki",code:59432,name:"ice_cream",search:"ice_cream"},"maki-industrial":{font:"fontmaki",code:59433,name:"industrial",search:"industrial"},"maki-land_use":{font:"fontmaki",code:59434,name:"land_use",search:"land_use"},"maki-laundry":{font:"fontmaki",code:59435,name:"laundry",search:"laundry"},"maki-library":{font:"fontmaki",code:59436,name:"library",search:"library"},"maki-lighthouse":{font:"fontmaki",code:59437,name:"lighthouse",search:"lighthouse"},"maki-lodging":{font:"fontmaki",code:59438,name:"lodging",search:"lodging"},"maki-logging":{font:"fontmaki",code:59439,name:"logging",search:"logging"},"maki-london_underground":{font:"fontmaki",code:59440,name:"london_underground",search:"london_underground"},"maki-marker":{font:"fontmaki",code:59441,name:"marker",search:"marker"},"maki-minefield":{font:"fontmaki",code:59442,name:"minefield",search:"minefield"},"maki-marker_stroked":{font:"fontmaki",code:59443,name:"marker_stroked",search:"marker_stroked"},"maki-mobilephone":{font:"fontmaki",code:59444,name:"mobilephone",search:"mobilephone"},"maki-monument":{font:"fontmaki",code:59445,name:"monument",search:"monument"},"maki-museum":{font:"fontmaki",code:59446,name:"museum",search:"museum"},"maki-music":{font:"fontmaki",code:59447,name:"music",search:"music"},"maki-oil_well":{font:"fontmaki",code:59448,name:"oil_well",search:"oil_well"},"maki-park":{font:"fontmaki",code:59449,name:"park",search:"park"},"maki-park2":{font:"fontmaki",code:59450,name:"park2",search:"park2"},"maki-parking":{font:"fontmaki",code:59451,name:"parking",search:"parking"},"maki-parking_garage":{font:"fontmaki",code:59452,name:"parking_garage",search:"parking_garage"},"maki-pharmacy":{font:"fontmaki",code:59453,name:"pharmacy",search:"pharmacy"},"maki-pitch":{font:"fontmaki",code:59454,name:"pitch",search:"pitch"},"maki-playground":{font:"fontmaki",code:59455,name:"playground",search:"playground"},"maki-police":{font:"fontmaki",code:59456,name:"police",search:"police"},"maki-polling_place":{font:"fontmaki",code:59457,name:"polling_place",search:"polling_place"},"maki-post":{font:"fontmaki",code:59458,name:"post",search:"post"},"maki-prison":{font:"fontmaki",code:59459,name:"prison",search:"prison"},"maki-rail":{font:"fontmaki",code:59460,name:"rail",search:"rail"},"maki-rail_above":{font:"fontmaki",code:59461,name:"rail_above",search:"rail_above"},"maki-rail_light":{font:"fontmaki",code:59462,name:"rail_light",search:"rail_light"},"maki-rail_metro":{font:"fontmaki",code:59463,name:"rail_metro",search:"rail_metro"},"maki-rail_underground":{font:"fontmaki",code:59464,name:"rail_underground",search:"rail_underground"},"maki-religious-christian":{font:"fontmaki",code:59465,theme:"religious",name:"christian",search:"religious,christian"},"maki-religious-jewish":{font:"fontmaki",code:59466,theme:"religious",name:"jewish",search:"religious,jewish"},"maki-religious-muslim":{font:"fontmaki",code:59467,theme:"religious",name:"muslim",search:"religious,muslim"},"maki-religious-place_of_worship":{font:"fontmaki",code:59468,theme:"religious",name:"place_of_worship",search:"religious,place_of_worship"},"maki-restaurant":{font:"fontmaki",code:59469,name:"restaurant",search:"restaurant"},"maki-roadblock":{font:"fontmaki",code:59470,name:"roadblock",search:"roadblock"},"maki-rocket":{font:"fontmaki",code:59471,name:"rocket",search:"rocket"},"maki-school":{font:"fontmaki",code:59472,name:"school",search:"school"},"maki-scooter":{font:"fontmaki",code:59473,name:"scooter",search:"scooter"},"maki-shop":{font:"fontmaki",code:59474,name:"shop",search:"shop"},"maki-skiing":{font:"fontmaki",code:59475,name:"skiing",search:"skiing"},"maki-slaughterhouse":{font:"fontmaki",code:59476,name:"slaughterhouse",search:"slaughterhouse"},"maki-soccer":{font:"fontmaki",code:59477,name:"soccer",search:"soccer"},"maki-square":{font:"fontmaki",code:59478,name:"square",search:"square"},"maki-square_stroked":{font:"fontmaki",code:59479,name:"square_stroked",search:"square_stroked"},"maki-star":{font:"fontmaki",code:59480,name:"star",search:"star"},"maki-star_stroked":{font:"fontmaki",code:59481,name:"star_stroked",search:"star_stroked"},"maki-suitcase":{font:"fontmaki",code:59482,name:"suitcase",search:"suitcase"},"maki-swimming":{font:"fontmaki",code:59483,name:"swimming",search:"swimming"},"maki-telephone":{font:"fontmaki",code:59484,name:"telephone",search:"telephone"},"maki-tennis":{font:"fontmaki",code:59485,name:"tennis",search:"tennis"},"maki-theatre":{font:"fontmaki",code:59486,name:"theatre",search:"theatre"},"maki-toilets":{font:"fontmaki",code:59487,name:"toilets",search:"toilets"},"maki-town":{font:"fontmaki",code:59488,name:"town",search:"town"},"maki-town_hall":{font:"fontmaki",code:59489,name:"town_hall",search:"town_hall"},"maki-triangle":{font:"fontmaki",code:59490,name:"triangle",search:"triangle"},"maki-triangle_stroked":{font:"fontmaki",code:59491,name:"triangle_stroked",search:"triangle_stroked"},"maki-village":{font:"fontmaki",code:59492,name:"village",search:"village"},"maki-warehouse":{font:"fontmaki",code:59493,name:"warehouse",search:"warehouse"},"maki-waste_basket":{font:"fontmaki",code:59494,name:"waste_basket",search:"waste_basket"},"maki-water":{font:"fontmaki",code:59495,name:"water",search:"water"},"maki-wetland":{font:"fontmaki",code:59496,name:"wetland",search:"wetland"},"maki-zoo":{font:"fontmaki",code:59497,name:"zoo",search:"zoo"},"maki-aerialway":{font:"fontmaki",code:59498,name:"aerialway",search:"aerialway"},"maki-airfield":{font:"fontmaki",code:59499,name:"airfield",search:"airfield"},"maki-airport":{font:"fontmaki",code:59500,name:"airport",search:"airport"},"maki-alcohol_shop":{font:"fontmaki",code:59501,name:"alcohol_shop",search:"alcohol_shop"},"maki-america_football":{font:"fontmaki",code:59502,name:"america_football",search:"america_football"},"maki-art_gallery":{font:"fontmaki",code:59503,name:"art_gallery",search:"art_gallery"},"maki-bakery":{font:"fontmaki",code:59504,name:"bakery",search:"bakery"},"maki-bank":{font:"fontmaki",code:59505,name:"bank",search:"bank"},"maki-bar":{font:"fontmaki",code:59506,name:"bar",search:"bar"},"maki-baseball":{font:"fontmaki",code:59507,name:"baseball",search:"baseball"},"maki-basketball":{font:"fontmaki",code:59508,name:"basketball",search:"basketball"},"maki-beer":{font:"fontmaki",code:59509,name:"beer",search:"beer"}});kt();const xt={};function Tt(e){return"erp"===e.get("layer")?xt[e.get("type_principal")]||xt.default:[]}wt((()=>{const e={J:"maki-disability",L:"maki-theatre",M:"maki-shop",N:"maki-restaurant",O:"maki-lodging",P:"maki-playground",R:"maki-school",RH:"maki-school",S:"maki-library",T:"maki-museum",U:"maki-hospital",V:"maki-religious-place_of_worship",W:"maki2-bank",X:"maki2-basketball",EF:"maki-ferry",GA:"maki-rail",PA:"maki-soccer",PS:"maki-parking",SG:"maki2-station",CTS:"maki2-station",OA:"maki2-mountain",REF:"maki2-mountain",default:"maki-circle"};Object.keys(e).forEach((t=>{xt[t]=new(0,ot.default)({image:new bt({glyph:e[t],form:"circle",radius:18,displacement:[0,0],fontSize:.8,color:[255,255,255],fill:new(0,gt.default)({color:"#00AAFF"}),stroke:new(0,pt.default)({color:[255,255,255],width:2})})})})),window.erpStyle=xt}));var St=n("jZUWm");var Ct=n("6yJ0x"),Ft=(qe=n("fnScq"),n("2u1lG")),Pt=n("erROg"),Et=(u=n("jZquI"),n("bsgMw"));A=n("cgxQK");const Rt="element",Lt="map",It="offset",Mt="position",At="positioning";class Ot extends qe.default{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=void 0===e.insertFirst||e.insertFirst,this.stopEvent=void 0===e.stopEvent||e.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==e.className?e.className:"ol-overlay-container "+Pt.CLASS_SELECTABLE,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=!0===e.autoPan?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(Rt,this.handleElementChanged),this.addChangeListener(Lt,this.handleMapChanged),this.addChangeListener(It,this.handleOffsetChanged),this.addChangeListener(Mt,this.handlePositionChanged),this.addChangeListener(At,this.handlePositioningChanged),void 0!==e.element&&this.setElement(e.element),this.setOffset(void 0!==e.offset?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),void 0!==e.position&&this.setPosition(e.position)}getElement(){return this.get(Rt)}getId(){return this.id}getMap(){return this.get(Lt)||null}getOffset(){return this.get(It)}getPosition(){return this.get(Mt)}getPositioning(){return this.get(At)}handleElementChanged(){(0,A.removeChildren)(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&((0,A.removeNode)(this.element),(0,Et.unlistenByKey)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=(0,Et.listen)(e,Ft.default.POSTRENDER,this.render,this),this.updatePixelPosition();const t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set(Rt,e)}setMap(e){this.set(Lt,e)}setOffset(e){this.set(It,e)}setPosition(e){this.set(Mt,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const t=this.getMap();if(!t||!t.getTargetElement()||!this.get(Mt))return;const i=this.getRect(t.getTargetElement(),t.getSize()),o=this.getElement(),n=this.getRect(o,[(0,A.outerWidth)(o),(0,A.outerHeight)(o)]),a=void 0===(e=e||{}).margin?20:e.margin;if(!(0,u.containsExtent)(i,n)){const o=n[0]-i[0],r=i[2]-n[2],s=n[1]-i[1],c=i[3]-n[3],h=[0,0];if(o<0?h[0]=o-a:r<0&&(h[0]=Math.abs(r)+a),s<0?h[1]=s-a:c<0&&(h[1]=Math.abs(c)+a),0!==h[0]||0!==h[1]){const i=t.getView().getCenterInternal(),o=t.getPixelFromCoordinateInternal(i);if(!o)return;const n=[o[0]+h[0],o[1]+h[1]],a=e.animation||{};t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(n),duration:a.duration,easing:a.easing})}}}getRect(e,t){const i=e.getBoundingClientRect(),o=i.left+window.pageXOffset,n=i.top+window.pageYOffset;return[o,n,o+t[0],n+t[1]]}setPositioning(e){this.set(At,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),t=this.getPosition();if(!e||!e.isRendered()||!t)return void this.setVisible(!1);const i=e.getPixelFromCoordinate(t),o=e.getSize();this.updateRenderedPosition(i,o)}updateRenderedPosition(e,t){const i=this.element.style,o=this.getOffset(),n=this.getPositioning();this.setVisible(!0);let a="0%",r="0%";"bottom-right"==n||"center-right"==n||"top-right"==n?a="-100%":"bottom-center"!=n&&"center-center"!=n&&"top-center"!=n||(a="-50%"),"bottom-left"==n||"bottom-center"==n||"bottom-right"==n?r="-100%":"center-left"!=n&&"center-center"!=n&&"center-right"!=n||(r="-50%");const s=`translate(${a}, ${r}) translate(${Math.round(e[0]+o[0])+"px"}, ${Math.round(e[1]+o[1])+"px"})`;this.rendered.transform_!=s&&(this.rendered.transform_=s,i.transform=s)}getOptions(){return this.options}}var Dt=Ot,Vt=n("iQyfo"),jt=class extends Dt{constructor(e){e=e||{};var t=document.createElement("div");e.element=t,super(e),"number"==typeof e.offsetBox?this.offsetBox=[e.offsetBox,e.offsetBox,e.offsetBox,e.offsetBox]:this.offsetBox=e.offsetBox,this.closeBox=e.closeBox,this.onclose=e.onclose,this.onshow=e.onshow,Vt.default.create("BUTTON",{className:"closeBox"+(e.closeBox?" hasclosebox":""),type:"button",click:function(){this.hide()}.bind(this),parent:t}),!1!==e.anchor&&Vt.default.create("DIV",{className:"anchor",parent:t}),this.content=Vt.default.create("DIV",{html:e.html||"",className:"ol-popup-content",parent:t}),e.minibar&&Vt.default.scrollDiv(this.content,{vertical:!0,mousewheel:!0,minibar:!0}),e.stopEvent&&(t.addEventListener("mousedown",(function(e){e.stopPropagation()})),t.addEventListener("touchstart",(function(e){e.stopPropagation()}))),this._elt=t,this.setPositioning(e.positioning||"auto"),this.setPopupClass(e.popupClass||e.className||"default"),e.anim&&this.addPopupClass("anim"),e.position&&setTimeout(function(){this.show(e.position)}.bind(this))}getClassPositioning(){var e="",t=this.getPositioning();return/bottom/.test(t)&&(e+="ol-popup-bottom "),/top/.test(t)&&(e+="ol-popup-top "),/left/.test(t)&&(e+="ol-popup-left "),/right/.test(t)&&(e+="ol-popup-right "),/^center/.test(t)&&(e+="ol-popup-middle "),/center$/.test(t)&&(e+="ol-popup-center "),e}setClosebox(e){this.closeBox=e,e?this.element.classList.add("hasclosebox"):this.element.classList.remove("hasclosebox")}setPopupClass(e){var t=["ol-popup"];this.getVisible()&&t.push("visible"),this.element.className="";var i=this.getClassPositioning().split(" ").filter((function(e){return e.length>0}));e?e.split(" ").filter((function(e){return e.length>0})).forEach((function(e){t.push(e)})):t.push("default"),i.forEach((function(e){t.push(e)})),this.closeBox&&t.push("hasclosebox"),this.element.classList.add.apply(this.element.classList,t)}addPopupClass(e){this.element.classList.add(e)}removePopupClass(e){this.element.classList.remove(e)}setPositioning(e){void 0!==e&&(/auto/.test(e)?(this.autoPositioning=e.split("-"),1==this.autoPositioning.length&&(this.autoPositioning[1]="auto")):this.autoPositioning=!1,"center"==(e=e.replace(/auto/g,"center"))&&(e="bottom-center"),this.setPositioning_(e))}setPositioning_(e){if(this.element){super.setPositioning(e),this.element.classList.remove("ol-popup-top","ol-popup-bottom","ol-popup-left","ol-popup-right","ol-popup-center","ol-popup-middle");var t=this.getClassPositioning().split(" ").filter((function(e){return e.length>0}));this.element.classList.add.apply(this.element.classList,t)}}getVisible(){return this.element.classList.contains("visible")}show(e,t){t||"string"!=typeof e||(t=e,e=null),!0===e&&(e=this.getPosition());var i=this,o=this.getMap();if(o&&(t&&t!==this.prevHTML&&(this.prevHTML=t,this.content.innerHTML="",t instanceof Element?this.content.appendChild(t):Vt.default.create("DIV",{html:t,parent:this.content}),Array.prototype.slice.call(this.content.querySelectorAll("img")).forEach((function(e){e.addEventListener("load",(function(){try{o.renderSync()}catch(e){}i.content.dispatchEvent(new Event("scroll"))}))}))),e)){if(this.autoPositioning){var n=o.getPixelFromCoordinate(e),a=o.getSize(),r=[];"auto"==this.autoPositioning[0]?r[0]=n[1]<a[1]/3?"top":"bottom":r[0]=this.autoPositioning[0],r[1]=n[0]<2*a[0]/3?"left":"right",this.setPositioning_(r[0]+"-"+r[1]),this.offsetBox&&this.setOffset([this.offsetBox["left"==r[1]?2:0],this.offsetBox["top"==r[0]?3:1]])}else this.offsetBox&&this.setOffset(this.offsetBox);this.setPosition(e),this.element.parentElement.style.display="","function"==typeof this.onshow&&this.onshow(),this.dispatchEvent({type:"show"}),this._tout=setTimeout((function(){i.element.classList.add("visible")}),0)}}hide(){null!=this.getPosition()&&("function"==typeof this.onclose&&this.onclose(),this.setPosition(void 0),this._tout&&clearTimeout(this._tout),this.element.classList.remove("visible"),this.dispatchEvent({type:"hide"}))}};(0,St.default)(e('<div> <h2> Day 1: points "Open to the public" </h2> <p> POI from <a href="https://geoservices.ign.fr/bdtopo" target="_new">IGNFrance BDTopo.</a> <br> Use the ol-ext font symbol style to display points with <a href="https://labs.mapbox.com/maki-icons/" target="_new">Maki font symbols</a>. </p> </div>'));const Nt=new(0,a.default)({layer:"GEOGRAPHICALGRIDSYSTEMS.PLANIGNV2"});Nt.addFilter(new Ke({operation:"difference",color:"#FA0",value:1})),dt.default.addLayer(Nt);const Bt=new C({title:"MVT",source:new U({format:new De({featureClass:be.default}),url:"https://wxs.ign.fr/topographie/geoportail/tms/1.0.0/BDTOPO/{z}/{x}/{y}.pbf"}),style:Tt});dt.default.getView().setMinZoom(16),dt.default.getView().setCenter([636860,5651388]),dt.default.addLayer(Bt),wt((()=>{Bt.setStyle(Tt)}));const Gt=new mt({hitTolerance:2,condition:nt.click});Gt.on("select",(e=>{const t=e.selected[0];t&&console.log(t.getProperties())})),dt.default.addInteraction(Gt);const zt=new jt({positioning:"bottom-center"});dt.default.addOverlay(zt);const qt=new(0,Ct.default)({cursor:"pointer",hitTolerance:2});qt.on("leave",(()=>{zt.hide()})),qt.on("hover",(e=>{const t=e.feature;t?zt.show(e.coordinate,t.get("libelle")||""):zt.hide()})),dt.default.addInteraction(qt);