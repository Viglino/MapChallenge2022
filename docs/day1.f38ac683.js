function e(e,t,i,r){Object.defineProperty(e,t,{get:i,set:r,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},r={},o=t.parcelRequirecc54;null==o&&((o=function(e){if(e in i)return i[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return i[e]=o,t.call(o.exports,o,o.exports),o.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){r[e]=t},t.parcelRequirecc54=o),o.register("6gELa",(function(t,i){e(t.exports,"default",(()=>m));var r=o("eEuqc"),n=o("fkmMz"),s=o("gzr8q"),a=o("k7cyy"),l=class extends r.default{constructor(e,t,i){t=t||{},i=i||{},"string"!=typeof e&&(i=t||{},e=(t=e).layer);var r=t.maxZoom;t.source&&(e=t.source.getLayer(),t.gppKey=t.source.getGPPKey());var o=window.geoportailConfig&&(window.geoportailConfig.capabilities[t.gppKey||t.key]||window.geoportailConfig.capabilities.default)||l.capabilities;for(var n in(o=o[e])||(o=l.capabilities[e]),o||(o={title:e,originators:[]},console.error('ol.layer.Geoportail: no layer definition for "'+e+'"\nTry to use ol/layer/Geoportail~loadCapabilities() to get it.')),o)void 0===i[n]&&(i[n]=o[n]);(t.gppKey||t.key)&&(i.gppKey=t.gppKey||t.key),t.source||(t.source=new(0,a.default)(e,i)),t.title||(t.title=o.title),t.name||(t.name=e),t.layer=e,t.queryable||(t.queryable=o.queryable),t.desc||(t.desc=o.desc),!t.extent&&o.bbox&&o.bbox[0]>-170&&o.bbox[2]<170&&(t.extent=(0,s.transformExtent)(o.bbox,"EPSG:4326",t.projection||"EPSG:3857")),t.maxZoom=r,!t.maxResolution&&i.minZoom&&(t.source.getTileGrid().minZoom-=i.minZoom>1?2:1,t.maxResolution=t.source.getTileGrid().getResolution(t.source.getTileGrid().minZoom),t.source.getTileGrid().minZoom=i.minZoom),super(t),this._originators=o.originators}static register(e,t){l.capabilities[e]=t}static isRegistered(e){return l.capabilities[e]&&l.capabilities[e].key}static loadCapabilities(e){var t=function(){},i=function(){},r=function(){};this.getCapabilities(e).then((function(e){l.capabilities=e,t(e)})).catch((function(e){i(e)})).finally((function(e){r(e)}));var o={then:function(e){return"function"==typeof e&&(t=e),o},catch:function(e){return"function"==typeof e&&(i=e),o},finally:function(e){return"function"==typeof e&&(r=e),o}};return o}static getCapabilities(e,t){var i={},r=function(){},o=function(){},s=function(){};function a(e){for(var t={min:parseFloat(e[0].TileMatrix),max:parseFloat(e[0].TileMatrix)},i=1;i<e.length;i++)t.min=Math.min(t.min,parseFloat(e[i].TileMatrix)),t.max=Math.max(t.max,parseFloat(e[i].TileMatrix));return t}function m(e){for(var t=0;t<l.themes.length;t++)if(l.themes[t].rex.test(e))return l.themes[t].theme;return"autre"}if(t){var u=[156543.03390625,78271.516953125,39135.7584765625,19567.87923828125,9783.939619140625,4891.9698095703125,2445.9849047851562,1222.9924523925781,611.4962261962891,305.74811309814453,152.87405654907226,76.43702827453613,38.218514137268066,19.109257068634033,9.554628534317017,4.777314267158508,2.388657133579254,1.194328566789627,.5971642833948135,.29858214169740677,.14929107084870338];function f(e){e=281e-6*Number(e);for(var t=0;t<u.length;t++)if(e>u[t])return t}function h(e){for(var t=e.constraint.length-1;t>0;t--)for(var i=0;i<t;i++){for(var r=!0,o=0;o<4;o++)if(e.constraint[t].bbox[o]!=e.constraint[i].bbox[o]){r=!1;break}if(r&&(e.constraint[t].maxZoom==e.constraint[i].minZoom||e.constraint[i].maxZoom==e.constraint[t].minZoom||e.constraint[t].maxZoom+1==e.constraint[i].minZoom||e.constraint[i].maxZoom+1==e.constraint[t].minZoom||e.constraint[t].minZoom-1==e.constraint[i].maxZoom||e.constraint[i].minZoom-1==e.constraint[t].maxZoom)){e.constraint[i].maxZoom=Math.max(e.constraint[t].maxZoom,e.constraint[i].maxZoom),e.constraint[i].minZoom=Math.min(e.constraint[t].minZoom,e.constraint[i].minZoom),e.constraint.splice(t,1);break}}}n.default.get({url:"https://wxs.ign.fr/"+e+"/autoconf/",dataType:"TEXT",error:function(e){o(e),s({})},success:function(t){for(var o,n=(new DOMParser).parseFromString(t,"text/xml").getElementsByTagName("Layer"),a=0;o=n[a];a++)if(/WMTS/.test(o.getElementsByTagName("Server")[0].attributes.service.value)){for(var l,m={key:e,server:o.getElementsByTagName("gpp:Key")[0].innerHTML.replace(e+"/",""),layer:o.getElementsByTagName("Name")[0].innerHTML,title:o.getElementsByTagName("Title")[0].innerHTML,format:o.getElementsByTagName("Format")[0]?o.getElementsByTagName("Format")[0].innerHTML:"image.jpeg",style:o.getElementsByTagName("Style")[0].getElementsByTagName("Name")[0].innerHTML,queryable:"1"===o.attributes.queryable.value,tilematrix:"PM",minZoom:f(o.getElementsByTagName("sld:MaxScaleDenominator")[0].innerHTML),maxZoom:f(o.getElementsByTagName("sld:MinScaleDenominator")[0].innerHTML),bbox:JSON.parse("["+o.getElementsByTagName("gpp:BoundingBox")[0].innerHTML+"]"),desc:o.getElementsByTagName("Abstract")[0].innerHTML.replace(/^<!\[CDATA\[(.*)\]\]>$/,"$1"),originators:{}},u=o.getElementsByTagName("gpp:Originator"),c=0;l=u[c];c++){for(var g,p=m.originators[l.attributes.name.value]={href:l.getElementsByTagName("gpp:URL")[0].innerHTML,attribution:l.getElementsByTagName("gpp:Attribution")[0].innerHTML,logo:l.getElementsByTagName("gpp:Logo")[0].innerHTML,minZoom:20,maxZoom:0,constraint:[]},d=l.getElementsByTagName("gpp:Constraint"),T=0;g=d[T];T++){var y=f(g.getElementsByTagName("sld:MinScaleDenominator")[0].innerHTML),x=f(g.getElementsByTagName("sld:MaxScaleDenominator")[0].innerHTML);x>p.maxZoom&&(p.maxZoom=x),x<p.minZoom&&(p.minZoom=x),y>p.maxZoom&&(p.maxZoom=y),y<p.minZoom&&(p.minZoom=y),p.constraint.push({minZoom:x,maxZoom:y,bbox:JSON.parse("["+g.getElementsByTagName("gpp:BoundingBox")[0].innerHTML+"]")})}h(p)}i[m.layer]=m}r(i,{}),s(i,{})}})}else{"gpf"===e&&(e=void 0);var c=e?"https://data.geopf.fr/private/wmts":"https://data.geopf.fr/wmts",g=c+"?SERVICE=WMTS&VERSION=1.0.0&REQUEST=GetCapabilities";e&&(g+="&apikey="+e),n.default.get({url:g,dataType:"TEXT",error:function(e){o(e),s({})},success:function(t){var i=(new DOMParser).parseFromString(t,"text/xml");i=i.getElementsByTagName("Layer");for(var o=(t=(new ol_format_WMTSCapabilities).read(t)).Contents.Layer,n={},l={},u=0;u<o.length;u++){var g=o[u],p=a(g.TileMatrixSetLink[0].TileMatrixSetLimits),f=m(g.Identifier);l[f]||(l[f]={}),l[f][g.Identifier]=n[g.Identifier]={layer:g.Identifier,key:e,theme:f,desc:g.Abstract,server:c,bbox:g.WGS84BoundingBox,format:g.Format[0],minZoom:p.min,maxZoom:p.max,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:i[u].getElementsByTagName("InfoFormat").length>0,style:g.Style&&g.Style.length?g.Style[0].Identifier:"normal",tilematrix:"PM",title:g.Title}}r(n,l),s(n,l)}})}var p={then:function(e){return"function"==typeof e&&(r=e),p},catch:function(e){return"function"==typeof e&&(o=e),p},finally:function(e){return"function"==typeof e&&(s=e),p}};return p}};l.capabilities={"GEOGRAPHICALGRIDSYSTEMS.PLANIGNV2":{layer:"GEOGRAPHICALGRIDSYSTEMS.PLANIGNV2",theme:"cartes",desc:"Cartographie multi-échelles sur le territoire national, issue des bases de données vecteur de l’IGN, mis à jour régulièrement et réalisée selon un processus entièrement automatisé.",server:"https://data.geopf.fr/wmts",bbox:[-175,-85,175,85],format:"image/png",minZoom:0,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Plan IGN v2"},"CADASTRALPARCELS.PARCELLAIRE_EXPRESS":{layer:"CADASTRALPARCELS.PARCELLAIRE_EXPRESS",theme:"parcellaire",desc:"Plan cadastral informatisé vecteur de la DGFIP édition Juillet 2023.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:0,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"PCI vecteur"},"ORTHOIMAGERY.ORTHOPHOTOS":{layer:"ORTHOIMAGERY.ORTHOPHOTOS",theme:"ortho",desc:"Photographies aériennes",server:"https://data.geopf.fr/wmts",bbox:[-180,-89,180,89],format:"image/jpeg",minZoom:0,maxZoom:20,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Photographies aériennes"},"GEOGRAPHICALGRIDSYSTEMS.MAPS":{layer:"GEOGRAPHICALGRIDSYSTEMS.MAPS",theme:"cartes",desc:"Cartes IGN",server:"https://data.geopf.fr/private/wmts",bbox:[-180,-68.1389,180,80],format:"image/jpeg",minZoom:0,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartes IGN"},"ADMINEXPRESS-COG-CARTO.LATEST":{layer:"ADMINEXPRESS-COG-CARTO.LATEST",theme:"administratif",desc:"Limites administratives Express COG code officiel géographique 2023",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"ADMINEXPRESS COG CARTO"},"GEOGRAPHICALGRIDSYSTEMS.SLOPES.MOUNTAIN":{layer:"GEOGRAPHICALGRIDSYSTEMS.SLOPES.MOUNTAIN",theme:"cartes",desc:"Carte des zones ayant une valeur de pente supérieure à 30°-35°-40°-45° d'après la BD ALTI au pas de 5m",server:"https://data.geopf.fr/wmts",bbox:[-63.1614,-21.5446,56.0018,51.0991],format:"image/png",minZoom:0,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Carte des pentes"},"ELEVATION.SLOPES":{layer:"ELEVATION.SLOPES",theme:"altimetrie",desc:"La couche altitude se compose d'un MNT (Modèle Numérique de Terrain) affiché en teintes hypsométriques et issu de la BD ALTI®.",server:"https://data.geopf.fr/wmts",bbox:[-179.5,-75,179.5,75],format:"image/jpeg",minZoom:6,maxZoom:14,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Altitude"},"GEOGRAPHICALGRIDSYSTEMS.MAPS.BDUNI.J1":{key:"cartes",server:"https://wxs.ign.fr/geoportail/wmts",layer:"GEOGRAPHICALGRIDSYSTEMS.MAPS.BDUNI.J1",title:"Plan IGN j+1",format:"image/png",style:"normal",queryable:!1,tilematrix:"PM",minZoom:0,maxZoom:18,bbox:[-179.5,-75,179.5,75],desc:"Plan IGN j+1",originators:{IGN:{href:"http://www.ign.fr",attribution:"Institut national de l'information géographique et forestière",logo:"https://wxs.ign.fr/static/logos/IGN/IGN.gif",minZoom:0,maxZoom:18,constraint:[{minZoom:0,maxZoom:18,bbox:[-179,-80,179,80]}]}}},"TRANSPORTNETWORKS.ROADS":{layer:"TRANSPORTNETWORKS.ROADS",theme:"topographie",desc:"Affichage du réseau routier français et européen.",server:"https://data.geopf.fr/wmts",bbox:[-63.9692,-21.4969,55.9644,71.5841],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Routes"}},l.themes=[{theme:"edugeo",rex:/EDUGEO|PVA_IGN_zone-marais|VERDUN|DOUAUMONT/},{theme:"cartes",rex:/GEOGRAPHICALGRIDSYSTEMS|CARTES|SCAN/},{theme:"agriculture",rex:/AGRICULTURE|PAC/},{theme:"altimetrie",rex:/ELEVATION|SLOPE/},{theme:"parcellaire",rex:/PARCELS|Parcellaire/},{theme:"administratif",rex:/ADMIN/},{theme:"ocsge",rex:/OCSGE/},{theme:"clc",rex:/\.CLC|\.CHA/},{theme:"environnement",rex:/PROTECTEDAREAS|FORETS|DEBROUSSAILLEMENT|LANDCOVER|PROTECTEDSITES|CHASSE/},{theme:"topographie",rex:/RAILWAYS|BUILDINGS|RUNWAYS|COMMONTRANSPORTELEMENTS|UTILITYANDGOVERNMENTALSERVICES|GEOGRAPHICALNAMES\.NAMES|HYDROGRAPHY|TRANSPORTNETWORKS.ROADS$|hedge.hedge/},{theme:"transport",rex:/TRANSPORTNETWORKS\.ROADS|TRANSPORTS\.DRONES|SECUROUTE/},{theme:"economie",rex:/INSEE|AREAMANAGEMENT/},{theme:"agriculture",rex:/LANDUSE|PRAIRIES/},{theme:"satellite",rex:/ORTHO-SAT|SPOT5|RAPIDEYE/},{theme:"orthohisto",rex:/ORTHOPHOTOS\d|ORTHO-EXPRESS-\d/},{theme:"ortho",rex:/ORTHOIMAGERY/}];var m=l})),o.register("fkmMz",(function(t,i){e(t.exports,"default",(()=>s));var r=o("fnScq"),n=class extends r.default{constructor(e){e=e||{},super(),this._auth=e.auth,this.set("dataType",e.dataType||"JSON")}static get(e){var t=new n(e);e.success&&t.on("success",(function(t){e.success(t.response,t)})),e.error&&t.on("error",(function(t){e.error(t)})),t.send(e.url,e.data,e.options)}static getCORS(e,t){var i=new XMLHttpRequest;i.open("GET",e,!0),i.send(),i.onreadystatechange=function(){this.readyState==this.HEADERS_RECEIVED&&t(i.getResponseHeader("Access-Control-Allow-Origin"))}}send(e,t,i){var r=this,o=!1!==(i=i||{}).encode;o&&(e=encodeURI(e));var n="";for(var s in t)t.hasOwnProperty(s)&&void 0!==t[s]&&(n+=(n?"&":"?")+s+"="+(o?encodeURIComponent(t[s]):t[s]));this._request&&!1!==i.abort&&this._request.abort();var a=this._request=new XMLHttpRequest;a.open("GET",e+n,!0),i.timeout&&(a.timeout=i.timeout),this._auth&&a.setRequestHeader("Authorization","Basic "+this._auth),this.dispatchEvent({type:"loadstart"}),a.onload=function(){if(r._request=null,r.dispatchEvent({type:"loadend"}),this.status>=200&&this.status<400){var e;try{if("JSON"===r.get("dataType"))e=JSON.parse(this.response);else e=this.response}catch(e){return void r.dispatchEvent({type:"error",status:0,statusText:"parsererror",error:e,options:i,jqXHR:this})}r.dispatchEvent({type:"success",response:e,status:this.status,statusText:this.statusText,options:i,jqXHR:this})}else r.dispatchEvent({type:"error",status:this.status,statusText:this.statusText,options:i,jqXHR:this})},a.ontimeout=function(){r._request=null,r.dispatchEvent({type:"loadend"}),r.dispatchEvent({type:"error",status:this.status,statusText:"Timeout",options:i,jqXHR:this})},a.onerror=function(){r._request=null,r.dispatchEvent({type:"loadend"}),r.dispatchEvent({type:"error",status:this.status,statusText:this.statusText,options:i,jqXHR:this})},a.send()}},s=n})),o.register("k7cyy",(function(t,i){e(t.exports,"default",(()=>u));var r=o("gAUZM"),n=o("jZquI"),s=o("sxATa"),a=o("gzr8q"),l=o("fkmMz"),m=class extends r.default{constructor(e,t){t=t||{},e.layer&&(e=(t=e).layer);for(var i=new Array,r=new Array,o=(0,n.getWidth)((0,a.get)("EPSG:3857").getExtent())/256,l=0;l<=(t.maxZoom?t.maxZoom:20);l++)i[l]=l,r[l]=o/Math.pow(2,l);var u=new(0,s.default)({origin:[-20037508,20037508],resolutions:r,matrixIds:i});u.minZoom=t.minZoom?t.minZoom:0;var c=[m.defaultAttribution];t.attributions&&(c=t.attributions);var g=t.server||"https://data.geopf.fr/wmts",p=t.gppKey||t.key||"";super({url:m.getServiceURL(g,p),layer:e,matrixSet:"PM",format:t.format?t.format:"image/jpeg",projection:"EPSG:3857",tileGrid:u,style:t.style?t.style:"normal",attributions:c,crossOrigin:void 0===t.crossOrigin?"anonymous":t.crossOrigin,wrapX:!(!1===t.wrapX)}),this._server=g,this._gppKey=p,t.authentication&&this.setTileLoadFunction(m.tileLoadFunctionWithAuthentication(t.authentication,this.getFormat()))}static tileLoadFunctionWithAuthentication(e,t){if(e)return function(i,r){var o=new XMLHttpRequest;o.open("GET",r),o.setRequestHeader("Authorization","Basic "+e),o.responseType="arraybuffer",o.onload=function(){var e=new Uint8Array(this.response),r=new Blob([e],{type:t}),o=(window.URL||window.webkitURL).createObjectURL(r);i.getImage().src=o},o.onerror=function(){i.getImage().src=""},o.send()}}serviceURL(){return m.getServiceURL(this._server,this._gppKey)}getGPPKey(){return this._gppKey}setGPPKey(e,t){this._gppKey=e;var i=this.serviceURL();this.setTileUrlFunction((function(){var e=m.prototype.getTileUrlFunction().apply(this,arguments);if(e){var t=e.split("?");return i+"?"+t[1]}return e})),t&&this.setTileLoadFunction(m.tileLoadFunctionWithAuthentication(t,this.getFormat()))}getFeatureInfoUrl(e,t,i,r){r=r||{},i||(i=this.getProjection());var o=this.tileGrid.getTileCoordForCoordAndResolution(e,t),n=this.getTileUrlFunction()(o,1,i);if(!n)return n;var s=this.tileGrid.getResolution(o[0]),a=this.tileGrid.getTileCoordExtent(o),l=Math.floor((e[0]-a[0])/(s/1)),m=Math.floor((a[3]-e[1])/(s/1));return n.replace(/Request=GetTile/i,"Request=getFeatureInfo")+"&INFOFORMAT="+(r.INFO_FORMAT||"text/plain")+"&I="+l+"&J="+m}getFeatureInfo(e,t,i){var r=this.getFeatureInfoUrl(e,t,null,i);l.default.get({url:r,dataType:i.format||"text/plain",options:{encode:!1},success:function(e){i.callback&&i.callback(e)},error:i.error||function(){}})}};m.defaultAttribution='<a href="https://geoservices.ign.fr/">Géoservices</a> &copy; <a href="http://www.ign.fr/">IGN-France</a>',m.getServiceURL=function(e,t){return"gpf"===t&&(t=""),e||(e=t?"https://data.geopf.fr/private/wmts":"https://data.geopf.fr/wmts"),/geopf/.test(e)?t?e+"?apikey="+t:e:e.replace(/^(https?:\/\/[^/]*)(.*)$/,"$1/"+t+"$2")};var u=m})),o.register("gAUZM",(function(t,i){e(t.exports,"default",(()=>l));var r=o("42VYg"),n=o("9AVh1"),s=(o("jZquI"),o("sxATa"),o("ga5CQ"));o("gzr8q");class a extends r.default{constructor(e){const t=void 0!==e.requestEncoding?e.requestEncoding:"KVP",i=e.tileGrid;let r=e.urls;void 0===r&&void 0!==e.url&&(r=(0,s.expandUrl)(e.url)),super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,urls:r,wrapX:void 0!==e.wrapX&&e.wrapX,transition:e.transition,zDirection:e.zDirection}),this.version_=void 0!==e.version?e.version:"1.0.0",this.format_=void 0!==e.format?e.format:"image/jpeg",this.dimensions_=void 0!==e.dimensions?e.dimensions:{},this.layer_=e.layer,this.matrixSet_=e.matrixSet,this.style_=e.style,this.requestEncoding_=t,this.setKey(this.getKeyForDimensions_()),r&&r.length>0&&(this.tileUrlFunction=(0,s.createFromTileUrlFunctions)(r.map(this.createFromWMTSTemplate.bind(this))))}setUrls(e){this.urls=e;const t=e.join("\n");this.setTileUrlFunction((0,s.createFromTileUrlFunctions)(e.map(this.createFromWMTSTemplate.bind(this))),t)}getDimensions(){return this.dimensions_}getFormat(){return this.format_}getLayer(){return this.layer_}getMatrixSet(){return this.matrixSet_}getRequestEncoding(){return this.requestEncoding_}getStyle(){return this.style_}getVersion(){return this.version_}getKeyForDimensions_(){let e=0;const t=[];for(const i in this.dimensions_)t[e++]=i+"-"+this.dimensions_[i];return t.join("/")}updateDimensions(e){Object.assign(this.dimensions_,e),this.setKey(this.getKeyForDimensions_())}createFromWMTSTemplate(e){const t=this.requestEncoding_,i={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};"KVP"==t&&Object.assign(i,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),e="KVP"==t?(0,n.appendParams)(e,i):e.replace(/\{(\w+?)\}/g,(function(e,t){return t.toLowerCase()in i?i[t.toLowerCase()]:e}));const r=this.tileGrid,o=this.dimensions_;return function(i,s,a){if(i){const s={TileMatrix:r.getMatrixId(i[0]),TileCol:i[1],TileRow:i[2]};Object.assign(s,o);let a=e;return a="KVP"==t?(0,n.appendParams)(a,s):a.replace(/\{(\w+?)\}/g,(function(e,t){return s[t]})),a}}}}var l=a})),o.register("9AVh1",(function(t,i){function r(e,t){const i=[];Object.keys(t).forEach((function(e){null!==t[e]&&void 0!==t[e]&&i.push(e+"="+encodeURIComponent(t[e]))}));const r=i.join("&");return e=e.replace(/[?&]$/,""),(e+=e.includes("?")?"&":"?")+r}e(t.exports,"appendParams",(()=>r))})),o.register("sxATa",(function(t,i){e(t.exports,"default",(()=>a)),e(t.exports,"createFromCapabilitiesMatrixSet",(()=>l));var r=o("co8nU"),n=o("gzr8q");class s extends r.default{constructor(e){super({extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes}),this.matrixIds_=e.matrixIds}getMatrixId(e){return this.matrixIds_[e]}getMatrixIds(){return this.matrixIds_}}var a=s;function l(e,t,i){const r=[],o=[],a=[],l=[],m=[];i=void 0!==i?i:[];const u=e.SupportedCRS,c=(0,n.get)(u),g=c.getMetersPerUnit(),p="ne"==c.getAxisOrientation().substr(0,2);return e.TileMatrix.sort((function(e,t){return t.ScaleDenominator-e.ScaleDenominator})),e.TileMatrix.forEach((function(t){let n;if(n=!(i.length>0)||i.find((function(i){return t.Identifier==i.TileMatrix||!t.Identifier.includes(":")&&e.Identifier+":"+t.Identifier===i.TileMatrix})),n){o.push(t.Identifier);const e=28e-5*t.ScaleDenominator/g,i=t.TileWidth,n=t.TileHeight;p?a.push([t.TopLeftCorner[1],t.TopLeftCorner[0]]):a.push(t.TopLeftCorner),r.push(e),l.push(i==n?i:[i,n]),m.push([t.MatrixWidth,t.MatrixHeight])}})),new s({extent:t,origins:a,resolutions:r,matrixIds:o,tileSizes:l,sizes:m})}}));