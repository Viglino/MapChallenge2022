function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},i={},s=t.parcelRequirecc54;null==s&&((s=function(e){if(e in a)return a[e].exports;if(e in i){var t=i[e];delete i[e];var s={id:e,exports:{}};return a[e]=s,t.call(s.exports,s,s.exports),s.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){i[e]=t},t.parcelRequirecc54=s);var l=s("20LS2"),n=s("kPMpK"),r=s("5Revz"),o=s("eEuqc"),u=s("kRZ7z"),d=s("l9IGS"),h=s("2zf1Y"),c=s("610XN"),f=(l=s("20LS2"),s("4DafG")),m=s("iQyfo"),D=class extends f.default{constructor(e){super({element:m.default.create("DIV",{className:(e.className||"")+" ol-timeline"+(e.target?"":" ol-unselectable ol-control")+(e.zoomButton?" ol-hasbutton":"")}),target:e.target}),this._scrollDiv=m.default.create("DIV",{className:"ol-scroll",parent:this.element}),this._buttons=m.default.create("DIV",{className:"ol-buttons",parent:this.element}),e.zoomButton&&(this.addButton({className:"ol-zoom-in",handleClick:function(){var e=this.get("zoom");e>=1?e++:e=Math.min(1,e+.1),e=Math.round(100*e)/100,this.refresh(e)}.bind(this)}),this.addButton({className:"ol-zoom-out",handleClick:function(){var e=this.get("zoom");e>1?e--:e-=.1,e=Math.round(100*e)/100,this.refresh(e)}.bind(this)})),this._intervalDiv=m.default.create("DIV",{className:"ol-center-date",parent:this.element}),this.element.addEventListener("mouseover",function(){this._select&&this._select.elt.classList.remove("ol-select")}.bind(this));var t=null;this._scrollDiv.addEventListener("scroll",function(){this._setScrollLeft(),t&&(clearTimeout(t),t=null),t=setTimeout(function(){this.dispatchEvent({type:"scroll",date:this.getDate(),dateStart:this.getDate("start"),dateEnd:this.getDate("end")})}.bind(this),e.scrollTimeout||15)}.bind(this)),m.default.scrollDiv(this._scrollDiv,{onmove:function(e){this._moving=e}.bind(this)}),this._tline=[],this._scrollLeft=0,this.set("maxWidth",e.maxWidth||2e3),this.set("minDate",e.minDate||1/0),this.set("maxDate",e.maxDate||-1/0),this.set("graduation",e.graduation),this.set("minZoom",e.minZoom||.2),this.set("maxZoom",e.maxZoom||4),this.setInterval(e.interval),e.getHTML&&(this._getHTML=e.getHTML),e.getFeatureDate&&(this._getFeatureDate=e.getFeatureDate),e.endFeatureDate&&(this._endFeatureDate=e.endFeatureDate),this.setFeatures(e.features||e.source,e.zoom)}setMap(e){super.setMap(e),this.refresh(this.get("zoom")||1,!0)}addButton(e){this.element.classList.add("ol-hasbutton"),m.default.create("BUTTON",{className:e.className||void 0,title:e.title,html:e.html,click:e.handleClick,parent:this._buttons})}setInterval(e){"string"==typeof e&&(e=/s$/.test(e)?1e3*parseFloat(e):/mn$/.test(e)?6e4*parseFloat(e):/h$/.test(e)?36e5*parseFloat(e):/d$/.test(e)?864e5*parseFloat(e):/y$/.test(e)?31536e6*parseFloat(e):0),this.set("interval",e||0),e?this.element.classList.add("ol-interval"):this.element.classList.remove("ol-interval"),this.refresh(this.get("zoom"))}_getHTML(e){return e.get("name")||""}_getFeatureDate(e){return e&&e.get?e.get("date"):null}_endFeatureDate(){}isCollapsed(){return this.element.classList.contains("ol-collapsed")}collapse(e){e?this.element.classList.add("ol-collapsed"):this.element.classList.remove("ol-collapsed"),this.dispatchEvent({type:"collapse",collapsed:this.isCollapsed()})}toggle(){this.element.classList.toggle("ol-collapsed"),this.dispatchEvent({type:"collapse",collapsed:this.isCollapsed()})}setFeatures(e,t){this._features=this._source=null,e instanceof l.default?this._source=e:this._features=e instanceof Array?e:[],this.refresh(t)}getFeatures(){return this._features||this._source.getFeatures()}refresh(e,t){if(this.getMap()){e||(e=this.get("zoom")),e=Math.min(this.get("maxZoom"),Math.max(this.get("minZoom"),e||1)),this.set("zoom",e),this._scrollDiv.innerHTML="";var a,i,s=this.getFeatures(),l=this._tline=[];s.forEach(function(e){(a=this._getFeatureDate(e))&&(a instanceof Date||(a=new Date(a)),this._endFeatureDate&&((i=this._endFeatureDate(e))instanceof Date||(i=new Date(i))),isNaN(a)||l.push({date:a,end:isNaN(i)?null:i,feature:e}))}.bind(this)),l.sort((function(e,t){return e.date<t.date?-1:e.date===t.date?0:1}));var n=m.default.create("DIV",{parent:this._scrollDiv}),r=this._minDate=Math.min(this.get("minDate"),l.length?l[0].date:1/0),o=this._maxDate=Math.max(this.get("maxDate"),l.length?l[l.length-1].date:-1/0);isFinite(r)||(this._minDate=r=new Date),isFinite(o)||(this._maxDate=o=new Date);var u=o-r,d=this.get("maxWidth"),h=this._scale=(u>d?d/u:1)*e;u=(o-(r=this._minDate=this._minDate-10/h))*h,m.default.setStyle(n,{width:u,maxWidth:"unset"}),this._drawTime(n,r,o,h),this.get("interval")?m.default.setStyle(this._intervalDiv,{width:this.get("interval")*h}):m.default.setStyle(this._intervalDiv,{width:""});var c=[],f=m.default.getStyle(this._scrollDiv,"lineHeight"),D=m.default.create("DIV",{className:"ol-features",parent:n});l.forEach(function(e){for(var t=e.date,a=e.elt=m.default.create("DIV",{className:"ol-feature",style:{left:Math.round((t-r)*h)},html:this._getHTML(e.feature),parent:D}),i=a.querySelectorAll("img"),s=0;s<i.length;s++)i[s].ondragstart=function(){return!1};e.end&&m.default.setStyle(a,{minWidth:(e.end-t)*h,width:(e.end-t)*h,maxWidth:"unset"});var l,n,o=m.default.getStyle(a,"left");for(a.addEventListener("click",function(){this._moving||this.dispatchEvent({type:"select",feature:e.feature})}.bind(this)),l=0;(n=c[l])&&!(o>n);l++);c[l]=o+m.default.getStyle(a,"width"),m.default.setStyle(a,{top:l*f})}.bind(this)),this._nbline=c.length,t&&this.setDate(this._minDate,{anim:!1,position:"start"}),this.dispatchEvent({type:"scroll",date:this.getDate(),dateStart:this.getDate("start"),dateEnd:this.getDate("end")})}}_getOffsetFromDate(e){return(e-this._minDate)*this._scale}_getDateFromOffset(e){return e/this._scale+this._minDate}_setScrollLeft(e){this._scrollLeft=e,void 0!==e&&(this._scrollDiv.scrollLeft=e)}_getScrollLeft(){return void 0===this._scrollLeft?this._scrollDiv.scrollLeft:this._scrollLeft}_drawTime(e,t,a,i){var s,l,n,r,o=m.default.create("DIV",{className:"ol-times",parent:e}),u=m.default.getStyle(o,"left"),d=m.default.getStyle(o,"height"),h=new Date(this._minDate).getFullYear();l=(new Date(0).setFullYear(String(h))-new Date(0).setFullYear(String(h-1)))*i;for(var c=Math.round(2*d/l)+1;!((s=new Date(0).setFullYear(h))>this._maxDate);)m.default.create("DIV",{className:"ol-time ol-year",style:{left:this._getOffsetFromDate(s)-u},html:h,parent:o}),h+=c;if(/day|month/.test(this.get("graduation"))&&(l=(new Date(0,0,1).setFullYear(String(h))-new Date(0,0,1).setFullYear(String(h-1)))*i,(r=Math.max(1,Math.round(12/Math.round(l/d/2))))<12))for(h=new Date(this._minDate).getFullYear(),n=r+1;(s=new Date(0,0,1)).setFullYear(h),s.setMonth(n-1),!(s>this._maxDate);)m.default.create("DIV",{className:"ol-time ol-month",style:{left:this._getOffsetFromDate(s)-u},html:s.toLocaleDateString(void 0,{month:"short"}),parent:o}),(n+=r)>12&&(h++,n=r+1);if("day"===this.get("graduation")){l=(new Date(0,1,1)-new Date(0,0,1))*i;var f=Math.max(1,Math.round(31/Math.round(l/d/2)));if(f<31){h=new Date(this._minDate).getFullYear(),n=0;for(var D=f;;)if((s=new Date(0,0,1)).setFullYear(h),s.setMonth(n),s.setDate(D),isNaN(s))++n>12&&(n=1,h++),D=f;else{if(s>this._maxDate)break;if(D>1){var g=this._getOffsetFromDate(s);this._getOffsetFromDate(new Date(h,n+1,1))-g>d&&m.default.create("DIV",{className:"ol-time ol-day",style:{left:g-u},html:D,parent:o})}h=s.getFullYear(),n=s.getMonth(),(D=s.getDate()+f)>new Date(h,n+1,0).getDate()&&(n++,D=f)}}}}setDate(e,t){var a;if(t=t||{},e instanceof Date?a=e:(this.getFeatures().indexOf(e)>=0&&(a=this._getFeatureDate(e)),!a||a instanceof Date||(a=new Date(a)),a&&!isNaN(a)||(a=new Date(String(e)))),!isNaN(a)){!1===t.anim&&this._scrollDiv.classList.add("ol-move");var i=this._getOffsetFromDate(a);if("start"===t.position?i+=m.default.outerWidth(this._scrollDiv)/2-m.default.getStyle(this._scrollDiv,"marginLeft")/2:"end"===t.position&&(i-=m.default.outerWidth(this._scrollDiv)/2-m.default.getStyle(this._scrollDiv,"marginLeft")/2),this._setScrollLeft(i),!1===t.anim&&this._scrollDiv.classList.remove("ol-move"),e)for(var s,l=0;s=this._tline[l];l++)s.feature===e?(s.elt.classList.add("ol-select"),this._select=s):s.elt.classList.remove("ol-select")}}roundDate(e,t){switch(t){case"mn":return new Date(this._roundTo(e,6e4));case"hour":return new Date(this._roundTo(e,36e5));case"day":return new Date(this._roundTo(e,864e5));case"month":return(e=new Date(this._roundTo(e,864e5))).getDate()>15&&(e=new Date(e.setMonth(e.getMonth()+1))),e=e.setDate(1),new Date(e);default:return new Date(e)}}getDate(e,t){var a;switch(t||(t=e),e){case"start":a=this.get("interval")?-m.default.getStyle(this._intervalDiv,"width")/2+m.default.getStyle(this._scrollDiv,"marginLeft")/2:-m.default.outerWidth(this._scrollDiv)/2+m.default.getStyle(this._scrollDiv,"marginLeft")/2;break;case"end":a=this.get("interval")?m.default.getStyle(this._intervalDiv,"width")/2-m.default.getStyle(this._scrollDiv,"marginLeft")/2:m.default.outerWidth(this._scrollDiv)/2-m.default.getStyle(this._scrollDiv,"marginLeft")/2;break;default:a=0}var i=this._getDateFromOffset(this._getScrollLeft()+a);return i=this.roundDate(i,t),new Date(i)}_roundTo(e,t){return Math.round(e/t)*t}getStartDate(){return new Date(this.get("minDate"))}getEndDate(){return new Date(this.get("maxDate"))}},g=s("jZUWm");var v=s("1B70O");(0,g.default)(e('<div> <h2> Day 5: Ukraine </h2> <p> Use <a href="http://viglino.github.io/ol-ext/doc/doc-pages/ol.control.Timeline.html" target="_new"> ol-ext Timeline control </a> to animate Ukraine boundaries between 1924 and 1954. </p> <p> Source <a href="https://fr.wikipedia.org/wiki/Histoire_de_l%27Ukraine" target="_new">Wikipédia</a> - <a href="https://www.axl.cefan.ulaval.ca/europe/ukraine-2histoire.htm" target="_new">Ukraine : Données historiques</a> </p> </div>'));const _=new(0,o.default)({source:new(0,u.default)});v.default.addLayer(_),v.default.getView().setZoom(6),v.default.getView().setCenter([3503920,6228683]);let p=1922;const w=new(0,d.default)({fill:new(0,h.default)({color:"#FFDD00"})}),y=new(0,d.default)({fill:new(0,h.default)({color:"#0057B7"})});const F=new(0,c.default)({title:"Ukraine",className:"ukr",source:new(0,l.default)({url:"./UKR-ADM.geojson",format:new(0,n.default),attributions:[]}),style:function(e){return e.get("before")&&p>=e.get("before")||e.get("after")&&p<e.get("after")?[]:e.get("before")||e.get("after")?y:w}});function L(e){p=e,document.body.querySelector("h2").innerText=e,document.body.querySelector(".info").innerHTML=b[e]||"",F.getSource().changed()}v.default.addLayer(F),F.addFilter(new(0,r.default)({blend:"multiply"}));const S=[{date:1922,info:"En <b>1922</b>, la République socialiste soviétique d'Ukraine, est créée par la Russie soviétique en réunissant l'Ukraine de l'Ouest et l'Ukraine du Sud-Est."},{date:1924,info:""},{date:1939,info:"En <b>1939</b>, l'URSS accorde à l'Ukraine un territoire pris sur la Pologne : la Volynie et la Galicie"},{date:1940,info:"En <b>1940</b>, on y ajouta la Bucovine (Tchernivtsi) et le Boudjak (sud-ouest d'Odessa), deux territoires «cédés» par la Roumanie"},{date:1945,info:"L'URSS transfére en <b>1945</b> un territoire pris sur la Tchécoslovaquie à l'Ukraine: la Ruthénie (Transcarpathie). En 1948, l'URSS annexe l'île roumaine des Serpents (\"Ostrov Zmeïnyi\")"},{date:1954,info:"En <b>1954</b>, le président Nikita Khrouchtchev donna la Crimée (qui sera annexée à la Russie en 2014) à l'Ukraine, officiellement pour commémorer la réunification de la Russie et de l’Ukraine."}],b={};S.forEach(((e,t)=>{b[e.date]=e.info,S[t]={text:e.date,info:e.info,date:new Date(e.date+"/01/01"),endDate:new Date(e.date+"/12/31")}}));let x="";for(let e=1919;e<1964;e++)b[e]?x=b[e]:b[e]=x;let M=new D({className:"ol-pointer",features:S,graduation:"year",minDate:new Date("1920/01/01"),maxDate:new Date("1964/12/31"),maxWidth:1500,getHTML:function(e){return e.text},getFeatureDate:function(e){return e.date},endFeatureDate:function(e){return e.endDate}});v.default.addControl(M),setTimeout((function(){M.setDate(p)})),M.addButton({className:"go",title:"GO!",handleClick:function(){E()}}),M.on("scroll",(function(e){L(M.roundDate(e.date).getFullYear())}));var N=!1,T=new Date("1920"),k=new Date("1960");function E(e){var t=M.getDate();if(N&&clearTimeout(N),!e){if(t>T&&t<k&&N)return N=!1,void M.element.classList.remove("running");t>k&&(t=T)}t>k?M.element.classList.remove("running"):(t<T&&(t=T),t=new Date(t.getTime()+126144e5),M.setDate(t,{anim:!1}),M.element.classList.add("running"),N=setTimeout((function(){E(!0)}),100))}window.setDate=L;