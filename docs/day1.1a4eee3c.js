var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},n=e.parcelRequirecc54;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in i){var n=i[e];delete i[e];var s={id:e,exports:{}};return t[e]=s,n.call(s.exports,s,s.exports),s.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){i[e]=t},e.parcelRequirecc54=n),n.register("VCbYw",(function(e,t){var i,s,o,r;i=e.exports,s="default",o=()=>C,Object.defineProperty(i,s,{get:o,set:r,enumerable:!0,configurable:!0});var a=n("fnScq"),h=n("2u1lG"),d=n("erROg"),l=n("jZquI"),g=n("bsgMw"),p=n("cgxQK");const u="element",f="map",m="offset",c="position",P="positioning";class v extends a.default{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=void 0===e.insertFirst||e.insertFirst,this.stopEvent=void 0===e.stopEvent||e.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==e.className?e.className:"ol-overlay-container "+d.CLASS_SELECTABLE,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=!0===e.autoPan?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(u,this.handleElementChanged),this.addChangeListener(f,this.handleMapChanged),this.addChangeListener(m,this.handleOffsetChanged),this.addChangeListener(c,this.handlePositionChanged),this.addChangeListener(P,this.handlePositioningChanged),void 0!==e.element&&this.setElement(e.element),this.setOffset(void 0!==e.offset?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),void 0!==e.position&&this.setPosition(e.position)}getElement(){return this.get(u)}getId(){return this.id}getMap(){return this.get(f)||null}getOffset(){return this.get(m)}getPosition(){return this.get(c)}getPositioning(){return this.get(P)}handleElementChanged(){(0,p.removeChildren)(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&((0,p.removeNode)(this.element),(0,g.unlistenByKey)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=(0,g.listen)(e,h.default.POSTRENDER,this.render,this),this.updatePixelPosition();const t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set(u,e)}setMap(e){this.set(f,e)}setOffset(e){this.set(m,e)}setPosition(e){this.set(c,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const t=this.getMap();if(!t||!t.getTargetElement()||!this.get(c))return;const i=this.getRect(t.getTargetElement(),t.getSize()),n=this.getElement(),s=this.getRect(n,[(0,p.outerWidth)(n),(0,p.outerHeight)(n)]),o=void 0===(e=e||{}).margin?20:e.margin;if(!(0,l.containsExtent)(i,s)){const n=s[0]-i[0],r=i[2]-s[2],a=s[1]-i[1],h=i[3]-s[3],d=[0,0];if(n<0?d[0]=n-o:r<0&&(d[0]=Math.abs(r)+o),a<0?d[1]=a-o:h<0&&(d[1]=Math.abs(h)+o),0!==d[0]||0!==d[1]){const i=t.getView().getCenterInternal(),n=t.getPixelFromCoordinateInternal(i);if(!n)return;const s=[n[0]+d[0],n[1]+d[1]],o=e.animation||{};t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(s),duration:o.duration,easing:o.easing})}}}getRect(e,t){const i=e.getBoundingClientRect(),n=i.left+window.pageXOffset,s=i.top+window.pageYOffset;return[n,s,n+t[0],s+t[1]]}setPositioning(e){this.set(P,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),t=this.getPosition();if(!e||!e.isRendered()||!t)return void this.setVisible(!1);const i=e.getPixelFromCoordinate(t),n=e.getSize();this.updateRenderedPosition(i,n)}updateRenderedPosition(e,t){const i=this.element.style,n=this.getOffset(),s=this.getPositioning();this.setVisible(!0);let o="0%",r="0%";"bottom-right"==s||"center-right"==s||"top-right"==s?o="-100%":"bottom-center"!=s&&"center-center"!=s&&"top-center"!=s||(o="-50%"),"bottom-left"==s||"bottom-center"==s||"bottom-right"==s?r="-100%":"center-left"!=s&&"center-center"!=s&&"center-right"!=s||(r="-50%");const a=`translate(${o}, ${r}) translate(${Math.round(e[0]+n[0])+"px"}, ${Math.round(e[1]+n[1])+"px"})`;this.rendered.transform_!=a&&(this.rendered.transform_=a,i.transform=a)}getOptions(){return this.options}}var C=v}));