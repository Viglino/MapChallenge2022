function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},i={},r=t.parcelRequirecc54;null==r&&((r=function(e){if(e in s)return s[e].exports;if(e in i){var t=i[e];delete i[e];var r={id:e,exports:{}};return s[e]=r,t.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){i[e]=t},t.parcelRequirecc54=r);var o=r("6gELa");r("gvREW");var a=r("1B70O"),n=r("jZUWm");var h=r("pMeEw"),p=class extends h.default{constructor(e){super({handleDownEvent:function(e){return this._setPosition(e)},handleMoveEvent:function(e){return this._setPosition(e)}}),this.layers_=[],this.precomposeBind_=this.precompose_.bind(this),this.postcomposeBind_=this.postcompose_.bind(this),e=e||{},this.pos=!1,this.radius=e.radius||100,e.layers&&this.addLayer(e.layers),this.setActive(!0)}setMap(e){var t;if(this.getMap()){for(t=0;t<this.layers_.length;t++)this.layers_[t].un(["precompose","prerender"],this.precomposeBind_),this.layers_[t].un(["postcompose","postrender"],this.postcomposeBind_);try{this.getMap().renderSync()}catch(e){}}if(super.setMap(e),e){for(t=0;t<this.layers_.length;t++)this.layers_[t].on(["precompose","prerender"],this.precomposeBind_),this.layers_[t].on(["postcompose","postrender"],this.postcomposeBind_);try{e.renderSync()}catch(e){}}}setRadius(e){if(this.radius=e,this.getMap())try{this.getMap().renderSync()}catch(e){}}getRadius(){return this.radius}addLayer(e){e instanceof Array||(e=[e]);for(var t=0;t<e.length;t++){if(this.getMap()){e[t].on(["precompose","prerender"],this.precomposeBind_),e[t].on(["postcompose","postrender"],this.postcomposeBind_);try{this.getMap().renderSync()}catch(e){}}this.layers_.push(e[t])}}removeLayers(){this.removeLayer(this.layers_)}removeLayer(e){e instanceof Array||(e=[e]);for(var t=0;t<e.length;t++){var s;for(s=0;s<this.layers_.length&&this.layers_[s]!==e[t];s++);s!=this.layers_.length&&this.getMap()&&(this.layers_[s].un(["precompose","prerender"],this.precomposeBind_),this.layers_[s].un(["postcompose","postrender"],this.postcomposeBind_),this.layers_.splice(s,1))}if(this.getMap())try{this.getMap().renderSync()}catch(e){}}setPosition(e){if(this.getMap()){this.pos=this.getMap().getPixelFromCoordinate(e);try{this.getMap().renderSync()}catch(e){}}}getPosition(){return this.pos?this.getMap().getCoordinateFromPixel(this.pos):null}setPixelPosition(e){if(this.pos=e,this.getMap())try{this.getMap().renderSync()}catch(e){}}getPixelPosition(){return this.pos}_setPosition(e){if(("pointermove"!==e.type||"onclick"!==this.get("action"))&&(e.pixel&&(this.pos=e.pixel),this.getMap()))try{this.getMap().renderSync()}catch(e){}}precompose_(e){if(this.getActive()){var t=e.context,s=e.frameState.pixelRatio;t.save(),t.beginPath();var i=[this.pos[0],this.pos[1]],r=this.radius,o=e.inversePixelTransform;o?r=(i=[i[0]*o[0]-i[1]*o[1]+o[4],-i[0]*o[2]+i[1]*o[3]+o[5]])[0]-((this.pos[0]-r)*o[0]-this.pos[1]*o[1]+o[4]):(i[0]*=s,i[1]*=s,r*=s),t.arc(i[0],i[1],r,0,2*Math.PI),t.clip()}}postcompose_(e){this.getActive()&&e.context.restore()}setActive(e){if(e!==this.getActive()&&(super.setActive(e),this.layers_)){var t;if(e)for(t=0;t<this.layers_.length;t++)this.layers_[t].on(["precompose","prerender"],this.precomposeBind_),this.layers_[t].on(["postcompose","postrender"],this.postcomposeBind_);else for(t=0;t<this.layers_.length;t++)this.layers_[t].un(["precompose","prerender"],this.precomposeBind_),this.layers_[t].un(["postcompose","postrender"],this.postcomposeBind_);if(this.getMap())try{this.getMap().renderSync()}catch(e){}}}},c=r("4EGw0"),l=class extends p{constructor(e){super(e)}precompose_(e){if(this.getActive()){var t=e.context,s=e.frameState.pixelRatio;if(t.save(),!this.pos)return t.beginPath(),t.moveTo(0,0),void t.clip();var i=[this.pos[0],this.pos[1]],r=e.inversePixelTransform;r?i=[i[0]*r[0]-i[1]*r[1]+r[4],-i[0]*r[2]+i[1]*r[3]+r[5]]:(i[0]*=s,i[1]*=s),this.frame||(this.frame=e.frameState.time);var o=e.frameState.time-this.frame;this.frame=e.frameState.time,i=this._getCenter(i,o);var a=this._calculate(o),n=a[0];t.beginPath(),t.moveTo(i[0]+n[0],i[1]+n[1]);for(var h=1;n=a[h];h++)t.lineTo(i[0]+n[0],i[1]+n[1]);t.clip(),e.frameState.animate=!0}}_getCenter(e,t){if(this._center){var s=this.get("stiffness")||20,i=-1*(this.get("damping")||7),r=Math.max(this.get("mass")||1,.1),o=Math.min(t/1e3,1/30),a=[s*(e[0]-this._center[0]),s*(e[1]-this._center[1])],n=[i*this._velocity[0],i*this._velocity[1]],h=[(a[0]+n[0])/r,(a[1]+n[1])/r];this._velocity[0]+=h[0]*o,this._velocity[1]+=h[1]*o,this._center[0]+=this._velocity[0]*o,this._center[1]+=this._velocity[1]*o}else this._center=e,this._velocity=[0,0];return this._center}_calculate(e){var t,s=this.get("points")||10;if(!this._waves||this._waves.length!==s)for(this._waves=[],t=0;t<s;t++)this._waves.push({angle:Math.random()*Math.PI,noise:Math.random()});var i=[],r=(this._velocity[0]*this._velocity[0]+this._velocity[1]*this._velocity[1])/500;for(this._rotation=(this._rotation||0)+(this._velocity[0]>0?1:-1)*Math.min(.015,r/7e4*e),t=0;t<s;t++){var o=2*t*Math.PI/s+this._rotation,a=this.radius+Math.min(this.radius,r),n=Math.cos(this._waves[t].angle)*a/4*this._waves[t].noise*(this.get("amplitude")||1);i.push([(this.radius+n)*Math.cos(o),(this.radius+n)*Math.sin(o)]),this._waves[t].angle+=(Math.PI+Math.random()+r/200)/350*e*(this.get("fuss")||1),this._waves[t].noise=Math.min(1,Math.max(0,this._waves[t].noise+.1*(Math.random()-.5)*(this.get("fuss")||1)))}return i.push(i[0]),(0,c.default)(i,{tension:this.get("tension")})}};(0,n.default)(e('<div> <h2> Day 23: Blob! </h2> <p> There is a <a href="http://viglino.github.io/ol-ext/doc/doc-pages/ol.interaction.Blob.html" target="_new">blob</a> on my map! </p> </div>'));const d=new(0,o.default)({layer:"GEOGRAPHICALGRIDSYSTEMS.PLANIGNV2"}),_=new(0,o.default)({layer:"ORTHOIMAGERY.ORTHOPHOTOS"});a.default.addLayer(_),a.default.addLayer(d),a.default.getView().setZoom(16),a.default.getView().setCenter([-172673,5976786]);const f=new l({radius:80,layers:d});a.default.addInteraction(f);