function t(t,e,i,s){Object.defineProperty(t,e,{get:i,set:s,enumerable:!0,configurable:!0})}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},s={},n=e.parcelRequirecc54;null==n&&((n=function(t){if(t in i)return i[t].exports;if(t in s){var e=s[t];delete s[t];var n={id:t,exports:{}};return i[t]=n,e.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){s[t]=e},e.parcelRequirecc54=n),n.register("5VeMq",(function(e,i){t(e.exports,"default",(()=>a));var s=n("VCbYw"),o=n("iQyfo"),a=class extends s.default{constructor(t){t=t||{};var e=document.createElement("div");t.element=e,super(t),"number"==typeof t.offsetBox?this.offsetBox=[t.offsetBox,t.offsetBox,t.offsetBox,t.offsetBox]:this.offsetBox=t.offsetBox,this.closeBox=t.closeBox,this.onclose=t.onclose,this.onshow=t.onshow,o.default.create("BUTTON",{className:"closeBox"+(t.closeBox?" hasclosebox":""),type:"button",click:function(){this.hide()}.bind(this),parent:e}),!1!==t.anchor&&o.default.create("DIV",{className:"anchor",parent:e}),this.content=o.default.create("DIV",{html:t.html||"",className:"ol-popup-content",parent:e}),t.minibar&&o.default.scrollDiv(this.content,{vertical:!0,mousewheel:!0,minibar:!0}),t.stopEvent&&(e.addEventListener("mousedown",(function(t){t.stopPropagation()})),e.addEventListener("touchstart",(function(t){t.stopPropagation()}))),this._elt=e,this.setPositioning(t.positioning||"auto"),this.setPopupClass(t.popupClass||t.className||"default"),t.anim&&this.addPopupClass("anim"),t.position&&setTimeout(function(){this.show(t.position)}.bind(this))}getClassPositioning(){var t="",e=this.getPositioning();return/bottom/.test(e)&&(t+="ol-popup-bottom "),/top/.test(e)&&(t+="ol-popup-top "),/left/.test(e)&&(t+="ol-popup-left "),/right/.test(e)&&(t+="ol-popup-right "),/^center/.test(e)&&(t+="ol-popup-middle "),/center$/.test(e)&&(t+="ol-popup-center "),t}setClosebox(t){this.closeBox=t,t?this.element.classList.add("hasclosebox"):this.element.classList.remove("hasclosebox")}setPopupClass(t){var e=["ol-popup"];this.getVisible()&&e.push("visible"),this.element.className="";var i=this.getClassPositioning().split(" ").filter((function(t){return t.length>0}));t?t.split(" ").filter((function(t){return t.length>0})).forEach((function(t){e.push(t)})):e.push("default"),i.forEach((function(t){e.push(t)})),this.closeBox&&e.push("hasclosebox"),this.element.classList.add.apply(this.element.classList,e)}addPopupClass(t){this.element.classList.add(t)}removePopupClass(t){this.element.classList.remove(t)}setPositioning(t){void 0!==t&&(/auto/.test(t)?(this.autoPositioning=t.split("-"),1==this.autoPositioning.length&&(this.autoPositioning[1]="auto")):this.autoPositioning=!1,"center"==(t=t.replace(/auto/g,"center"))&&(t="bottom-center"),this.setPositioning_(t))}setPositioning_(t){if(this.element){super.setPositioning(t),this.element.classList.remove("ol-popup-top","ol-popup-bottom","ol-popup-left","ol-popup-right","ol-popup-center","ol-popup-middle");var e=this.getClassPositioning().split(" ").filter((function(t){return t.length>0}));this.element.classList.add.apply(this.element.classList,e)}}getVisible(){return this.element.classList.contains("visible")}show(t,e){e||"string"!=typeof t||(e=t,t=null),!0===t&&(t=this.getPosition());var i=this,s=this.getMap();if(s&&(e&&e!==this.prevHTML&&(this.prevHTML=e,this.content.innerHTML="",e instanceof Element?this.content.appendChild(e):o.default.create("DIV",{html:e,parent:this.content}),Array.prototype.slice.call(this.content.querySelectorAll("img")).forEach((function(t){t.addEventListener("load",(function(){try{s.renderSync()}catch(t){}i.content.dispatchEvent(new Event("scroll"))}))}))),t)){if(this.autoPositioning){var n=s.getPixelFromCoordinate(t),a=s.getSize(),r=[];"auto"==this.autoPositioning[0]?r[0]=n[1]<a[1]/3?"top":"bottom":r[0]=this.autoPositioning[0],r[1]=n[0]<2*a[0]/3?"left":"right",this.setPositioning_(r[0]+"-"+r[1]),this.offsetBox&&this.setOffset([this.offsetBox["left"==r[1]?2:0],this.offsetBox["top"==r[0]?3:1]])}else this.offsetBox&&this.setOffset(this.offsetBox);this.setPosition(t),this.element.parentElement.style.display="","function"==typeof this.onshow&&this.onshow(),this.dispatchEvent({type:"show"}),this._tout=setTimeout((function(){i.element.classList.add("visible")}),0)}}hide(){null!=this.getPosition()&&("function"==typeof this.onclose&&this.onclose(),this.setPosition(void 0),this._tout&&clearTimeout(this._tout),this.element.classList.remove("visible"),this.dispatchEvent({type:"hide"}))}}})),n.register("VCbYw",(function(e,i){t(e.exports,"default",(()=>m));var s=n("fnScq"),o=n("2u1lG"),a=n("erROg"),r=n("jZquI"),l=n("bsgMw"),h=n("cgxQK");const p="element",d="map",c="offset",u="position",f="positioning";class g extends s.default{constructor(t){super(),this.on,this.once,this.un,this.options=t,this.id=t.id,this.insertFirst=void 0===t.insertFirst||t.insertFirst,this.stopEvent=void 0===t.stopEvent||t.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==t.className?t.className:"ol-overlay-container "+a.CLASS_SELECTABLE,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=!0===t.autoPan?{}:t.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(p,this.handleElementChanged),this.addChangeListener(d,this.handleMapChanged),this.addChangeListener(c,this.handleOffsetChanged),this.addChangeListener(u,this.handlePositionChanged),this.addChangeListener(f,this.handlePositioningChanged),void 0!==t.element&&this.setElement(t.element),this.setOffset(void 0!==t.offset?t.offset:[0,0]),this.setPositioning(t.positioning||"top-left"),void 0!==t.position&&this.setPosition(t.position)}getElement(){return this.get(p)}getId(){return this.id}getMap(){return this.get(d)||null}getOffset(){return this.get(c)}getPosition(){return this.get(u)}getPositioning(){return this.get(f)}handleElementChanged(){(0,h.removeChildren)(this.element);const t=this.getElement();t&&this.element.appendChild(t)}handleMapChanged(){this.mapPostrenderListenerKey&&((0,h.removeNode)(this.element),(0,l.unlistenByKey)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const t=this.getMap();if(t){this.mapPostrenderListenerKey=(0,l.listen)(t,o.default.POSTRENDER,this.render,this),this.updatePixelPosition();const e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(t){this.set(p,t)}setMap(t){this.set(d,t)}setOffset(t){this.set(c,t)}setPosition(t){this.set(u,t)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(t){const e=this.getMap();if(!e||!e.getTargetElement()||!this.get(u))return;const i=this.getRect(e.getTargetElement(),e.getSize()),s=this.getElement(),n=this.getRect(s,[(0,h.outerWidth)(s),(0,h.outerHeight)(s)]),o=void 0===(t=t||{}).margin?20:t.margin;if(!(0,r.containsExtent)(i,n)){const s=n[0]-i[0],a=i[2]-n[2],r=n[1]-i[1],l=i[3]-n[3],h=[0,0];if(s<0?h[0]=s-o:a<0&&(h[0]=Math.abs(a)+o),r<0?h[1]=r-o:l<0&&(h[1]=Math.abs(l)+o),0!==h[0]||0!==h[1]){const i=e.getView().getCenterInternal(),s=e.getPixelFromCoordinateInternal(i);if(!s)return;const n=[s[0]+h[0],s[1]+h[1]],o=t.animation||{};e.getView().animateInternal({center:e.getCoordinateFromPixelInternal(n),duration:o.duration,easing:o.easing})}}}getRect(t,e){const i=t.getBoundingClientRect(),s=i.left+window.pageXOffset,n=i.top+window.pageYOffset;return[s,n,s+e[0],n+e[1]]}setPositioning(t){this.set(f,t)}setVisible(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)}updatePixelPosition(){const t=this.getMap(),e=this.getPosition();if(!t||!t.isRendered()||!e)return void this.setVisible(!1);const i=t.getPixelFromCoordinate(e),s=t.getSize();this.updateRenderedPosition(i,s)}updateRenderedPosition(t,e){const i=this.element.style,s=this.getOffset(),n=this.getPositioning();this.setVisible(!0);let o="0%",a="0%";"bottom-right"==n||"center-right"==n||"top-right"==n?o="-100%":"bottom-center"!=n&&"center-center"!=n&&"top-center"!=n||(o="-50%"),"bottom-left"==n||"bottom-center"==n||"bottom-right"==n?a="-100%":"center-left"!=n&&"center-center"!=n&&"center-right"!=n||(a="-50%");const r=`translate(${o}, ${a}) translate(${Math.round(t[0]+s[0])+"px"}, ${Math.round(t[1]+s[1])+"px"})`;this.rendered.transform_!=r&&(this.rendered.transform_=r,i.transform=r)}getOptions(){return this.options}}var m=g}));